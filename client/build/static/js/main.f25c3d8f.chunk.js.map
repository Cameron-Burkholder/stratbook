{"version":3,"sources":["messages/messages.js","messages/emails.js","components/pages/Home.js","components/partials/Loading.js","components/partials/LoginForm.js","components/api/LoginAPI.js","components/pages/Login.js","components/pages/Logout.js","components/partials/RegisterForm.js","components/api/RegisterAPI.js","components/pages/Register.js","components/partials/UpdatePlatformForm.js","components/api/UpdatePlatformAPI.js","components/partials/UpdateUsernameForm.js","components/api/UpdateUsernameAPI.js","components/partials/UpdateEmailForm.js","components/api/UpdateEmailAPI.js","components/partials/UpdatePasswordForm.js","components/api/UpdatePasswordAPI.js","components/partials/AttackerRoleForm.js","components/api/SetAttackerRoleAPI.js","components/partials/AttackersForm.js","components/api/SetAttackersAPI.js","components/partials/DefenderRoleForm.js","components/api/SetDefenderRoleAPI.js","components/partials/DefendersForm.js","components/api/SetDefendersAPI.js","components/api/PushNotificationsAPI.js","components/api/DeleteUserAPI.js","components/pages/User.js","components/partials/ProgressCircle.js","components/api/GeneralStatisticsAPI.js","components/api/SeasonalStatisticsAPI.js","components/partials/OperatorStatistics.js","components/api/OperatorStatisticsAPI.js","components/pages/Dashboard.js","components/partials/CreateTeamForm.js","components/api/CreateTeamAPI.js","components/partials/JoinTeamForm.js","components/api/JoinTeamAPI.js","components/partials/ErrorLoading.js","components/partials/TeamMember.js","components/api/ViewTeamAPI.js","components/partials/TeamMemberStats.js","components/api/ViewTeamStatisticsAPI.js","components/api/LeaveTeamAPI.js","components/pages/Team.js","components/api/UpdateTeamNameAPI.js","components/api/TeamAnnouncementAPI.js","components/partials/ManageTeamMember.js","components/api/ManageTeamAPI.js","components/api/DeleteTeamAPI.js","components/api/BlockedUsersAPI.js","components/pages/ManageTeam.js","components/partials/Toolbar.js","components/partials/Dropdown.js","components/partials/Sidebar.js","components/partials/FloorSelector.js","components/partials/ZoomSelector.js","components/partials/Pagination.js","components/partials/DragItem.js","components/partials/PositionOverlay.js","components/partials/BlueprintForm.js","components/partials/Objectives.js","components/partials/Canvas.js","components/partials/Lineup.js","components/partials/Editor.js","components/partials/ViewerToolbar.js","components/partials/ViewerSidebar.js","components/partials/ViewerDragItem.js","components/partials/ViewerPositionOverlay.js","components/partials/ViewerBlueprintForm.js","components/partials/ViewerObjectives.js","components/partials/ViewerCanvas.js","components/partials/ViewerLineup.js","components/partials/Viewer.js","components/partials/LoadingModal.js","components/api/ViewStrategiesAPI.js","components/pages/Strategies.js","components/api/CreateStrategiesAPI.js","components/api/EditStrategiesAPI.js","components/pages/EditStrategies.js","components/pages/NotFound.js","components/partials/ForgotPasswordForm.js","components/api/ForgotPasswordAPI.js","components/pages/ForgotPassword.js","components/partials/ResetPasswordForm.js","components/api/ResetPasswordAPI.js","components/pages/ResetPassword.js","components/partials/UserDropdown.js","components/partials/Navigation.js","components/partials/Alert.js","components/partials/Header.js","components/partials/Footer.js","App.js","serviceWorker.js","index.js","messages/errors.js","data.js"],"names":["module","exports","ANNOUNCEMENT_SENT","status","message","ATTACKER_ROLE_SET","ATTACKERS_SET","BLOCKED_USERS_FOUND","CANNOT_REMOVE_SELF","DEFENDER_ROLE_SET","DEFENDERS_SET","EXISTING_USER","GENERAL_STATS_FOUND","INCORRECT_PASSWORD","INVALID_ANNOUNCEMENT","INVALID_ATTACKER_ROLE","INVALID_ATTACKERS","INVALID_BLOCK_USER_INPUT","INVALID_DEFENDER_ROLE","INVALID_DEFENDERS","INVALID_EMAIL","INVALID_JOIN_CODE","INVALID_LOGIN","INVALID_MMR","INVALID_PASSWORD_INPUT","INVALID_REGISTRATION","INVALID_RESET_TOKEN","INVALID_PLATFORM","INVALID_STATUS_INPUT","INVALID_TEAM_INPUT","INVALID_TEAM_PLATFORM","INVALID_TEAM_STATUS","INVALID_USERNAME","MAP_ADDED","MAP_DELETED","MAP_DOES_NOT_EXIST","MAP_EXISTS","MAP_FOUND","MAP_NOT_FOUND","MAP_UPDATED","OPERATOR_STATS_FOUND","PASSWORD_RESET_LINK_SENT","PERMISSION_DENIED","PLATFORM_DOES_NOT_MATCH","PROFANE_INPUT","PROFANE_TEAM_INPUT","PUSH_SUBSCRIBE","SEASONAL_STATS_FOUND","STRATEGIES_FOUND","TEAM_CREATED","TEAM_DELETED","TEAM_EXISTS","TEAM_FOUND","TEAM_JOINED","TEAM_LEFT","TEAM_MMR_UPDATED","TEAM_NAME_UPDATED","TEAM_NOT_FOUND","TEAM_PLATFORM_UPDATED","TEAM_STATS_FOUND","TOKEN_ISSUED","USER_AND_TEAM_DELETED","USER_BLOCKED","USER_UNBLOCKED","USER_DELETED","USER_HAS_NO_TEAM","USER_HAS_TEAM","USER_NOT_FOUND","errors","email","USER_NOT_VERIFIED","ANNOUNCEMENT","body","email_body","EMAIL_UPDATED","PASSWORD_RESET","PASSWORD_UPDATED","PLATFORM_UPDATED","TEAM_DISBANDED","TEAM_STATUS_UPDATED","USER_JOINED_TEAM","USER_LEFT_TEAM","USER_REGISTERED","USER_STATUS_UPDATED","USERNAME_UPDATED","VERIFY_ACCOUNT","Home","className","id","Loading","viewBox","cx","cy","r","fill","strokeWidth","strokeMiterlimit","LoginForm","props","onSubmit","htmlFor","onChange","value","type","required","user","password","to","loading","LoginAPI","bind","state","e","this","setState","target","preventDefault","component","axios","post","then","response","data","login","token","expiresIn","alert","catch","error","console","log","ERROR_LOGIN","React","Component","Login","Logout","logout","RegisterForm","username","platform","password1","password2","RegisterAPI","redirect","ERROR_REGISTER","platform2","Register","UpdatePlatformForm","UpdatePlatformAPI","defaults","headers","common","getAuthToken","patch","updateAuthToken","ERROR_PLATFORM","UpdateUsernameForm","UpdateUsernameAPI","ERROR_USERNAME","UpdateEmailForm","UpdateEmailAPI","ERROR_EMAIL","UpdatePasswordForm","UpdatePasswordAPI","ERROR_UPDATE_PASSWORD","AttackerRoleForm","role","attacker_role","SetAttackerRoleAPI","ERROR_ATTACKER_ROLE","AttackersForm","attacker_buttons","ATTACKERS","map","attacker","index","key","attackers","indexOf","toLowerCase","checked","alt","src","SetAttackersAPI","new_attackers","splice","ERROR_ATTACKERS","DefenderRoleForm","defender_role","SetDefenderRoleAPI","ERROR_DEFENDER_ROLE","DefendersForm","defender_buttons","DEFENDERS","defender","defenders","SetDefendersAPI","new_defenders","ERROR_DEFENDERS","config","PushNotificationsAPI","urlBase64ToUint8Array","sendSubscription","subscribeUser","base64String","base64","repeat","length","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","subscription","JSON","stringify","ERROR_PUSH","navigator","serviceWorker","ready","registration","pushManager","Notification","requestPermission","permission","getSubscription","existedSubscription","subscribe","applicationServerKey","process","userVisibleOnly","newSubscription","onClick","DeleteUserAPI","confirm","delete","ERROR_DELETE_USER","User","ProgressCircle","count","counted","counter","setInterval","label","Math","floor","GeneralStatisticsAPI","fetchStats","stats","undefined","hasLoaded","get","avatar_url_256","progression","level","general","playtime","games_played","kd","kills","deaths","round","headshots","wl","wins","losses","queue","ranked","SeasonalStatisticsAPI","season_arr","CURRENT_SEASON","split","season","charAt","toUpperCase","slice","seasons","regions","ncsa","rank_text","mmr","last_match_mmr_change","OperatorStatistics","image","name","hsp","OperatorStatisticsAPI","sortOperators","searchOperators","toggleRows","search","rows","operators","sort","a","b","operator","includes","push","normalize","placeholder","Dashboard","CreateTeamForm","CreateTeamAPI","ERROR_CREATE_TEAM","JoinTeamForm","join_code","JoinTeamAPI","ERROR_JOIN_TEAM","ErrorLoading","href","TeamMember","ViewTeamAPI","fetchTeamData","team","team_data","ERROR_VIEW_TEAM","contents","teamMembers","admins","admin","editors","editor","members","member","TeamMemberStats","mmrchange","ViewTeamStatisticsAPI","fetchTeamStats","ERROR_TEAM_STATS","LeaveTeamAPI","ERROR_LEAVE_TEAM","Team","team_code","UpdateTeamNameAPI","fetchTeamName","currentName","newName","ERROR_UPDATE_TEAM_NAME","TeamAnnouncementAPI","announcement","ERROR_ANNOUNCE","ManageTeamMember","updateUserStatus","blockUser","ManageTeamAPI","updateTeamStatus","changeTeamPlatform","changeTeamMMR","open","ERROR_TEAM","ERROR_UPDATE_USER_STATUS","setTimeout","location","reload","ERROR_BLOCK_USER","ERROR_UPDATE_TEAM_STATUS","ERROR_UPDATE_TEAM_PLATFORM","RANKS","ERROR_UPDATE_TEAM_MMR","MMR_THRESHOLDS","DeleteTeamAPI","ERROR_DELETE_TEAM","BlockedUsersAPI","fetchBlockedUsers","unblockUser","blocked_users","ERROR_VIEW_BLOCKED_USERS","_id","ManageTeam","Toolbar","changeName","updateName","updateStrategyName","toggleStrategyNavigation","strategy","active","nav","prevProps","prevState","sites","site","selectSite","siteIndex","strategies","strat","selectStrategy","strategyIndex","insertDrone","drones","insertBreach","breaches","insertReinforcement","reinforcements","insertRotate","rotates","save","fetchStrategies","updateType","addStrategy","removeStrategy","Sidebar","toggleSidebar","showSidebar","stopPropagation","updateSceneName","scenes","scene","sceneIndex","selectScene","addScene","removeScene","FloorSelector","options","floors","ZoomSelector","zoom","min","max","step","Pagination","activeLabel","labels","DragItem","removeItem","drag","x","y","selected","gi","removeOperator","removeGadget","removeUtility","removeDrone","removeBreach","removeReinforcement","removeRotate","style","top","left","backgroundImage","url","backgroundSize","backgroundPosition","onMouseDown","selectElement","onTouchStart","data-type","PositionOverlay","deselectElement","translateElement","onMouseMove","onMouseUp","onTouchMove","onDrag","onDragTouch","detectChange","innerSelector","createRef","operatorPositions","gadgetPositions","utilityPositions","parse","document","addEventListener","removeEventListener","keyCode","newPositions","newX","newY","positions","onDragStart","t","pageX","bounds","pageY","centerX","width","centerY","height","touches","updateOperatorPositions","updateDronePositions","updateGadgetPositions","updateUtilityPositions","updateRotatePositions","updateReinforcementPositions","updateBreachPositions","bool","current","getBoundingClientRect","newBounds","pageYOffset","pageXOffset","offsetX","offsetY","pos","floorIndex","utility","forEach","u","uindex","gadgets","g","gindex","gadget","ref","BlueprintForm","onDragStop","selector","startX","clientX","startY","clientY","move","isMobile","xLowerBound","xUpperBound","yLowerBound","yUpperBound","mobileOffset","abs","transform","parseFloat","Objectives","newObj","objectives","obj","removeObjective","addObjective","notes","updateNotes","updateVideo","video","Canvas","updateZoom","toggleLabels","updateFloor","attackRoles","ATTACKER_ROLES","defenderRoles","DEFENDER_ROLES","utility_guide","UTILITY","Lineup","toggleLineup","roleOptions","option","ATTACKER_OPERATORS","DEFENDER_OPERATORS","lineup","roles","operatorOptions","utilityOptions","attack","defense","activeOperator","updateRoles","updateOperators","disabled","updateUtility","selectOperator","insertOperator","insertGadget","UTILITY_GUIDE","insertUtility","Editor","handleScroll","position","SITES","FLOORS","mounted","newStrategies","attackStrategy","newScene","GADGETS","drone","rotate","reinforcement","breach","msg","querySelector","toolbar","main","sidebar","scrollY","offsetTop","offsetHeight","classList","add","marginTop","remove","showMaps","ViewerToolbar","ViewerSidebar","ViewerDragItem","ViewerPositionOverlay","ViewerBlueprintForm","ViewerObjectives","ViewerCanvas","ViewerLineup","Viewer","LoadingModal","ViewStrategiesAPI","fetchMap","map_name","Object","keys","maps","filter","MAP_NAMES","ERROR_VIEW_STRATEGIES","ERROR_VIEW_MAP","Strategies","CreateStrategiesAPI","selectMap","addMap","defenseStrategy","ERROR_ADD_MAP","EditStrategiesAPI","updateStrategy","deleteMap","ERROR_UPDATE_MAP","ERROR_DELETE_MAP","EditStrategies","NotFound","ForgotPasswordForm","ForgotPasswordAPI","ERROR_RESET_PASSWORD","ForgotPassword","ResetPasswordForm","ResetPasswordAPI","ResetPassword","match","params","UserDropdown","toggleDropdown","toggleMenu","Navigation","first","loggedIn","zIndex","inactiveClass","exact","activeClassName","Alert","clearAlert","Header","background","title","subtitle","Footer","App","updateState","setLocalStorage","clearLocalStorage","Date","now","localStorage","getItem","alerts","callback","setItem","toDateString","clear","newAlerts","path","render","isLocalhost","Boolean","hostname","registerValidSW","swUrl","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","StrictMode","getElementById","self","event","json","waitUntil","showNotification","URL","origin","fetch","contentType","unregister","checkValidServiceWorker","ERROR_DELETE_TEAM_AND_USER","ERROR_FORGOT_PASSWORD","ERROR_UNBLOCK_USER","MAPS","0","2300","2400","2500","2600","2800","3000","3200","3600","4000","4400"],"mappings":"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","file":"static/js/main.f25c3d8f.chunk.js","sourcesContent":["/* messages.js*/\r\n\r\n/**\r\n* List of messages and error reports used throughout platform\r\n*/\r\nmodule.exports = {\r\n  ANNOUNCEMENT_SENT: {\r\n    status: \"Announcement Sent\",\r\n    message: \"Your announcement has been successfully sent.\"\r\n  },\r\n  ATTACKER_ROLE_SET: {\r\n    status: \"Attacker Role Set\",\r\n    message: \"Your attacking role has been set.\"\r\n  },\r\n  ATTACKERS_SET: {\r\n    status: \"Attackers Set\",\r\n    message: \"Your preferred attackers have been set.\"\r\n  },\r\n  BLOCKED_USERS_FOUND: {\r\n    status: \"Blocked Users Found\",\r\n    message: \"Team's blocked users have been found.\"\r\n  },\r\n  CANNOT_REMOVE_SELF: {\r\n    status: \"Cannot Remove Self\",\r\n    message: \"User cannot block self from team.\"\r\n  },\r\n  DEFENDER_ROLE_SET: {\r\n    status: \"Defender Role Set\",\r\n    message: \"Your defending role has been set.\"\r\n  },\r\n  DEFENDERS_SET: {\r\n    status: \"Defenders Set\",\r\n    message: \"Your preferred defenders have been set.\"\r\n  },\r\n  EXISTING_USER: {\r\n    status: \"Existing User\",\r\n    message: \"A user with those credentials already exists.\"\r\n  },\r\n  GENERAL_STATS_FOUND: {\r\n    status: \"General Statistics Found\",\r\n    message: \"General statistics have been found.\"\r\n  },\r\n  INCORRECT_PASSWORD: {\r\n    status: \"Incorrect Password\",\r\n    message: \"The password entered was incorrect.\"\r\n  },\r\n  INVALID_ANNOUNCEMENT: {\r\n    status: \"Invalid Announcement\",\r\n    message: \"The announcement provided is invalid.\"\r\n  },\r\n  INVALID_ATTACKER_ROLE: {\r\n    status: \"Invalid Attacker Role\",\r\n    message: \"The attacking role you selected is invalid.\"\r\n  },\r\n  INVALID_ATTACKERS: {\r\n    status: \"Invalid Attackers\",\r\n    message: \"The preferred attackers you selected are invalid.\"\r\n  },\r\n  INVALID_BLOCK_USER_INPUT: {\r\n    status: \"Invalid Block User Input\",\r\n    message: \"The block user input provided is invalid.\"\r\n  },\r\n  INVALID_DEFENDER_ROLE: {\r\n    status: \"Invalid Defender Role\",\r\n    message: \"The defending role you selected is invalid.\"\r\n  },\r\n  INVALID_DEFENDERS: {\r\n    status: \"Invalid Defenders\",\r\n    message: \"The preferred defenders you selected are invalid.\"\r\n  },\r\n  INVALID_EMAIL: {\r\n    status: \"Invalid Email\",\r\n    message: \"The email address provided is invalid.\"\r\n  },\r\n  INVALID_JOIN_CODE: {\r\n    status: \"Invalid Join Code\",\r\n    message: \"The join code provided is invalid.\"\r\n  },\r\n  INVALID_LOGIN: {\r\n    status: \"Invalid Login\",\r\n    message: \"The login input provided is invalid.\"\r\n  },\r\n  INVALID_MMR: {\r\n    status: \"Invalid MMR\",\r\n    message: \"The MMR threshold provided is invalid.\"\r\n  },\r\n  INVALID_PASSWORD_INPUT: {\r\n    status: \"Invalid Password Input\",\r\n    message: \"The password input provided is invalid.\"\r\n  },\r\n  INVALID_REGISTRATION: {\r\n    status: \"Invalid Registration\",\r\n    message: \"The registration input provided is invalid.\"\r\n  },\r\n  INVALID_RESET_TOKEN: {\r\n    status: \"Invalid Reset Token\",\r\n    message: \"The reset token provided is invalid or expired.\"\r\n  },\r\n  INVALID_PLATFORM: {\r\n    status: \"Invalid Platform\",\r\n    message: \"The platform selected is invalid.\"\r\n  },\r\n  INVALID_STATUS_INPUT: {\r\n    status: \"Invalid Status Input\",\r\n    message: \"The user status selected is invalid.\"\r\n  },\r\n  INVALID_TEAM_INPUT: {\r\n    status: \"Invalid Team Input\",\r\n    message: \"The team name provided is invalid.\"\r\n  },\r\n  INVALID_TEAM_PLATFORM: {\r\n    status: \"Invalid Team Platform\",\r\n    message: \"The platform provided is invalid.\"\r\n  },\r\n  INVALID_TEAM_STATUS: {\r\n    status: \"Invalid Team Status\",\r\n    message: \"The team status requested to update to is invalid.\"\r\n  },\r\n  INVALID_USERNAME: {\r\n    status: \"Invalid Username\",\r\n    message: \"The username provided is invalid.\"\r\n  },\r\n  MAP_ADDED: {\r\n    status: \"Map Added\",\r\n    message: \"The requested map has been added to your Stratbook.\"\r\n  },\r\n  MAP_DELETED: {\r\n    status: \"Map Deleted\",\r\n    message: \"The requested map has been deleted.\"\r\n  },\r\n  MAP_DOES_NOT_EXIST: {\r\n    status: \"Map Does Not Exist\",\r\n    message: \"The requested map does not exist in your team's Stratbook.\"\r\n  },\r\n  MAP_EXISTS: {\r\n    status: \"Map Exists\",\r\n    message: \"The requested map already exists in your Stratbook. In order to protect your data, a duplicate cannot be added.\"\r\n  },\r\n  MAP_FOUND: {\r\n    status: \"Map Found\",\r\n    message: \"The requested map has been found.\"\r\n  },\r\n  MAP_NOT_FOUND: {\r\n    status: \"Map Not Found\",\r\n    message: \"The requested map could not be found in the team's stratbook.\"\r\n  },\r\n  MAP_UPDATED: {\r\n    status: \"Map Updated\",\r\n    message: \"The requested map has been updated.\"\r\n  },\r\n  OPERATOR_STATS_FOUND: {\r\n    status: \"Operator Statistics Found\",\r\n    message: \"Operator statistics found.\"\r\n  },\r\n  PASSWORD_RESET_LINK_SENT: {\r\n    status: \"Password Reset Link Sent\",\r\n    message: \"A link to reset your password has been sent to your email.\"\r\n  },\r\n  PERMISSION_DENIED: {\r\n    status: \"Permission Denied\",\r\n    message: \"Permission to perform the action you requested has been denied.\"\r\n  },\r\n  PLATFORM_DOES_NOT_MATCH: {\r\n    status: \"Platform Does Not Match\",\r\n    message: \"The platform of the team you requested to join does not match your platform.\"\r\n  },\r\n  PROFANE_INPUT: {\r\n    status: \"Profane Input\",\r\n    message: \"Stratbook does not accept profane input.\"\r\n  },\r\n  PROFANE_TEAM_INPUT: {\r\n    status: \"Profane Team Input\",\r\n    message: \"Stratbook does not accept profane input.\"\r\n  },\r\n  PUSH_SUBSCRIBE: {\r\n    status: \"Push Notifications Subscribed\",\r\n    message: \"You have successfully subscribed to push notifications on this device.\"\r\n  },\r\n  SEASONAL_STATS_FOUND: {\r\n    status: \"Seasonal Statistics Found\",\r\n    message: \"Seasonal statistics found.\"\r\n  },\r\n  STRATEGIES_FOUND: {\r\n    status: \"Strategies Found\",\r\n    message: \"Strategies found.\"\r\n  },\r\n  TEAM_CREATED: {\r\n    status: \"Team Created\",\r\n    message: \"You have created a team.\"\r\n  },\r\n  TEAM_DELETED: {\r\n    status: \"Team Deleted\",\r\n    message: \"You have deleted your team.\"\r\n  },\r\n  TEAM_EXISTS: {\r\n    status: \"Team Exists\",\r\n    message: \"A team with that name already exists.\"\r\n  },\r\n  TEAM_FOUND: {\r\n    status: \"Team Found\",\r\n    message: \"Team found.\"\r\n  },\r\n  TEAM_JOINED: {\r\n    status: \"Team Joined\",\r\n    message: \"You have joined the team.\"\r\n  },\r\n  TEAM_LEFT: {\r\n    status: \"Team Left\",\r\n    message: \"You have left the team.\"\r\n  },\r\n  TEAM_MMR_UPDATED: {\r\n    status: \"Team MMR Updated\",\r\n    message: \"You have updated the MMR threshold required to join your team.\"\r\n  },\r\n  TEAM_NAME_UPDATED: {\r\n    status: \"Team Name Updated\",\r\n    message: \"You have updated the team name.\"\r\n  },\r\n  TEAM_NOT_FOUND: {\r\n    status: \"Team Not Found\",\r\n    message: \"No team with the provided credentials could be found.\"\r\n  },\r\n  TEAM_PLATFORM_UPDATED: {\r\n    status: \"Team Platform Updated\",\r\n    message: \"Your team platform has been successfully updated.\"\r\n  },\r\n  TEAM_STATS_FOUND: {\r\n    status: \"Team Statistics Found\",\r\n    message: \"Team statistics found.\"\r\n  },\r\n  TOKEN_ISSUED: {\r\n    status: \"Token Issued\",\r\n    message: \"Token issued.\"\r\n  },\r\n  USER_AND_TEAM_DELETED: {\r\n    status: \"User and Team Deleted\",\r\n    message: \"You have deleted your account and your team.\"\r\n  },\r\n  USER_BLOCKED: {\r\n    status: \"User Blocked\",\r\n    message: \"You have blocked the requested user.\"\r\n  },\r\n  USER_UNBLOCKED: {\r\n    status: \"User Unblocked\",\r\n    message: \"You have unblocked the requested user.\"\r\n  },\r\n  USER_DELETED: {\r\n    status: \"User Deleted\",\r\n    message: \"You have deleted your account.\"\r\n  },\r\n  USER_HAS_NO_TEAM: {\r\n    status: \"User Has No Team\",\r\n    message: \"You must have a team to perform this action.\"\r\n  },\r\n  USER_HAS_TEAM: {\r\n    status: \"User Has Team\",\r\n    message: \"You cannot perform this action if you are a part of a team.\"\r\n  },\r\n  USER_NOT_FOUND: {\r\n    status: \"User Not Found\",\r\n    message: \"Unable to find user with provided credentials.\",\r\n    errors: {\r\n      email: \"No user with that email address was found.\"\r\n    }\r\n  },\r\n  USER_NOT_VERIFIED: {\r\n    status: \"User Not Verified\",\r\n    message: \"You must verify your account to perform this action.\"\r\n  }\r\n}\r\n","/* messages/emails.js */\r\n\r\nmodule.exports = {\r\n  ANNOUNCEMENT: {\r\n    status: \"Team Announcement\",\r\n    body: '#1{NAME}: \"#2{ANNOUNCEMENT}\"',\r\n    email_body: '<div><h2>Team Announcement</h2><br/><p>#1{NAME}: \"#{ANNOUNCEMENT}\"'\r\n  },\r\n  EMAIL_UPDATED: {\r\n    status: \"Email Updated\",\r\n    body: \"Your email has been updated to #1{NEW_EMAIL}.\",\r\n    email_body: \"<div><h2>Your email has been updated to #1{NEW_EMAIL}.</h2><br/><p>The email associated with your Stratbook account has been updated. If you did not do this, login to your Stratbook account and change it back immediately.</p></div>\"\r\n  },\r\n  MAP_ADDED: {\r\n    status: \"Map Added\",\r\n    body: \"#1{NEW_MAP} has been added to your Stratbook.\",\r\n    email_body: \"<div><h2>#1{NEW_MAP} has been added to your Stratbook.</h2><br/><p>A user has added a map to the Stratbook associated with your team.</p></div>\"\r\n  },\r\n  MAP_DELETED: {\r\n    status: \"Map Deleted\",\r\n    body: \"#1{MAP} has been removed from your Stratbook.\",\r\n    email_body: \"<div><h2>#1{MAP} has been removed from your Stratbook.</h2><br/><p>A user has removed a map from the Stratbook associated with your team.</p></div>\"\r\n  },\r\n  PASSWORD_RESET: {\r\n    status: \"Password Reset\",\r\n    body: \"Your password has been reset.\",\r\n    email_body: \"<div><h2>Your password has been reset.</h2><br/><p>The password for your Stratbook account has been reset. If you did not do this, login to your Stratbook account and reset your password immediately.</p></div>\"\r\n  },\r\n  PASSWORD_UPDATED: {\r\n    status: \"Password Updated\",\r\n    body: \"Your password has been updated.\",\r\n    email_body: \"<div><h2>Your password has been updated.</h2><br/><p>The password for your Stratbook account has been updated. If you did not do this, login to your Stratbook account and reset your password immediately.</p></div>\"\r\n  },\r\n  PLATFORM_UPDATED: {\r\n    status: \"Platform Updated\",\r\n    body: \"Your platform has been updated.\",\r\n    email_body: \"<div><h2>Your platform has been updated.</h2><br/><p>The platform associated with your account has been changed.</p></div>\"\r\n  },\r\n  TEAM_CREATED: {\r\n    status: \"Team Created\",\r\n    body: \"Your Stratbook team, #1{TEAM_NAME}, has been created.\",\r\n    email_body: \"<div><h2>Your Stratbook team, #1{TEAM_NAME}, has been created.</h2><br/><p>Congratulations on creating a team on Stratbook. You may now send the join code to other members on the same platform as you to invite them to join your team. You and your team can create strategies for your own stratbook.</p></div>\"\r\n  },\r\n  TEAM_DISBANDED: {\r\n    status: \"Team Disbanded\",\r\n    body: \"Your Stratbook team, #1{TEAM_NAME}, has been disbanded.\",\r\n    email_body: \"<div><h2>Your Stratbook team, #1{TEAM_NAME}, has been disbanded.</h2><br/><p>Due to the actions of an admin on the team, your Stratbook team has been disbanded. All associated data has been removed from the database.</p></div>\"\r\n  },\r\n  TEAM_NAME_UPDATED: {\r\n    status: \"Team Name Updated\",\r\n    body: \"Your team name has been updated to #1{NEW_NAME}.\",\r\n    email_body: \"<div><h2>Your team name has been updated to #1{NEW_NAME}.</h2><br/><p>Your Stratbook team name has been updated. If you wish to undo this as an admin on the team, login and revert the change.</p></div>\"\r\n  },\r\n  TEAM_STATUS_UPDATED: {\r\n    status: \"Team Status Updated\",\r\n    body: \"Your team status has been changed to #1{NEW_STATUS}.\",\r\n    email_body: \"<div><h2>Your team status has been updated to #1{NEW_STATUS}.</h2><br/><p>Changing your team status affects the ability of new members to join. If you think this was a mistake, you can update the team status under the manage page.</p></div>\"\r\n  },\r\n  USER_AND_TEAM_DELETED: {\r\n    status: \"User and Team Deleted\",\r\n    body: \"Your Stratbook account and team have been deleted.\",\r\n    email_body: \"<div><h2>Your Stratbook account and team have been deleted.</h2><br/><p>All associated data has been deleted from the Stratbook databases. Since you were either the sole member or admin on a team, your team has been deleted as well.</p></div>\"\r\n  },\r\n  USER_DELETED: {\r\n    status: \"User Deleted\",\r\n    body: \"Your Stratbook account has been deleted.\",\r\n    email_body: \"<div><h2>Your Stratbook account has been deleted.</h2><br/><p>All associated data has been deleted from the Stratbook databases. If you were a member of a team, you have been removed from the team.</p></div>\"\r\n  },\r\n  USER_JOINED_TEAM: {\r\n    status: \"User Joined Team\",\r\n    body: \"#1{USER} has joined your Stratbook team, #2{TEAM_NAME}.\",\r\n    email_body: \"<div><h2>#1{USER} has joined your Stratbook team, #2{TEAM_NAME}.</h2></br><p>A user has joined your Stratbook team. Log in to Stratbook to see the new user and if needed, remove them.</p></div>\"\r\n  },\r\n  USER_LEFT_TEAM: {\r\n    status: \"User Left Team\",\r\n    body: \"#1{USER} has left your Stratbook team, #2{TEAM_NAME}.\",\r\n    email_body: \"<div><h2>#1{USER} has left your Stratbook team, #2{TEAM_NAME}.</h2><br/><p>A user has left your Stratbook team.</p></div>\"\r\n  },\r\n  USER_REGISTERED: {\r\n    status: \"User Registered\",\r\n    body: \"You have created an account with Stratbook.\",\r\n    email_body: \"<div><h2>Welcome to Stratbook</h2><br/><p>You have successfully created an account on Stratbook. Check your email for a verification link that will allow you to verify your account. Verifying your account allows you to create or join a team and make strategies.</p></div>\"\r\n  },\r\n  USER_STATUS_UPDATED: {\r\n    status: \"User Status Updated\",\r\n    body: \"Your status on your Stratbook team, #1{TEAM_NAME}, has been updated to #2{STATUS}.\",\r\n    email_body: \"<div><h2>User Status Updated</h2><br/><p>The status of your membership on your Stratbook team, #{TEAM_NAME}, has been updated to #2{STATUS}.</p></div>\"\r\n  },\r\n  USERNAME_UPDATED: {\r\n    status: \"Username Updated\",\r\n    body: \"Your username has been updated.\",\r\n    email_body: \"<div><h2>Your username has been updated</h2><br/><p>Your username has been updated.</p></div>\"\r\n  },\r\n  VERIFY_ACCOUNT: {\r\n    status: \"Account Verified\",\r\n    body: \"You have verified your Stratbook account.\",\r\n    email_body: \"<div><h2>Your Stratbook Account is Verified!</h2><br/><p>Congratulations on successfully verifying your Stratbook account. You can now access the team and strategies features.</p></div>\"\r\n  },\r\n}\r\n","/* client/src/components/pages/Home.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Home\r\n  @desc: render home page\r\n*/\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"page\" id=\"home\">\r\n      This is the home page.\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","/* client/components/partials/Loading.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Loading\r\n  @desc: render a loading animation\r\n*/\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <svg className=\"circular\" viewBox=\"25 25 50 50\">\r\n        <circle className=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading;\r\n","/* client/components/partials/LoginForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: LoginForm\r\n  @desc: render login form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop password: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"login-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Login Form</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.user : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password-field\">\r\n        <label className=\"form__label\" htmlFor=\"password\">Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password == null ? \"\" : \" form__input--error\")} value={props.password} id=\"password\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password : \"\")}</span>\r\n        <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Login</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm;\r\n","/* client/components/api/LoginAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { TOKEN_ISSUED } from \"../../messages/messages.js\";\r\nimport { ERROR_LOGIN } from \"../../messages/errors.js\";\r\n\r\nimport LoginForm from \"../partials/LoginForm.js\";\r\n\r\n/*\r\n  @func: LoginAPI\r\n  @desc: manage state of login form and login requests to server\r\n  @prop login: function\r\n  @state:\r\n    email: String\r\n    password: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass LoginAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.post(\"/api/users/login\", {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case TOKEN_ISSUED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.login(response.data.token, response.data.expiresIn, response.data.user);\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_LOGIN.message, ERROR_LOGIN.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"LoginAPI\">\r\n        <LoginForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} password={this.state.password} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LoginAPI;\r\n","/* client/src/components/pages/Login.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport LoginAPI from \"../api/LoginAPI.js\";\r\n\r\n/*\r\n  @func: Login\r\n  @desc: render login page\r\n  @prop login: function\r\n  @prop alert: function\r\n*/\r\nconst Login = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"login\">\r\n      <LoginAPI login={props.login} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","/* client/src/components/pages/Logout.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Logout\r\n  @desc: call client-side logout when rendered\r\n  @prop logout: function\r\n*/\r\nconst Logout = (props) => {\r\n  props.logout();\r\n  return (\r\n    <div className=\"page\" id=\"logout\"></div>\r\n  )\r\n}\r\n\r\nexport default Logout;\r\n","/* client/components/partials/RegisterForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: RegisterForm\r\n  @desc: render register form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop email: String\r\n  @prop password1: String\r\n  @prop password2: String\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst RegisterForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"register-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Register Form</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"username-field\">\r\n        <label className=\"form__label\" htmlFor=\"username\">Username</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.username == null ? \"\" : \" form__input--error\")} value={props.username} id=\"username\" type=\"name\" required/>\r\n        <span className=\"form__description\">Must match platform</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.username : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.user : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"platform-field\">\r\n        <label className=\"form__label\" htmlFor=\"platform\">Platform</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.platform == null ? \"\" : \" form__input--error\")} value={props.platform} id=\"platform\" required>\r\n          <option>XBOX</option>\r\n          <option>PC</option>\r\n          <option>PS4</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.platform : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Register</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default RegisterForm;\r\n","/* client/components/api/RegisterAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { USER_REGISTERED } from \"../../messages/emails.js\";\r\nimport { ERROR_REGISTER } from \"../../messages/errors.js\";\r\n\r\nimport RegisterForm from \"../partials/RegisterForm.js\";\r\n\r\n/*\r\n  @func: RegisterAPI\r\n  @desc: manage state of register form and register requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass RegisterAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      email: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n      platform: \"XBOX\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.post(\"/api/users/register\", {\r\n      username: this.state.username,\r\n      email: this.state.email,\r\n      platform: this.state.platform,\r\n      password1: this.state.password1,\r\n      password2: this.state.password2\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case USER_REGISTERED.status:\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_REGISTER.message, ERROR_REGISTER.status);\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"RegisterAPI\">\r\n          <RegisterForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} password1={this.state.password1} password2={this.state.platform2} platform={this.state.platform} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default RegisterAPI;\r\n","/* client/src/components/pages/Register.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport RegisterAPI from \"../api/RegisterAPI.js\";\r\n\r\n/*\r\n  @func: Register\r\n  @desc: render register page\r\n  @prop alert: function\r\n*/\r\nconst Register = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"register\">\r\n      <RegisterAPI alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","/* client/components/partials/UpdatePlatformForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdatePlatformForm\r\n  @desc: render update platform form for user to interact with\r\n  @prop onChange: function\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdatePlatformForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-platform-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Platform</p>\r\n      <fieldset className=\"form__fieldset\" id=\"platform-field\">\r\n        <label className=\"form__label\">Platform</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.platform == null ? \"\" : \" form__input--error\")} value={props.platform} id=\"platform\" required>\r\n          <option>XBOX</option>\r\n          <option>PC</option>\r\n          <option>PS4</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.platform : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdatePlatformForm;\r\n","/* client/components/api/UpdatePlatformAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { PLATFORM_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_PLATFORM } from \"../../messages/errors.js\";\r\n\r\nimport UpdatePlatformForm from \"../partials/UpdatePlatformForm.js\";\r\n\r\n/*\r\n  @func: UpdatePlatformAPI\r\n  @desc: manage state of update platform form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop platform: String\r\n  @state:\r\n    platform: String\r\n*/\r\nclass UpdatePlatformAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      platform: this.props.platform,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-platform\", {\r\n      platform: this.state.platform\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PLATFORM_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your platform has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_PLATFORM.message, ERROR_PLATFORM.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdatePlatformAPI\">\r\n        <UpdatePlatformForm onChange={this.onChange} platform={this.state.platform} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdatePlatformAPI;\r\n","/* client/components/partials/UpdateUsernameForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdateUsernameForm\r\n  @desc: render update username form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop username: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdateUsernameForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-username-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Username</p>\r\n      <fieldset className=\"form__fieldset\" id=\"username-field\">\r\n        <label className=\"form__label\" htmlFor=\"username\">Username</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.username == null ? \"\" : \" form__input--error\")} value={props.username} id=\"username\" type=\"name\" required/>\r\n        <span className=\"form__description\">Must match platform</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.username : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdateUsernameForm;\r\n","/* client/components/api/UpdateUsernameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { USERNAME_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_USERNAME } from \"../../messages/errors.js\";\r\n\r\nimport UpdateUsernameForm from \"../partials/UpdateUsernameForm.js\";\r\n\r\n/*\r\n  @func: UpdateUsernameAPI\r\n  @desc: manage state of update platform form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop username: String\r\n  @state:\r\n    username: String\r\n*/\r\nclass UpdateUsernameAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: this.props.username,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-username\", {\r\n      username: this.state.username\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case USERNAME_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your username has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_USERNAME.message, ERROR_USERNAME.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateUsernameAPI\">\r\n        <UpdateUsernameForm onSubmit={this.onSubmit} onChange={this.onChange} username={this.state.username} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateUsernameAPI;\r\n","/* client/components/partials/UpdateEmailForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdateEmailForm\r\n  @desc: render update platform form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdateEmailForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-email-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Email</p>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdateEmailForm;\r\n","/* client/components/api/UpdateEmailAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { EMAIL_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_EMAIL } from \"../../messages/errors.js\";\r\n\r\nimport UpdateEmailForm from \"../partials/UpdateEmailForm.js\";\r\n\r\n/*\r\n  @func: UpdateEmailAPI\r\n  @desc: manage state of update email form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop email: String\r\n  @state:\r\n    email: String\r\n*/\r\nclass UpdateEmailAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: this.props.email,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-email\", {\r\n      email: this.state.email\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case EMAIL_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your email has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_EMAIL.message, ERROR_EMAIL.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateEmailAPI\">\r\n        <UpdateEmailForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateEmailAPI;\r\n","/* client/components/partials/UpdatePasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdatePasswordForm\r\n  @desc: render update password form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdatePasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-password-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Password</p>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdatePasswordForm;\r\n","/* client/components/api/UpdatePasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { PASSWORD_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_UPDATE_PASSWORD } from \"../../messages/errors.js\";\r\n\r\nimport UpdatePasswordForm from \"../partials/UpdatePasswordForm.js\";\r\n\r\n/*\r\n  @func: UpdatePasswordAPI\r\n  @desc: manage state of update password form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    password1: String\r\n    password2: String\r\n*/\r\nclass UpdatePasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      password1: \"\",\r\n      password2: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-password\", {\r\n      password1: this.state.password1,\r\n      password2: this.state.password2\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PASSWORD_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your password has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_UPDATE_PASSWORD.message, ERROR_UPDATE_PASSWORD.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateUsernameAPI\">\r\n        <UpdatePasswordForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdatePasswordAPI;\r\n","/* client/components/partials/AttackerRoleForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: AttackerRoleForm\r\n  @desc: render attacker role form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop role: String\r\n  @prop errors: Object\r\n*/\r\nconst AttackerRoleForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"set-attacker-role-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"attacker-role-field\">\r\n        <label className=\"form__label\" htmlFor=\"attacker_role\">Primary Attacker Role</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.role ? \" form__input--error\" : \"\")} value={props.attacker_role} id=\"attacker_role\" required>\r\n          <option>NONE</option>\r\n          <option>HARD BREACH</option>\r\n          <option>SOFT BREACH</option>\r\n          <option>ENTRY FRAG</option>\r\n          <option>AREA DENIAL/FLANK WATCH</option>\r\n          <option>INTEL</option>\r\n          <option>UTILITY CLEAR</option>\r\n          <option>SUPPORT</option>\r\n          <option>ROAM CLEAR</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.role : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AttackerRoleForm;\r\n","/* client/components/api/SetAttackerRoleAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ATTACKER_ROLE_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_ATTACKER_ROLE } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport AttackerRoleForm from \"../partials/AttackerRoleForm.js\";\r\n\r\n/*\r\n  @func: SetAttackerRoleAPI\r\n  @desc: make a request to server to set attacker role\r\n  @prop attacker_role: String\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass SetAttackerRoleAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      attacker_role: this.props.attacker_role\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-attacker-role\", {\r\n      role: this.state.attacker_role\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case ATTACKER_ROLE_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_ATTACKER_ROLE.message, ERROR_ATTACKER_ROLE.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetAttackerRoleAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <AttackerRoleForm attacker_role={this.state.attacker_role} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetAttackerRoleAPI;\r\n","/* client/components/partials/AttackersForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\nimport { ATTACKERS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: AttackersForm\r\n  @desc: render attackers form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop attackers: Array\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst AttackersForm = (props) => {\r\n  const attacker_buttons = ATTACKERS.map((attacker, index) => {\r\n    return (\r\n      <div className=\"attackers-form__attacker\" key={index}>\r\n        <input onChange={() => { props.onChange(attacker); } } className={\"attackers-form__input \" + (props.attackers.indexOf(attacker) >= 0 ? \"attackers-form__input--checked\" : \"\")} type=\"checkbox\" id={\"attackers-form__input--\" + attacker.toLowerCase()} checked={props.attackers.indexOf(attacker) >= 0} key={index}/>\r\n        <label className=\"attackers-form__label\" htmlFor={\"attackers-form__input--\" + attacker.toLowerCase()}>\r\n          <img className=\"attackers-form__image\" alt={attacker + \" Image\"} src={`../../media/min/operators/${attacker.toLowerCase()}.png`}/>\r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <form className=\"form\" id=\"set-attackers-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"attackers-field\">\r\n        <div>\r\n          <p className=\"form__label\">Preferred Attackers</p>\r\n            { attacker_buttons }\r\n          <span className=\"form__error\">{(props.errors ? props.errors.attackers : \"\")}</span>\r\n          <button className=\"form__button form__button--submit\" type=\"submit\">Save</button>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AttackersForm;\r\n","/* client/components/api/SetAttackersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ATTACKERS_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_ATTACKERS } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport AttackersForm from \"../partials/AttackersForm.js\";\r\n\r\n/*\r\n  @func: SetAttackersAPI\r\n  @desc: make a request to server to set attackers\r\n  @prop attackers: Array\r\n  @prop getAuthToken: function\r\n\r\n\r\n*/\r\nclass SetAttackersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      attackers: this.props.attackers\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(attacker) {\r\n    const index = this.state.attackers.indexOf(attacker);\r\n    if (index < 0) {\r\n      this.setState({\r\n        attackers: [...this.state.attackers, attacker]\r\n      })\r\n    } else {\r\n      let new_attackers = [...this.state.attackers];\r\n      new_attackers.splice(index, 1);\r\n      this.setState({\r\n        attackers: new_attackers\r\n      })\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-attackers\", {\r\n      attackers: this.state.attackers\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case ATTACKERS_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_ATTACKERS.message, ERROR_ATTACKERS.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetAttackersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <AttackersForm attackers={this.state.attackers} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetAttackersAPI;\r\n","/* client/components/partials/DefenderRoleForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: DefenderRoleForm\r\n  @desc: render defender role form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop role: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst DefenderRoleForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"set-defender-role-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"defender-role-field\">\r\n        <label className=\"form__label\" htmlFor=\"defender_role\">Primary Defender Role</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.role ? \" form__input--error\" : \"\")} value={props.defender_role} id=\"defender_role\" required>\r\n          <option>NONE</option>\r\n          <option>HARD BREACH DENIAL</option>\r\n          <option>INTEL DENIAL</option>\r\n          <option>INTEL</option>\r\n          <option>AREA DENIAL</option>\r\n          <option>TRAPS</option>\r\n          <option>UTILITY SOAK</option>\r\n          <option>SUPPORT</option>\r\n          <option>ROAM</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.role : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default DefenderRoleForm;\r\n","/* client/components/api/SetDefenderRoleAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { DEFENDER_ROLE_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_DEFENDER_ROLE } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport DefenderRoleForm from \"../partials/DefenderRoleForm.js\";\r\n\r\n/*\r\n  @func: SetDefenderRoleAPI\r\n  @desc: make a request to server to set attacker role\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass SetDefenderRoleAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      defender_role: this.props.defender_role\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop defender_role: String\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-defender-role\", {\r\n      role: this.state.defender_role\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case DEFENDER_ROLE_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_DEFENDER_ROLE.message, ERROR_DEFENDER_ROLE.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetDefenderRoleAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <DefenderRoleForm defender_role={this.state.defender_role} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetDefenderRoleAPI;\r\n","/* client/components/partials/DefendersForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\nimport { DEFENDERS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: DefendersForm\r\n  @desc: render defenders form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop defenders: Array\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst DefendersForm = (props) => {\r\n  const defender_buttons = DEFENDERS.map((defender, index) => {\r\n    return (\r\n      <div className=\"defenders-form__defender\" key={index}>\r\n        <input onChange={() => { props.onChange(defender); } } className={\"defenders-form__input \" + (props.defenders.indexOf(defender) >= 0 ? \"defenders-form__input--checked\" : \"\")} type=\"checkbox\" id={\"defenders-form__defender--\" + defender.toLowerCase()} checked={props.defenders.indexOf(defender) >= 0}/>\r\n        <label className=\"defenders-form__label\" htmlFor={\"defenders-form__defender--\" + defender.toLowerCase()}>\r\n          <img className=\"defenders-form__image\" alt={defender + \" Image\"} src={`../../media/min/operators/${defender.toLowerCase()}.png`}/>\r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <form className=\"form\" id=\"set-defenders-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"defenders-field\">\r\n        <div>\r\n          <p className=\"form__label\">Preferred Defenders</p>\r\n            { defender_buttons }\r\n          <span className=\"form__error\">{(props.errors ? props.errors.defenders : \"\")}</span>\r\n          <button className=\"form__button form__button--submit\" type=\"submit\">Save</button>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default DefendersForm;\r\n","/* client/components/api/SetDefendersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { DEFENDERS_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_DEFENDERS } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport DefendersForm from \"../partials/DefendersForm.js\";\r\n\r\n/*\r\n  @func: SetDefendersAPI\r\n  @desc: make a request to server to set defenders\r\n  @prop defenders: Array\r\n  @prop getAuthToken: function\r\n\r\n\r\n*/\r\nclass SetDefendersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      defenders: this.props.defenders\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(defender) {\r\n    const index = this.state.defenders.indexOf(defender);\r\n    if (index < 0) {\r\n      this.setState({\r\n        defenders: [...this.state.defenders, defender]\r\n      })\r\n    } else {\r\n      let new_defenders = [...this.state.defenders];\r\n      new_defenders.splice(index, 1);\r\n      this.setState({\r\n        defenders: new_defenders\r\n      })\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-defenders\", {\r\n      defenders: this.state.defenders\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case DEFENDERS_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_DEFENDERS.message, ERROR_DEFENDERS.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetDefendersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <DefendersForm defenders={this.state.defenders} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetDefendersAPI;\r\n","/* client/components/api/PushNotificationsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { PUSH_SUBSCRIBE } from \"../../messages/messages.js\";\r\nimport { ERROR_PUSH } from \"../../messages/errors.js\";\r\nimport config from \"dotenv\";\r\nconfig.config();\r\nconst convertedVapidKey = process.env.REACT_APP_PUBLIC_VAPID_KEY;\r\n\r\nclass PushNotificationsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.urlBase64ToUint8Array = this.urlBase64ToUint8Array.bind(this);\r\n    this.sendSubscription = this.sendSubscription.bind(this);\r\n    this.subscribeUser = this.subscribeUser.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  urlBase64ToUint8Array(base64String) {\r\n    const padding = \"=\".repeat((4 - base64String.length % 4) % 4)\r\n    // eslint-disable-next-line\r\n    const base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\")\r\n\r\n    const rawData = window.atob(base64)\r\n    const outputArray = new Uint8Array(rawData.length)\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n      outputArray[i] = rawData.charCodeAt(i)\r\n    }\r\n    return outputArray\r\n  }\r\n  sendSubscription(subscription) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n\r\n    axios.defaults.headers.common[\"Authorization\"] = component.props.getAuthToken();\r\n    axios.post(\"/api/push/subscribe\", {\r\n      subscription: JSON.stringify(subscription)\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PUSH_SUBSCRIBE.status:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(PUSH_SUBSCRIBE.message, \"SUCCESS\");\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_PUSH.message, ERROR_PUSH.status);\r\n    });\r\n  }\r\n  subscribeUser() {\r\n    const component = this;\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(function(registration) {\r\n        if (!registration.pushManager) {\r\n          return component.props.alert(\"Push manager unavailable.\");\r\n        }\r\n\r\n        Notification.requestPermission().then((permission) => {\r\n          if (permission === \"granted\") {\r\n            registration.pushManager.getSubscription().then(function(existedSubscription) {\r\n              if (existedSubscription === null) {\r\n                registration.pushManager.subscribe({\r\n                  applicationServerKey: convertedVapidKey,\r\n                  userVisibleOnly: true,\r\n                }).then(function(newSubscription) {\r\n                  component.sendSubscription(newSubscription)\r\n                }).catch(function(e) {\r\n                  if (Notification.permission !== 'granted') {\r\n                    component.props.alert(\"Notification permissions are required to receive push notifications.\", \"ERROR\");\r\n                  } else {\r\n                    console.log(e);\r\n                    component.props.alert(\"An error occurred while attempting to subscribe to push notifications.\", \"ERROR\");\r\n                  }\r\n                })\r\n              } else {\r\n                component.sendSubscription(existedSubscription);\r\n              }\r\n            })\r\n          }\r\n        })\r\n\r\n      })\r\n        .catch(function(e) {\r\n          console.error('An error ocurred during Service Worker registration.', e);\r\n          component.props.alert(\"An error occurred while attempting to register for push notifications.\", \"ERROR\");\r\n        })\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"PushNotificationsAPI\">\r\n        { this.state.loading ? <Loading/> : (\r\n          <div>\r\n            <button onClick={this.subscribeUser}>Get Push Notifications</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PushNotificationsAPI;\r\n","/* client/components/api/DeleteUserAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { USER_DELETED } from \"../../messages/emails.js\";\r\nimport { USER_AND_TEAM_DELETED } from \"../../messages/emails.js\";\r\nimport { ERROR_DELETE_USER } from \"../../messages/errors.js\";\r\nimport { ERROR_DELETE_TEAM_AND_USER } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\n\r\n/*\r\n  @func: DeleteUserAPI\r\n  @desc: make a request to server to delete account\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass DeleteUserAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n  */\r\n  onSubmit() {\r\n    if (window.confirm(\"Confirming this dialogue will permanently delete your account and all associated data including teams of which you are the sole member, editor, or admin. This cannot be undone.\")) {\r\n      const component = this;\r\n      this.setState({\r\n        errors: {},\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(\"/api/users/delete\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case USER_DELETED.status:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"Your account has been deleted.\", \"SUCCESS\");\r\n            this.props.logout();\r\n          case USER_AND_TEAM_DELETED.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"Your account and associated team have been deleted.\", \"SUCCESS\");\r\n            this.props.logout();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.props.alert(ERROR_DELETE_USER.message, ERROR_DELETE_USER.status);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"DeleteUserAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <p>Warning: this action is permanent and cannot be undone.</p>\r\n            <button id=\"deleteAccount\" className=\"button button--danger\" onClick={this.onSubmit}>Delete Account</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteUserAPI;\r\n","/* client/src/components/pages/User.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport UpdatePlatformAPI from \"../api/UpdatePlatformAPI.js\";\r\nimport UpdateUsernameAPI from \"../api/UpdateUsernameAPI.js\";\r\nimport UpdateEmailAPI from \"../api/UpdateEmailAPI.js\";\r\nimport UpdatePasswordAPI from \"../api/UpdatePasswordAPI.js\";\r\nimport SetAttackerRoleAPI from \"../api/SetAttackerRoleAPI.js\";\r\nimport SetAttackersAPI from \"../api/SetAttackersAPI.js\";\r\nimport SetDefenderRoleAPI from \"../api/SetDefenderRoleAPI.js\";\r\nimport SetDefendersAPI from \"../api/SetDefendersAPI.js\";\r\nimport PushNotificationsAPI from \"../api/PushNotificationsAPI.js\";\r\nimport DeleteUserAPI from \"../api/DeleteUserAPI.js\";\r\n\r\n/*\r\n  @func: User\r\n  @desc: render user page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop logout: function\r\n  @prop username: String\r\n  @prop email: String\r\n  @prop platform: String\r\n  @prop attacker_role: String\r\n  @prop attackers: Array\r\n  @prop defenders: Array\r\n  @prop defender_role: String\r\n  @prop alert: function\r\n\r\n*/\r\nconst User = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"user\">\r\n      <div className=\"account-section\">\r\n        <h3>Preferences</h3>\r\n        <div className=\"role\">\r\n          <h4>Roles</h4>\r\n          <SetAttackerRoleAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} attacker_role={props.attacker_role} alert={props.alert}/>\r\n          <SetDefenderRoleAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} defender_role={props.defender_role} alert={props.alert}/>\r\n        </div>\r\n        <div className=\"operators\">\r\n          <h4>Operators</h4>\r\n          <SetAttackersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} attackers={props.attackers} alert={props.alert}/>\r\n          <SetDefendersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} defenders={props.defenders} alert={props.alert}/>\r\n        </div>\r\n      </div>\r\n      <div className=\"account-section\" id=\"account-info\">\r\n        <h3>Account Information</h3>\r\n        <UpdatePlatformAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} platform={props.platform} alert={props.alert}/>\r\n        <UpdateUsernameAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} username={props.username} alert={props.alert}/>\r\n        <UpdateEmailAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} email={props.email} alert={props.alert}/>\r\n        <UpdatePasswordAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      </div>\r\n      <div className=\"account-section\" id=\"notifications\">\r\n        <h3>Notification Preferences</h3>\r\n        <PushNotificationsAPI getAuthToken={props.getAuthToken} alert={props.alert} subscription={props.subscription}/>\r\n      </div>\r\n      <div className=\"account-section account-section--danger\">\r\n        <h3>Manage Account</h3>\r\n        <DeleteUserAPI getAuthToken={props.getAuthToken} logout={props.logout} alert={props.alert} updateAuthToken={props.getAuthToken}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User;\r\n","/* client/src/components/partials/ProgressCircle.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ProgressCircle extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.count = this.count.bind(this);\r\n\r\n    this.state = {\r\n      value: 0,\r\n      counted: false\r\n    }\r\n  }\r\n  count() {\r\n    if (this.state.value < this.props.value) {\r\n      this.setState({\r\n        value: this.state.value + (0.05 * this.props.value)\r\n      });\r\n    } else {\r\n      this.setState({\r\n        value: this.props.value,\r\n        counted: true\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.counted) {\r\n      this.counter = setInterval(this.count, 50);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"progress-circle\">\r\n        <p>{this.props.label}</p>\r\n        <p className=\"progress-circle__value\">{Math.floor(this.state.value * 100) / 100}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProgressCircle;\r\n","/* client/components/api/GeneralStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { GENERAL_STATS_FOUND } from \"../../messages/messages.js\";\r\nimport { USER_NOT_FOUND } from \"../../messages/messages.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ProgressCircle from \"../partials/ProgressCircle.js\";\r\n\r\n/*\r\n  @func: GetGeneralStatisticsAPI\r\n  @desc: get general stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass GeneralStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/general\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case GENERAL_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get general statistics\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"GeneralStatisticsAPI\" className=\"statistics-api\">\r\n        <h2 className=\"statistics-title\">Overview</h2>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics-container\">\r\n              <img className=\"user-image\" alt=\"User\" src={this.state.stats.avatar_url_256}/>\r\n              <h3 className=\"stats-grid__heading\">General</h3>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Progression</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"Level\" value={this.state.stats.progression.level}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Playtime</p>\r\n                    <span className=\"stat__value\">{Math.floor(this.state.stats.stats.general.playtime / 3600)} Hrs</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Games Played</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.games_played}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Personal Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"K/D\" value={this.state.stats.stats.general.kd}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Kills</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.kills}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Deaths</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.deaths}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Headshot %</p>\r\n                    <span className=\"stat__value\">{Math.round((this.state.stats.stats.general.headshots / this.state.stats.stats.general.kills) * 100)}%</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Team Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"W/L\" value={this.state.stats.stats.general.wl}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Wins</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.wins}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Losses</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.losses}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <h3 className=\"stats-grid__heading\">Ranked</h3>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Progression</h4>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Playtime</p>\r\n                    <span className=\"stat__value\">{Math.floor(this.state.stats.stats.queue.ranked.playtime / 3600)} Hrs</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Games Played</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.games_played}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Personal Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"K/D\" value={this.state.stats.stats.queue.ranked.kd}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Kills</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.kills}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Deaths</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.deaths}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Team Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"W/L\" value={this.state.stats.stats.queue.ranked.wl}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Wins</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.wins}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Losses</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.losses}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-error\">Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GeneralStatisticsAPI;\r\n","/* client/components/api/SeasonalStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { SEASONAL_STATS_FOUND } from \"../../messages/messages.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { CURRENT_SEASON } from \"../../data.js\";\r\n\r\n/*\r\n  @func: SeasonalStatisticsAPI\r\n  @desc: get seasonal stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass SeasonalStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false,\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/seasonal\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case SEASONAL_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get seasonal statistics.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    const season_arr = CURRENT_SEASON.split(\"_\");\r\n    const season = season_arr[0].charAt(0).toUpperCase() + season_arr[0].slice(1) + \" \" + season_arr[1].charAt(0).toUpperCase() + season_arr[1].slice(1);\r\n    console.log(this.state.stats);\r\n    return (\r\n      <div id=\"SeasonalStatisticsAPI\" className=\"statistics-api\">\r\n        <h2 className=\"statistics-title\">Operation {season}</h2>\r\n        <h3 className=\"statistics-title\">Seasonal Performance</h3>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics\">\r\n              <div className=\"stat--main\">\r\n                <h3 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].rank_text}</h3>\r\n                <p className=\"stat__label\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].mmr} MMR</p>\r\n                <p className=\"stat__label stat__label--secondary\">MMR Change: {this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].last_match_mmr_change}</p>\r\n              </div>\r\n              <div className=\"stat\">\r\n                <h3 className=\"stat__value--main\">{Math.floor(100 * (this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills / this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths)) / 100} KD</h3>\r\n                <p className=\"stat__label\">Kills</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills}</h4>\r\n                <p className=\"stat__label\">Deaths</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths}</h4>\r\n                <p className=\"stat__label\">K/D Spread</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills - this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths}</h4>\r\n              </div>\r\n              <div className=\"stat\">\r\n                <h3 className=\"stat__value--main\">{Math.floor(100 * (this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins / this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses)) / 100} WL</h3>\r\n                <p className=\"stat__label\">Wins</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins}</h4>\r\n                <p className=\"stat__label\">Losses</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses}</h4>\r\n                <p className=\"stat__label\">W/L Spread</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins - this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses}</h4>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <p>Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SeasonalStatisticsAPI;\r\n","/* client/components/partials/OperatorStatistics.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Operator\r\n  @desc: render operator\r\n  @prop image: String\r\n  @prop name: String\r\n  @prop kd: String\r\n  @prop kills: String\r\n  @prop deaths: String\r\n  @prop wl: String\r\n  @prop wins: String\r\n  @prop losses: String\r\n  @prop playtime: String\r\n  @prop hsp: float\r\n*/\r\nconst OperatorStatistics = (props) => {\r\n  return (\r\n    <div className=\"operator-statistics\">\r\n      <div className=\"operator-info\">\r\n        <img className=\"operator-info__image\" alt=\"Operator\" src={props.image}/>\r\n        <h3 className=\"operator-info__name\">{props.name}</h3>\r\n      </div>\r\n      <div className=\"operator-stats\">\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">K/D</p>\r\n          <span className=\"operator-stats__value\">{props.kd}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Kills</p>\r\n          <span className=\"operator-stats__value\">{props.kills}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Deaths</p>\r\n          <span className=\"operator-stats__value\">{props.deaths}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">W/L</p>\r\n          <span className=\"operator-stats__value\">{props.wl}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Wins</p>\r\n          <span className=\"operator-stats__value\">{props.wins}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Losses</p>\r\n          <span className=\"operator-stats__value\">{props.losses}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Playtime</p>\r\n          <span className=\"operator-stats__value\">{Math.floor(props.playtime / 3600)} Hrs</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Headshot %</p>\r\n          <span className=\"operator-stats__value\">{Math.round(props.hsp * 100 * 100) / 100}%</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OperatorStatistics;\r\n","/* client/components/api/OperatorStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { OPERATOR_STATS_FOUND } from \"../../messages/messages.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport OperatorStatistics from \"../partials/OperatorStatistics.js\";\r\n\r\n/*\r\n  @func: OperatorStatisticsAPI\r\n  @desc: get operator stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass OperatorStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n    this.sortOperators = this.sortOperators.bind(this);\r\n    this.searchOperators = this.searchOperators.bind(this);\r\n    this.toggleRows = this.toggleRows.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      search: \"\",\r\n      rows: false,\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/operators\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case OPERATOR_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats,\r\n            operators: response.data.stats.operators\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get operator statistics.\", \"ERROR\");\r\n    });\r\n  }\r\n  sortOperators(e) {\r\n    let operators = [...this.state.stats.operators];\r\n    switch (e.target.id.toUpperCase()) {\r\n      case \"RELEASE\":\r\n        operators = operators;\r\n        break;\r\n      case \"NAME\":\r\n        operators = operators.sort((a, b) => { return (a.name > b.name) ? 1 : -1 });\r\n        break;\r\n      case \"KD\":\r\n        operators = operators.sort((a, b) => { return (a.kd > b.kd) ? -1 : 1 });\r\n        break;\r\n      case \"PLAYTIME\":\r\n        operators = operators.sort((a, b) => { return (a.playtime > b.playtime) ? -1 : 1 });\r\n        break;\r\n    }\r\n    this.setState({\r\n      operators: operators\r\n    });\r\n  }\r\n  searchOperators(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n  }\r\n  toggleRows() {\r\n    this.setState({\r\n      rows: !this.state.rows\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    let operators = []\r\n    if (this.state.stats) {\r\n      this.state.operators.map((operator, index) => {\r\n        if (!operator.name.includes(\"Recruit\") && (this.state.search === \"\" || operator.name.toUpperCase().includes(this.state.search.toUpperCase()))) {\r\n          operators.push(<OperatorStatistics image={`../media/min/operators/${operator.name.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")}.png`} name={operator.name} kd={Math.round(operator.kd * 100) / 100} kills={operator.kills} deaths={operator.deaths} wl={Math.round(operator.wl * 100) / 100} wins={operator.wins} losses={operator.losses} playtime={Math.round(operator.playtime * 100) / 100} hsp={Math.round(operator.headshots / operator.kills * 100) / 100} key={index}/>)\r\n        }\r\n      });\r\n    }\r\n    return (\r\n      <div id=\"OperatorStatisticsAPI\" className={\"statistics-api\" + (this.state.rows ? \" statistics-api--rows\" : \"\")}>\r\n        <h2 className=\"statistics-title\">Operators</h2>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics\">\r\n              <div className=\"controls\">\r\n                <input onChange={this.searchOperators} value={this.state.search} placeholder=\"Search By Name\"/>\r\n                <button onClick={this.sortOperators} id=\"release\">Sort By Release</button>\r\n                <button onClick={this.sortOperators} id=\"name\">Sort By Name</button>\r\n                <button onClick={this.sortOperators} id=\"kd\">Sort By KD</button>\r\n                <button onClick={this.sortOperators} id=\"playtime\">Sort By Playtime</button>\r\n                <button onClick={this.toggleRows} id=\"rows\">{ this.state.rows ? \"Display Cards\" : \"Display Rows\" }</button>\r\n              </div>\r\n              { operators }\r\n            </div>\r\n          ) : (\r\n            <p>Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OperatorStatisticsAPI;\r\n","/* client/src/components/pages/Dashboard.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport GeneralStatisticsAPI from \"../api/GeneralStatisticsAPI.js\";\r\nimport SeasonalStatisticsAPI from \"../api/SeasonalStatisticsAPI.js\";\r\nimport OperatorStatisticsAPI from \"../api/OperatorStatisticsAPI.js\";\r\n\r\n/*\r\n  @func: Dashboard\r\n  @desc: render dashboard\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst Dashboard = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"dashboard\">\r\n      <h1>Dashboard</h1>\r\n      <GeneralStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      <SeasonalStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      <OperatorStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard;\r\n","/* client/components/partials/CreateTeamForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: CreateTeamForm\r\n  @desc: render create team form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst CreateTeamForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"create-team-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"name-field\">\r\n        <label className=\"form__label\" htmlFor=\"name\">Team Name</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.name == null ? \"\" : \" form__input--error\")} value={props.name} id=\"name\" type=\"text\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.name : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit button\" type=\"submit\">Create Team</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CreateTeamForm;\r\n","/* client/components/api/CreateTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_CREATED } from \"../../messages/emails.js\";\r\nimport { ERROR_CREATE_TEAM } from \"../../messages/errors.js\";\r\n\r\nimport CreateTeamForm from \"../partials/CreateTeamForm.js\";\r\n\r\n/*\r\n  @func: CreateTeamAPI\r\n  @desc: manage state of team name and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass CreateTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(\"/api/teams/create-team\", {\r\n      name: this.state.name\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_CREATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your team has been created.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_CREATE_TEAM.message, ERROR_CREATE_TEAM.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"CreateTeamAPI\">\r\n        <h3>Create a Team</h3>\r\n        <CreateTeamForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading} name={this.state.name}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateTeamAPI;\r\n","/* client/components/partials/JoinTeamForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: JoinTeamForm\r\n  @desc: render join team form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop join_code: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst JoinTeamForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"join-team-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"join-code-field\">\r\n        <label className=\"form__label\" htmlFor=\"join_code\">Team Code</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.join_code == null ? \"\" : \" form__input--error\")} value={props.join_code} id=\"join_code\" type=\"text\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.join_code : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit button button--secondary\" type=\"submit\">Join Team</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default JoinTeamForm;\r\n","/* client/components/api/JoinTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_JOINED } from \"../../messages/messages.js\";\r\nimport { ERROR_JOIN_TEAM } from \"../../messages/errors.js\";\r\n\r\nimport JoinTeamForm from \"../partials/JoinTeamForm.js\";\r\n\r\n/*\r\n  @func: JoinTeamAPI\r\n  @desc: manage state of team name and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    join_code: String\r\n*/\r\nclass JoinTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      join_code: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/join-team\", {\r\n      join_code: this.state.join_code\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_JOINED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"You have joined the team.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_JOIN_TEAM.message, ERROR_JOIN_TEAM.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"JoinTeamAPI\">\r\n        <h3>Join a Team</h3>\r\n        <JoinTeamForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading} join_code={this.state.join_code}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default JoinTeamAPI;\r\n","/* client/src/components/partials/ErrorLoading.js */\r\n\r\nimport React from \"react\";\r\n\r\nconst ErrorLoading = () => {\r\n  return (\r\n    <div className=\"error-loading\">\r\n      <div className=\"error-loading__modal\">\r\n        <h3>Unable to load data</h3>\r\n        <p>Stratbook was unable to load the data required for this page to function. This typically happens when the client (your device) is unable to contact the servers, so check your network connection and refresh the page.\r\n        <br/><br/>\r\n        If you have a network connection and are still unable to retrieve the necessary data, there is likely a bug or other problem with the servers.\r\n        If you suspect this is the case, please email the lead developer at\r\n        <a id=\"email\" target=\"_blank\" href=\"mailto:cameron@burkholderwd.com\">cameron@burkholderwd.com</a>.</p>\r\n        <a id=\"refresh\" href=\"/\">Refresh</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorLoading;\r\n","/* client/components/partials/teamMember.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: teamMember\r\n  @desc: render team member\r\n  @prop username: String\r\n  @prop attacker_role: String\r\n  @prop attackers: Array\r\n  @prop defender_role: String\r\n  @prop defenders: Array\r\n  @prop status: String\r\n\r\n*/\r\nconst TeamMember = (props) => {\r\n  const attackers = props.attackers.map((attacker, index) => {\r\n    return (\r\n      <div className=\"attacker\" key={index}>\r\n        <img className=\"attacker__image\" alt={attacker} src={`../media/min/operators/${attacker.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")}.png`}/>\r\n      </div>\r\n    )\r\n  });\r\n  const defenders = props.defenders.map((defender, index) => {\r\n    return (\r\n      <div className=\"defender\" key={index}>\r\n        <img className=\"defender__image\" alt={defender} src={`../media/min/operators/${defender.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")}.png`}/>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <div className=\"team-member\">\r\n      <h4 className=\"team-member__username\">{props.username}</h4>\r\n      <p className=\"team-member__status\">{props.status}</p>\r\n      <p className=\"team-member__quality\">{props.attacker_role}</p>\r\n      <p className=\"team-member__quality\">{props.defender_role}</p>\r\n      { attackers.length > 0 ? (\r\n        <div className=\"attackers\">\r\n          <p className=\"team-member__attackers\">Preferred Attackers</p>\r\n          { attackers }\r\n        </div>\r\n      ) : \"\" }\r\n      { defenders.length > 0 ? (\r\n        <div className=\"defenders\">\r\n          <p className=\"team-member__defenders\">Preferred Defenders</p>\r\n          { defenders }\r\n        </div>\r\n      ) : \"\" }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeamMember;\r\n","/* client/components/api/ViewTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_TEAM } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport TeamMember from \"../partials/TeamMember.js\";\r\n\r\n/*\r\n  @func: ViewTeamAPI\r\n  @desc: manage state of team data\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ViewTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamData.bind(this);\r\n\r\n    this.state = {\r\n      team: {},\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamData() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            team: response.data.team_data\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_TEAM.message, ERROR_VIEW_TEAM.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.team.name) {\r\n      this.fetchTeamData();\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let teamMembers = [];\r\n        let index = 0;\r\n        if (this.state.team) {\r\n          this.state.team.admins.map((admin) => {\r\n            teamMembers.push(<TeamMember username={admin.username} status={admin.status} attacker_role={admin.attacker_role} attackers={admin.attackers} defender_role={admin.defender_role} defenders={admin.defenders} key={index++}/>);\r\n          });\r\n          this.state.team.editors.map((editor) => {\r\n            teamMembers.push(<TeamMember username={editor.username} status={editor.status} attacker_role={editor.attacker_role} attackers={editor.attackers} defender_role={editor.defender_role} defenders={editor.defenders} key={index++}/>);\r\n          });\r\n          this.state.team.members.map((member) => {\r\n            teamMembers.push(<TeamMember username={member.username} status={member.status} attacker_role={member.attacker_role} attackers={member.attackers} defender_role={member.defender_role} defenders={member.defenders} key={index++}/>);\r\n          })\r\n          contents = (\r\n            <div className=\"team\">\r\n              <h2 className=\"team-name\">{this.state.team.name}</h2>\r\n              <h3 className=\"team-description\">{this.state.team.platform} - {this.state.team.join_code}</h3>\r\n              <div className=\"roster\">\r\n                <h3>Roster</h3>\r\n                { teamMembers }\r\n              </div>\r\n            </div>\r\n          );\r\n        } else {\r\n          contents = <ErrorLoading/>\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ViewTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            { contents }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewTeamAPI;\r\n","/* client/components/partials/TeamMemberStats.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: TeamMemberStats\r\n  @desc: render team member statistics\r\n  @prop username: String\r\n  @prop kd: Float\r\n  @prop wl: Float\r\n  @prop mmr: Int\r\n  @prop mmrchange: Int\r\n  @prop level: Int\r\n\r\n*/\r\nconst TeamMemberStats = (props) => {\r\n  return (\r\n    <div className=\"team-member-stats\">\r\n      <h4 className=\"team-member-stats__username\">{props.username}</h4>\r\n      <p className=\"team-member-stats__stat\">{props.mmr} MMR</p>\r\n      <p className=\"team-member-stats__stat\">{props.kd} K/D</p>\r\n      <p className=\"team-member-stats__stat\">Level {props.level}</p>\r\n      <p className=\"team-member-stats__stat\">+/-{props.mmrchange} MMR</p>\r\n      <p className=\"team-member-stats__stat\">{props.wl} W/L</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeamMemberStats;\r\n","/* client/components/api/ViewTeamStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_STATS_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_TEAM_STATS } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport TeamMemberStats from \"../partials/TeamMemberStats.js\";\r\nimport ProgressCircle from \"../partials/ProgressCircle.js\";\r\n\r\n/*\r\n  @func: ViewTeamStatisticsAPI\r\n  @desc: view team stats\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ViewTeamStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            stats: {\r\n              team: response.data.team,\r\n              kd: response.data.kd,\r\n              wl: response.data.wl,\r\n              mmr: response.data.mmr,\r\n              mmrchange: response.data.mmrchange,\r\n              level: response.data.level\r\n            }\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_TEAM_STATS.message, ERROR_TEAM_STATS.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.stats) {\r\n      this.fetchTeamStats();\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let index = 0;\r\n        if (this.state.stats.team) {\r\n          const teamMembers = this.state.stats.team.map((member) => {\r\n            return (\r\n              <TeamMemberStats username={member.username} kd={member.kd} wl={member.wl} mmr={member.mmr} mmrchange={member.mmrchange} level={member.level}/>\r\n            )\r\n          });\r\n          contents = (\r\n            <div className=\"team-statistics\">\r\n              <h2>Statistics</h2>\r\n              <div className=\"overview\">\r\n                <h3 className=\"overview-label\">Team Performance</h3>\r\n                <ProgressCircle value={this.state.stats.kd} label=\"K/D\"/>\r\n                <ProgressCircle value={this.state.stats.wl} label=\"W/L\"/>\r\n                <ProgressCircle value={this.state.stats.mmr} label=\"MMR\"/>\r\n                <p className=\"team-stat-label\"><span className=\"stat-label\">MMR +/-</span> {this.state.stats.mmrchange}</p>\r\n              </div>\r\n              <div className=\"member-statistics\">\r\n                <h3 className=\"overview-label\">Individual Performances</h3>\r\n                { teamMembers }\r\n              </div>\r\n            </div>\r\n          );\r\n        } else {\r\n          contents = <ErrorLoading/>\r\n        }\r\n      }\r\n    } else {\r\n      contents = <Loading/>\r\n    }\r\n    return (\r\n      <div id=\"ViewTeamStatisticsAPI\">\r\n        <div>\r\n          { contents }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewTeamStatisticsAPI;\r\n","/* client/components/api/LeaveTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_LEFT } from \"../../messages/messages.js\";\r\nimport { ERROR_LEAVE_TEAM } from \"../../messages/errors.js\";\r\n\r\n/*\r\n  @func: LeaveTeamAPI\r\n  @desc: make request to server to leave team\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass LeaveTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Are you sure you want to leave the team?\")) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/leave-team\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case TEAM_LEFT.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"You have left the team.\", \"SUCCESS\");\r\n            this.props.updateAuthToken();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.props.alert(ERROR_LEAVE_TEAM.message, ERROR_LEAVE_TEAM.status);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"LeaveTeamAPI\">\r\n        <button onClick={this.onSubmit} className=\"button--danger\">Leave Team</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LeaveTeamAPI;\r\n","/* client/src/components/pages/Team.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport CreateTeamAPI from \"../api/CreateTeamAPI.js\";\r\nimport JoinTeamAPI from \"../api/JoinTeamAPI.js\";\r\nimport ViewTeamAPI from \"../api/ViewTeamAPI.js\";\r\nimport ViewTeamStatisticsAPI from \"../api/ViewTeamStatisticsAPI.js\";\r\nimport LeaveTeamAPI from \"../api/LeaveTeamAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: Team\r\n  @desc: render team page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop team_code: String\r\n  @prop alert: function\r\n  @prop status: String\r\n*/\r\nconst Team = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"team\">\r\n      <h1>Team</h1>\r\n      { props.team_code ? (\r\n        <div className=\"hasTeam\">\r\n          { props.status === \"ADMIN\" ? (\r\n            <Link className=\"button\" to=\"/team/manage\">Manage Team</Link>\r\n          ) : \"\"}\r\n          <ViewTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          <ViewTeamStatisticsAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          <LeaveTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n        </div>\r\n      ) : (\r\n        <div className=\"hasNoTeam\">\r\n          <h2>You do not have a team</h2>\r\n          <p>It appears that you do not belong to a team. In order to use all the features of Stratbook, make or join one here.</p>\r\n          <div className=\"team-grid\">\r\n            <CreateTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} name={props.name} alert={props.alert}/>\r\n            <JoinTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Team;\r\n","/* client/src/components/api/UpdateTeamNameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { TEAM_FOUND } from \"../../messages/messages.js\";\r\nimport { TEAM_NAME_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_VIEW_TEAM } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_NAME } from \"../../messages/errors.js\";\r\n\r\nclass UpdateTeamNameAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamName = this.fetchTeamName.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      currentName: \"\",\r\n      newName: \"\"\r\n    }\r\n  }\r\n  fetchTeamName() {\r\n    const component = this;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            currentName: response.data.team_data.name\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_VIEW_TEAM.message, ERROR_VIEW_TEAM.status);\r\n    });\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      newName: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-name\", {\r\n      name: this.state.newName\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_NAME_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n            currentName: component.state.newName\r\n          });\r\n          component.props.alert(\"Team name has been updated.\", \"SUCCESS\");\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_NAME.message, ERROR_UPDATE_TEAM_NAME.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (this.state.loading) {\r\n      this.fetchTeamName();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"UpdateTeamNameAPI\">\r\n      { this.state.loading ? (\r\n        <Loading/>\r\n      ) : (\r\n        <div>\r\n          <h3 className=\"current-name\">Team Name</h3>\r\n          <div className=\"update-name-group\">\r\n            <input className=\"team-name-input form__input\" onChange={this.onChange} id=\"newName\" type=\"text\" value={this.state.newName} placeholder={this.state.currentName}/>\r\n            <button className=\"team-name-button button\" onClick={this.onSubmit}>Update Name</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateTeamNameAPI;\r\n","/* client/src/components/api/TeamAnnouncementAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { ANNOUNCEMENT_SENT } from \"../../messages/messages.js\";\r\nimport { ERROR_ANNOUNCE } from \"../../messages/errors.js\";\r\n\r\nclass TeamAnnouncementAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      message: \"\"\r\n    }\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      message: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(\"/api/teams/announce\", {\r\n      announcement: this.state.message\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case ANNOUNCEMENT_SENT.status:\r\n          component.setState({\r\n            loading: false,\r\n            message: \"\"\r\n          });\r\n          component.props.alert(ANNOUNCEMENT_SENT.message, \"SUCCESS\");\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_ANNOUNCE.message, ERROR_ANNOUNCE.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"TeamAnnouncementAPI\">\r\n      { this.state.loading ? (\r\n        <Loading/>\r\n      ) : (\r\n        <div>\r\n          <h3>Make Announcement</h3>\r\n          <div className=\"announcement-input\">\r\n            <textarea onChange={this.onChange} type=\"text\" value={this.state.message} rows={5}/>\r\n            <button onClick={this.onSubmit}>Send</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TeamAnnouncementAPI;\r\n","/* client/src/components/partials/ManageTeamMember.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func ManageTeamMember\r\n  @desc manage state of team member on roster\r\n\r\n  @prop username: String\r\n  @prop status: String\r\n  @prop updateUserStatus: function\r\n  @prop blockUser: function\r\n\r\n*/\r\n\r\nconst ManageTeamMember = (props) => {\r\n  return (\r\n    <div className=\"manage-team-member\">\r\n      <h4 className=\"manage-team-member__username\">{props.username}</h4>\r\n      { props.status === \"ADMIN\" ? (\r\n        <p className=\"manage-team-member__status\">{props.status}</p>\r\n      ) : (\r\n        <select className=\"manage-team-member__input form__select\" onChange={(e) => { props.updateUserStatus(props.username, e.target.value) }} value={props.status}>\r\n          <option>MEMBER</option>\r\n          <option>EDITOR</option>\r\n          <option>ADMIN</option>\r\n        </select>\r\n      )}\r\n      { props.status === \"ADMIN\" ? (\"\") : (\r\n        <button onClick={() => { props.blockUser(props.username) }} className=\"manage-team-member__button button button--warning\">Block User</button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageTeamMember;\r\n","/* client/src/components/api/ManageTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_FOUND } from \"../../messages/messages.js\";\r\nimport { USER_STATUS_UPDATED } from \"../../messages/emails.js\";\r\nimport { USER_BLOCKED } from \"../../messages/messages.js\";\r\nimport { TEAM_STATUS_UPDATED } from \"../../messages/emails.js\";\r\nimport { TEAM_PLATFORM_UPDATED } from \"../../messages/messages.js\";\r\nimport { TEAM_MMR_UPDATED } from \"../../messages/messages.js\";\r\nimport { ERROR_TEAM } from\"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_USER_STATUS } from \"../../messages/errors.js\";\r\nimport { ERROR_BLOCK_USER } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_STATUS } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_PLATFORM } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_MMR } from \"../../messages/errors.js\";\r\nimport { RANKS, MMR_THRESHOLDS } from \"../../data.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport ManageTeamMember from \"../partials/ManageTeamMember.js\";\r\n\r\n/*\r\n  @func: ManageTeamAPI\r\n  @desc: manage state of team data\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ManageTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamData.bind(this);\r\n    this.updateUserStatus = this.updateUserStatus.bind(this);\r\n    this.blockUser = this.blockUser.bind(this);\r\n    this.updateTeamStatus = this.updateTeamStatus.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.changeTeamPlatform = this.changeTeamPlatform.bind(this);\r\n    this.changeTeamMMR = this.changeTeamMMR.bind(this);\r\n\r\n    this.state = {\r\n      team: {},\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamData() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n\r\n        case TEAM_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            team: response.data.team_data,\r\n            status: (response.data.team_data.open ? \"Allow New Members\" : \"No New Members\"),\r\n            platform: response.data.team_data.platform,\r\n            mmr: response.data.team_data.mmr\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_TEAM.message, ERROR_TEAM.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.team.name) {\r\n      this.fetchTeamData();\r\n    }\r\n  }\r\n  updateUserStatus(username, status) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-user-status\", {\r\n      username: username,\r\n      status: status\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      switch (response.data.status) {\r\n        case USER_STATUS_UPDATED.status:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.fetchTeamData();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_UPDATE_USER_STATUS.message, ERROR_UPDATE_USER_STATUS.status);\r\n    });\r\n  }\r\n  blockUser(username) {\r\n    if (window.confirm(`You are about to block ${username} from the team. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/block-user\", {\r\n        username: username\r\n      })\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case USER_BLOCKED.status:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"SUCCESS\", \"User has been blocked successfully.\");\r\n            component.fetchTeamData();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n        setTimeout(() => {\r\n          window.location.reload(false);\r\n        }, 500);\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(ERROR_BLOCK_USER.message, ERROR_BLOCK_USER.status);\r\n      });\r\n    }\r\n  }\r\n  updateTeamStatus() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-team-status\", {\r\n      status: (component.state.status === \"Allow New Members\" ? true : false)\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_STATUS_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n            status: (response.data.open ? \"Allow New Members\" : \"No New Members\")\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_STATUS.message, ERROR_UPDATE_TEAM_STATUS.status);\r\n    });\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      status: e.target.value\r\n    }, this.updateTeamStatus);\r\n  }\r\n  changeTeamPlatform(e) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      platform: e.target.value\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-team-platform\", {\r\n      platform: e.target.value\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_PLATFORM_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_PLATFORM.message, ERROR_UPDATE_TEAM_PLATFORM.status);\r\n    });\r\n  }\r\n  changeTeamMMR(e) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-team-mmr\", {\r\n      mmr: RANKS[e.target.value]\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_MMR_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your team MMR threshold has been updated.\", \"SUCCESS\");\r\n          component.fetchTeamData();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_MMR.message, ERROR_UPDATE_TEAM_MMR.status);\r\n    });\r\n  }\r\n  render() {\r\n    let contents = <Loading/>;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let teamMembers = [];\r\n        let index = 0;\r\n        this.state.team.admins.map((admin) => {\r\n          teamMembers.push(<ManageTeamMember username={admin.username} status={admin.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        });\r\n        this.state.team.editors.map((editor) => {\r\n          teamMembers.push(<ManageTeamMember username={editor.username} status={editor.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        });\r\n        this.state.team.members.map((member) => {\r\n          teamMembers.push(<ManageTeamMember username={member.username} status={member.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        })\r\n        contents = (\r\n          <div className=\"team\">\r\n            { teamMembers }\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ManageTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <h3>Roster</h3>\r\n            { contents }\r\n            <div className=\"team-status\">\r\n              <p>Team Status</p>\r\n              <select onChange={this.onChange} value={this.state.status}>\r\n                <option>Allow New Members</option>\r\n                <option>No New Members</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"team-platform\">\r\n              <p>Team Platform</p>\r\n              <select onChange={this.changeTeamPlatform} value={this.state.platform}>\r\n                <option>XBOX</option>\r\n                <option>PC</option>\r\n                <option>PS4</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"team-mmr\">\r\n              <p>MMR Threshold</p>\r\n              <select onChange={this.changeTeamMMR} value={MMR_THRESHOLDS[this.state.mmr]}>\r\n                <option>None</option>\r\n                <option>Silver III</option>\r\n                <option>Silver II</option>\r\n                <option>Silver I</option>\r\n                <option>Gold III</option>\r\n                <option>Gold II</option>\r\n                <option>Gold I</option>\r\n                <option>Platinum III</option>\r\n                <option>Platinum II</option>\r\n                <option>Platinum I</option>\r\n                <option>Diamond</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ManageTeamAPI;\r\n","/* client/src/components/api/UpdateTeamNameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { TEAM_DELETED } from \"../../messages/messages.js\";\r\nimport { ERROR_DELETE_TEAM } from \"../../messages/errors.js\";\r\n\r\nclass DeleteTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Deleting your team is a permanent action that cannot be undone. All data associated with this team will be purged from the Stratbook databases. Are you sure you want to do this?\")) {\r\n      const component = this;\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(\"/api/teams/delete-team\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case TEAM_DELETED.status:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"Your team has been deleted.\", \"SUCCESS\");\r\n            component.props.updateAuthToken();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.updateAuthToken();\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(ERROR_DELETE_TEAM.message, ERROR_DELETE_TEAM.status);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"DeleteTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <button onClick={this.onSubmit} className=\"form__button form__button--submit button button--danger\" id=\"DeleteTeamAPI\">Delete Team</button>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteTeamAPI;\r\n","/* client/src/components/api/BlockedUsersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport { BLOCKED_USERS_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_BLOCKED_USERS } from \"../../messages/errors.js\";\r\n\r\n/*\r\n  @func: BlockedUsersAPI\r\n  @desc: view and manage blocked users\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass BlockedUsersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchBlockedUsers = this.fetchBlockedUsers.bind(this);\r\n    this.unblockUser = this.unblockUser.bind(this);\r\n\r\n    this.state = {\r\n      blocked_users: undefined,\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchBlockedUsers() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-blocked-users\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case BLOCKED_USERS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            blocked_users: response.data.blocked_users\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_BLOCKED_USERS.message, ERROR_VIEW_BLOCKED_USERS.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.blocked_users) {\r\n      this.fetchBlockedUsers();\r\n    }\r\n  }\r\n  unblockUser(username, _id) {\r\n    if (window.confirm(`You are about to unblock ${username}. He/she will be able to join the team if he/she has the join code. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/unblock-user\", {\r\n        _id: _id\r\n      })\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"USER_UNBLOCKED\":\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"User has been unblocked successfully.\", \"SUCCESS\");\r\n            component.fetchBlockedUsers();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(\"An error has occurred while attempting to unblock user.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let contents = <Loading/>;\r\n    if (this.state.error) {\r\n      contents = <ErrorLoading/>;\r\n    } else {\r\n      if (this.state.blocked_users) {\r\n        if (this.state.blocked_users.length > 0) {\r\n          contents = this.state.blocked_users.map((user) => {\r\n            return (\r\n              <div className=\"blocked-user\">\r\n                <h4>{user.username}</h4>\r\n                <button className=\"button button--secondary\" onClick={() => { this.unblockUser(user.username, user._id) }}>Unblock</button>\r\n              </div>\r\n            )\r\n          })\r\n        } else {\r\n          contents = \"No users have been blocked.\";\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"BlockedUsersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <h3>Blocked Users</h3>\r\n            { contents }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlockedUsersAPI;\r\n","/* client/src/components/pages/ManageTeam.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport UpdateTeamNameAPI from \"../api/UpdateTeamNameAPI.js\";\r\nimport TeamAnnouncementAPI from \"../api/TeamAnnouncementAPI.js\";\r\nimport ManageTeamAPI from \"../api/ManageTeamAPI.js\";\r\nimport DeleteTeamAPI from \"../api/DeleteTeamAPI.js\";\r\nimport BlockedUsersAPI from \"../api/BlockedUsersAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: ManageTeam\r\n  @desc: render manage team page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst ManageTeam = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"manage-team\">\r\n      <h1>Manage Team</h1>\r\n      <Link className=\"button\" to=\"/team\">Back to Team</Link>\r\n      <div id=\"TeamControls\">\r\n        <UpdateTeamNameAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n        <TeamAnnouncementAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      </div>\r\n      <ManageTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      <BlockedUsersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      <DeleteTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageTeam;\r\n","/* client/src/components/partials/Toolbar.js */\r\n\r\nimport React from \"react\";\r\nimport Dropdown from \"./Dropdown.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Toolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeName = this.changeName.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.updateStrategyName = this.updateStrategyName.bind(this);\r\n    this.toggleStrategyNavigation = this.toggleStrategyNavigation.bind(this);\r\n\r\n    this.state = {\r\n      strategy: (this.props.strategy !== \"\" ? this.props.strategy : \"Unnamed\"),\r\n      active: false,\r\n      nav: false\r\n    }\r\n  }\r\n  changeName() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    });\r\n  }\r\n  updateName(e) {\r\n    this.setState({\r\n      strategy: e.target.value\r\n    });\r\n  }\r\n  updateStrategyName() {\r\n    if (this.state.strategy !== \"\" && this.state.strategy !== \" \") {\r\n      this.props.updateStrategyName(this.state.strategy);\r\n      this.setState({\r\n        active: false\r\n      });\r\n    } else {\r\n      this.props.alert(\"Strategy name cannot be empty.\");\r\n    }\r\n  }\r\n  toggleStrategyNavigation() {\r\n    this.setState({\r\n      nav: !this.state.nav\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.strategy !== this.state.strategy && !this.state.active) {\r\n      this.setState({\r\n        strategy: this.props.strategy\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let sites = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.sites.map((site, index) => {\r\n        return (\r\n          <button onClick={() => { this.props.selectSite(index) }} className={(index === this.props.siteIndex ? \"site--active\" : \"\")} key={index}>{site}</button>\r\n        )\r\n      })\r\n    ))\r\n    let strategies = this.props.strategies.map((strat, index) => {\r\n      return (\r\n        <button onClick={() => { this.props.selectStrategy(index) }} className={(index === this.props.strategyIndex ? \"strategy--active\" : \"\")} key={index}>{strat.name}</button>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className={\"toolbar\" + (this.state.nav ? \" toolbar--active\" : \"\")}>\r\n        <button onClick={this.toggleStrategyNavigation} className={\"toolbar__navigation-button\" + (this.state.nav ? \" toolbar__navigation-button--active\" : \"\")}>&#9776;</button>\r\n        { this.state.active ? (\r\n          <div className=\"strategy__name-input\">\r\n            <input className=\"strategy__input\" onChange={this.updateName} value={this.state.strategy}/>\r\n            <button onClick={this.updateStrategyName}>&#10003;</button>\r\n          </div>\r\n        ) : (\r\n          <h4 className=\"toolbar__strategy\" onClick={this.changeName}>{this.state.strategy}</h4>\r\n        )}\r\n        { this.props.type === \"ATTACK\" ? (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\" onClick={this.props.insertDrone}>\r\n              <img className=\"action__img\" src=\"../../media/min/drone.png\"/>\r\n              <p>Drones ({this.props.drones.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\" onClick={this.props.insertBreach}>\r\n              <img className=\"action__img\" src=\"../../media/min/breach.png\"/>\r\n              <p>Breaches ({this.props.breaches.length})</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\" onClick={this.props.insertReinforcement}>\r\n              <img className=\"action__img\" src=\"../../media/min/reinforcement.png\"/>\r\n              <p>Reinforcements ({this.props.reinforcements.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\" onClick={this.props.insertRotate}>\r\n              <img className=\"action__img\" src=\"../../media/min/rotate.png\"/>\r\n              <p>Rotates ({this.props.rotates.length})</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className={\"toolbar__navigation\" + (this.state.nav ? \" toolbar__navigation--active\" : \"\")}>\r\n          <h3>{this.props.map.name}</h3>\r\n          <button className=\"button toolbar__button\" onClick={this.props.save}>Save</button>\r\n          <Link to=\"/strategies/edit\" onClick={this.props.fetchStrategies} id=\"showMaps\">Back to Maps</Link>\r\n          <div className=\"strategy__navigation\">\r\n            <h4>Mode</h4>\r\n            <div className=\"type-selector\">\r\n              <button onClick={() => { this.props.updateType(\"ATTACK\") }} className={this.props.type === \"ATTACK\" ? \"type--active\" : \"\"}>Attack</button>\r\n              <button onClick={() => { this.props.updateType(\"DEFENSE\") }} className={this.props.type === \"ATTACK\" ? \"\" : \"type--active\"}>Defense</button>\r\n            </div>\r\n            { this.props.type === \"ATTACK\" ? \"\" : (\r\n              <div className=\"site-container\">\r\n                <h4>Sites</h4>\r\n                <div>\r\n                  { sites }\r\n                </div>\r\n              </div>\r\n            )}\r\n            <h4>Strategies</h4>\r\n            <div className=\"strategy-selector\">\r\n              { strategies }\r\n              <div className=\"strategy-control\">\r\n                <button onClick={this.props.addStrategy}>Add Strategy</button>\r\n                <button onClick={this.props.removeStrategy}>Remove Strategy</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Toolbar;\r\n","/* client/src/components/partials/Dropdown.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass Dropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggle() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    });\r\n  }\r\n  render() {\r\n    const items = this.props.links.map((link, index) => {\r\n      return (\r\n        <p className=\"dropdown-item\" onClick={() => {\r\n            this.toggle();\r\n            this.props.actions[index]();\r\n          }} key={index}>{link}</p>\r\n      )\r\n    });\r\n    return (\r\n      <div className={\"dropdown\" + (this.state.active ? \" dropdown--active\" : \"\")}>\r\n        <p className=\"dropdown-title\" onClick={this.toggle}>{this.props.title}</p>\r\n        <div className=\"dropdown-body\">\r\n          { items }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Dropdown;\r\n","/* client/src/components/partials/Sidebar.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass Sidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeName = this.changeName.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.toggleSidebar = this.toggleSidebar.bind(this);\r\n\r\n    this.state = {\r\n      index: 0,\r\n      name: \"\",\r\n      active: false,\r\n      showSidebar: false\r\n    }\r\n  }\r\n  changeName(e, index) {\r\n    if (e) {\r\n      e.stopPropagation();\r\n    }\r\n    if (this.state.active) {\r\n      this.props.updateSceneName(this.state.name, this.state.index);\r\n      this.setState({\r\n        index: 0,\r\n        name: \"\",\r\n        active: false\r\n      });\r\n    } else {\r\n      this.setState({\r\n        index: index,\r\n        name: this.props.scenes[index].name,\r\n        active: true\r\n      });\r\n    }\r\n  }\r\n  updateName(e) {\r\n    this.setState({\r\n      name: e.target.value\r\n    });\r\n  }\r\n  toggleSidebar() {\r\n    this.setState({\r\n      showSidebar: !this.state.showSidebar\r\n    });\r\n  }\r\n  render() {\r\n    const sites = this.props.sites.map((site, index) => {\r\n      return (\r\n        <div className={\"site\" + (this.props.siteIndex === index ? \" site--active\" : \"\")} onClick={() => { this.props.selectSite(index) }} key={index}>\r\n          <span className=\"site__number\">Site {index + 1}</span>\r\n          <p className=\"site__name\">{site}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const scenes = this.props.scenes.map((scene, index) => {\r\n      return (\r\n        <div className={\"scene\" + (this.props.sceneIndex === index ? \" scene--active\" : \"\")}\r\n          onClick={() => {\r\n            if (!this.state.active) {\r\n              this.props.selectScene(index);\r\n            }\r\n          }} key={index}>\r\n          <span className=\"scene__number\">Scene {index + 1}</span>\r\n          { this.state.active && this.state.index === index ? (\r\n            <div className=\"scene__name-input\">\r\n              <input className=\"scene__input\" onChange={this.updateName} value={this.state.name}/>\r\n              <button onClick={this.changeName}>&#10003;</button>\r\n            </div>\r\n          ) : (\r\n            <p className=\"scene__name\" onClick={(e) => { this.changeName(e, index) }}>{scene.name}</p>\r\n          )}\r\n        </div>\r\n      )\r\n    });\r\n    const strategies = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.strategies.map((strat, index) => {\r\n        return (\r\n          <div className={\"strategy\" + (this.props.strategyIndex === index ? \" strategy--active\" : \"\")} onClick={() => { this.props.selectStrategy(index) }} key={index}>\r\n            <p className=\"strategy__name\">{strat.name}</p>\r\n          </div>\r\n        )\r\n      })\r\n    ));\r\n    return (\r\n      <div className={\"sidebar\" + (this.state.showSidebar ? \" sidebar--active\" : \"\")}>\r\n        <button onClick={this.toggleSidebar}>&#8594;</button>\r\n        <div className=\"sidebar-body\">\r\n          { this.props.type === \"ATTACK\" ? (\r\n            <div className=\"site-container\">\r\n              <h3 className=\"site-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"site-container__subtitle\">{this.props.strategy}</h4>\r\n              { sites }\r\n            </div>\r\n          ) : (\r\n            <div className=\"strategy-container\">\r\n              <h3 className=\"strategy-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"strategy-container__subtitle\">{this.props.sites[this.props.siteIndex]}</h4>\r\n              { strategies }\r\n            </div>\r\n          )}\r\n          <div className=\"scene-container\">\r\n            <h3 className=\"scene-container__heading\">Scenes</h3>\r\n            { scenes }\r\n          </div>\r\n          <div className=\"scene-controls\">\r\n            <button onClick={this.props.addScene}>Add Scene</button>\r\n            <button onClick={this.props.removeScene}>Remove Scene</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Sidebar;\r\n","/* client/src/components/partials/FloorSelector.js */\r\n\r\nimport React from \"react\";\r\n\r\nconst FloorSelector = (props) => {\r\n  const options = props.floors.map((floor, index) => {\r\n    return <option key={index}>{floor}</option>\r\n  })\r\n  return (\r\n    <select onChange={props.onChange} className=\"form__select\" value={props.floor}>\r\n      {options}\r\n    </select>\r\n  )\r\n}\r\n\r\nexport default FloorSelector;\r\n","/* client/src/components/partials/ZoomSelector.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ZoomSelector extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"zoom-selector\">\r\n        <p>Zoom Level: {this.props.zoom}X</p>\r\n        <input onChange={this.props.onChange} value={this.props.zoom} type=\"range\" min=\"1\" max=\"3\" step=\"0.1\"/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ZoomSelector;\r\n","/* client/components/partials/Pagination.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Pagination\r\n  @desc: allow a user to page through content\r\n*/\r\nconst Pagination = (props) => {\r\n  console.log(props);\r\n  return (\r\n    <div className=\"pagination\">\r\n      <button className=\"pagination__button\" onClick={() => {\r\n        if (props.index - 1 > 0) {\r\n          props.onChange(props.index - 1);\r\n        }\r\n      }}> &lt; </button>\r\n      <p className=\"pagination__title\">{props.activeLabel}</p>\r\n      <button className=\"pagination__button\" onClick={() => {\r\n        if (props.index + 1 < props.labels.length) {\r\n          props.onChange(props.index + 1);\r\n        }\r\n      }}> &gt; </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination;\r\n","/* client/src/components/partials/DragItem.js */\r\n\r\nimport React from \"react\";\r\nimport r6operators from \"r6operators\";\r\n\r\nclass DragItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.removeItem = this.removeItem.bind(this);\r\n\r\n    this.state = {\r\n      drag: false,\r\n      x: this.props.x,\r\n      y: this.props.y,\r\n      selected: (this.props.selected && (this.props.type === this.props.selected.type) && (this.props.index === this.props.selected.index) && (!this.props.selected.gi || this.props.selected.gi && this.props.gi === this.props.selected.gi))\r\n    }\r\n  }\r\n  removeItem() {\r\n    if (this.props.type === \"OPERATOR\") {\r\n      this.props.removeOperator(this.props.index);\r\n    }\r\n    if (this.props.type === \"GADGET\") {\r\n      this.props.removeGadget(this.props.index, this.props.gi);\r\n    }\r\n    if (this.props.type === \"UTILITY\") {\r\n      this.props.removeUtility(this.props.index, this.props.gi);\r\n    }\r\n    if (this.props.type === \"DRONE\") {\r\n      this.props.removeDrone(this.props.index);\r\n    }\r\n    if (this.props.type === \"BREACH\") {\r\n      this.props.removeBreach(this.props.index);\r\n    }\r\n    if (this.props.type === \"REINFORCEMENT\") {\r\n      this.props.removeReinforcement(this.props.index);\r\n    }\r\n    if (this.props.type === \"ROTATE\") {\r\n      this.props.removeRotate(this.props.index);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    let selected = this.props.selected && (this.props.type === this.props.selected.type) && (this.props.index === this.props.selected.index) && (!this.props.selected.gi || this.props.selected.gi && this.props.gi === this.props.selected.gi);\r\n    if (this.state.selected !== selected) {\r\n      this.setState({\r\n        selected: selected\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ top: (this.props.y ? this.props.y : 0), left: (this.props.x ? this.props.x : 0), backgroundImage: `url(${this.props.url})`, backgroundSize: \"cover\", backgroundPosition: \"center\" }}\r\n      className={\"drag-item\" + ` drag-${this.props.type.toLowerCase()}` + (this.props.drag ? \" drag\" : \"\") + (this.state.selected ? \" drag-item--selected\" : \"\")}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n\r\n        }}\r\n        onMouseDown={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.setState({\r\n            drag: true\r\n          }, () => {\r\n            if (this.props.type === \"GADGET\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else if (this.props.type === \"UTILITY\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else {\r\n              this.props.selectElement(this.props.index, this.props.type);\r\n            }\r\n          });\r\n        }}\r\n        onTouchStart={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.setState({\r\n            drag: true\r\n          }, () => {\r\n            if (this.props.type === \"GADGET\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else if (this.props.type === \"UTILITY\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else {\r\n              this.props.selectElement(this.props.index, this.props.type);\r\n            }\r\n          })\r\n        }}\r\n        data-type={this.props.type}>\r\n        { this.props.labels ? (\r\n          <span>{(this.props.type === \"GADGET\" || this.props.type === \"UTILITY\" || this.props.type === \"OPERATOR\" ? this.props.value.replace(\"_\", \" \").replace(\"_\", \" \").toUpperCase() : \"\")}</span>\r\n        ) : \"\"}\r\n        { this.state.selected ? (\r\n          <button className=\"drag-item__button\" onClick={this.removeItem}>X</button>\r\n        ) : \"\"}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DragItem;\r\n","/* client/src/components/partials/PositionOverlay.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport DragItem from \"./DragItem.js\";\r\n\r\nlet width = 30;\r\nlet height = 30;\r\n\r\nclass PositionOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Handle drag items\r\n    this.selectElement = this.selectElement.bind(this);\r\n    this.deselectElement = this.deselectElement.bind(this);\r\n    this.translateElement = this.translateElement.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n    this.onTouchMove = this.onTouchMove.bind(this);\r\n\r\n    // Handle drag canvas\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n\r\n    // Handle new props\r\n    this.detectChange = this.detectChange.bind(this);\r\n\r\n    this.innerSelector = React.createRef();\r\n\r\n    this.state = {\r\n      index: 0,\r\n      type: \"\",\r\n      operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n      gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n      utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n      drones: (this.props.drones ? [...this.props.drones] : []),\r\n      rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n      reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n      breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n      style: JSON.parse(JSON.stringify(this.props.style)),\r\n      selected: {}\r\n    }\r\n  }\r\n  selectElement(index, type, gi) {\r\n    this.setState({\r\n      index: index,\r\n      drag: true,\r\n      type: type,\r\n      gi: gi,\r\n      selected: {\r\n        type: type,\r\n        index: index,\r\n        gi: gi\r\n      }\r\n    }, () => {\r\n      document.addEventListener(\"mousemove\", this.onMouseMove);\r\n      document.addEventListener(\"mouseup\", this.onMouseUp);\r\n      document.addEventListener(\"touchmove\", this.onTouchMove);\r\n      document.addEventListener(\"touchend\", this.onMouseUp);\r\n      document.addEventListener(\"keydown\", this.translateElement);\r\n    });\r\n  }\r\n  deselectElement() {\r\n    this.setState({\r\n      selected: {}\r\n    });\r\n    document.removeEventListener(\"keydown\", this.translateElement);\r\n  }\r\n  translateElement(e) {\r\n    if (37 <= e.keyCode <= 40) {\r\n      e.preventDefault();\r\n      let newPositions;\r\n      switch (this.state.selected.type) {\r\n        case \"OPERATOR\":\r\n          newPositions = [...this.state.operatorPositions];\r\n          break;\r\n        case \"DRONE\":\r\n          newPositions = [...this.state.drones];\r\n          break;\r\n        case \"GADGET\":\r\n          newPositions = [...this.state.gadgetPositions][this.state.selected.index];\r\n          break;\r\n        case \"UTILITY\":\r\n          newPositions = [...this.state.utilityPositions][this.state.selected.index];\r\n          break;\r\n        case \"ROTATE\":\r\n          newPositions = [...this.state.rotates];\r\n          break;\r\n        case \"REINFORCEMENT\":\r\n          newPositions = [...this.state.reinforcements];\r\n          break;\r\n        case \"BREACH\":\r\n          newPositions = [...this.state.breaches];\r\n          break;\r\n      }\r\n\r\n      let newX;\r\n      let newY;\r\n      if (this.state.selected.type === \"GADGET\" || this.state.selected.type === \"UTILITY\") {\r\n        newX = newPositions[this.state.selected.gi].x;\r\n        newY = newPositions[this.state.selected.gi].y;\r\n      } else {\r\n        newX = newPositions[this.state.selected.index].x;\r\n        newY = newPositions[this.state.selected.index].y;\r\n      }\r\n\r\n      if (e.keyCode === 37) {\r\n        newX -= 2;\r\n      }\r\n      if (e.keyCode === 38) {\r\n        newY -= 2;\r\n      }\r\n      if (e.keyCode === 39) {\r\n        newX += 2;\r\n      }\r\n      if (e.keyCode === 40) {\r\n        newY += 2;\r\n      }\r\n\r\n      if (this.state.selected.type === \"GADGET\" || this.state.selected.type === \"UTILITY\") {\r\n        newPositions[this.state.selected.gi].x = newX;\r\n        newPositions[this.state.selected.gi].y = newY;\r\n      } else {\r\n        newPositions[this.state.selected.index].x = newX;\r\n        newPositions[this.state.selected.index].y = newY;\r\n      }\r\n\r\n      let positions;\r\n      switch (this.state.selected.type) {\r\n        case \"OPERATOR\":\r\n          this.setState({\r\n            operatorPositions: newPositions\r\n          });\r\n          break;\r\n        case \"DRONE\":\r\n          this.setState({\r\n            drones: newPositions\r\n          });\r\n          break;\r\n        case \"GADGET\":\r\n          positions = [...this.state.gadgetPositions];\r\n          positions[this.state.selected.index] = newPositions;\r\n          this.setState({\r\n            gadgetPositions: positions\r\n          });\r\n          break;\r\n        case \"UTILITY\":\r\n          positions = [...this.state.utilityPositions];\r\n          positions[this.state.selected.index] = newPositions;\r\n          this.setState({\r\n            utilityPositions: positions\r\n          });\r\n          break;\r\n        case \"ROTATE\":\r\n          this.setState({\r\n            rotates: newPositions\r\n          });\r\n          break;\r\n        case \"REINFORCEMENT\":\r\n          this.setState({\r\n            reinforcements: newPositions\r\n          });\r\n          break;\r\n        case \"BREACH\":\r\n          this.setState({\r\n            breaches: newPositions\r\n          });\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  onDrag(e) {\r\n    this.props.onDragStart(e);\r\n    this.deselectElement();\r\n  }\r\n  onDragTouch(t) {\r\n    this.props.onDragTouch(t);\r\n    this.deselectElement();\r\n  }\r\n  onMouseMove(e) {\r\n    let newPositions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        newPositions = [...this.state.operatorPositions];\r\n        break;\r\n      case \"DRONE\":\r\n        newPositions = [...this.state.drones];\r\n        break;\r\n      case \"GADGET\":\r\n        newPositions = [...this.state.gadgetPositions][this.state.index];\r\n        break;\r\n      case \"UTILITY\":\r\n        newPositions = [...this.state.utilityPositions][this.state.index];\r\n        break;\r\n      case \"ROTATE\":\r\n        newPositions = [...this.state.rotates];\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        newPositions = [...this.state.reinforcements];\r\n        break;\r\n      case \"BREACH\":\r\n        newPositions = [...this.state.breaches];\r\n        break;\r\n    }\r\n\r\n    let newX = e.pageX - (this.state.bounds.left);\r\n    let newY = e.pageY - (this.state.bounds.top);\r\n\r\n    if (this.props.zoom > 1) {\r\n      const centerX = this.state.bounds.width / 2;\r\n      const centerY = this.state.bounds.height / 2;\r\n      if (newX > centerX) {\r\n        newX = (centerX / this.props.zoom) + ((newX - centerX) / this.props.zoom);\r\n      } else {\r\n        newX = (centerX / this.props.zoom) - ((centerX - newX) / this.props.zoom);\r\n      }\r\n\r\n      if (newY > centerY) {\r\n        newY = (centerY / this.props.zoom) + ((newY - centerY) / this.props.zoom);\r\n      } else {\r\n        newY = (centerY / this.props.zoom) - ((centerY - newY) / this.props.zoom);\r\n      }\r\n    }\r\n\r\n    newX -= ((width) / 2);\r\n    newY -= ((height) / 2);\r\n\r\n    if (newX < 0) {\r\n      newX = 0;\r\n    } else if (newX > this.props.bounds.width - width) {\r\n      newX = this.props.bounds.width - width;\r\n    }\r\n    if (newY < 0) {\r\n      newY = 0;\r\n    } else if (newY > this.props.bounds.height - height) {\r\n      newY = this.props.bounds.height - height;\r\n    }\r\n\r\n    if (this.state.type === \"GADGET\" || this.state.type === \"UTILITY\") {\r\n      newPositions[this.state.gi].x = newX;\r\n      newPositions[this.state.gi].y = newY;\r\n    } else {\r\n      newPositions[this.state.index].x = newX;\r\n      newPositions[this.state.index].y = newY;\r\n    }\r\n\r\n    let positions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        this.setState({\r\n          operatorPositions: newPositions\r\n        });\r\n        break;\r\n      case \"DRONE\":\r\n        this.setState({\r\n          drones: newPositions\r\n        });\r\n        break;\r\n      case \"GADGET\":\r\n        positions = [...this.state.gadgetPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          gadgetPositions: positions\r\n        });\r\n        break;\r\n      case \"UTILITY\":\r\n        positions = [...this.state.utilityPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          utilityPositions: positions\r\n        });\r\n        break;\r\n      case \"ROTATE\":\r\n        this.setState({\r\n          rotates: newPositions\r\n        });\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        this.setState({\r\n          reinforcements: newPositions\r\n        });\r\n        break;\r\n      case \"BREACH\":\r\n        this.setState({\r\n          breaches: newPositions\r\n        });\r\n        break;\r\n    }\r\n  }\r\n  onTouchMove(t) {\r\n    let newPositions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        newPositions = [...this.state.operatorPositions];\r\n        break;\r\n      case \"DRONE\":\r\n        newPositions = [...this.state.drones];\r\n        break;\r\n      case \"GADGET\":\r\n        newPositions = [...this.state.gadgetPositions][this.state.index];\r\n        break;\r\n      case \"UTILITY\":\r\n        newPositions = [...this.state.utilityPositions][this.state.index];\r\n        break;\r\n      case \"ROTATE\":\r\n        newPositions = [...this.state.rotates];\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        newPositions = [...this.state.reinforcements];\r\n        break;\r\n      case \"BREACH\":\r\n        newPositions = [...this.state.breaches];\r\n        break;\r\n    }\r\n\r\n    let newX = t.touches[0].pageX - this.state.bounds.left;\r\n    let newY = t.touches[0].pageY - this.state.bounds.top;\r\n\r\n    if (this.props.zoom > 1) {\r\n      const centerX = this.state.bounds.width / 2;\r\n      const centerY = this.state.bounds.height / 2;\r\n      if (newX > centerX) {\r\n        newX = (centerX / this.props.zoom) + ((newX - centerX) / this.props.zoom);\r\n      } else {\r\n        newX = (centerX / this.props.zoom) - ((centerX - newX) / this.props.zoom);\r\n      }\r\n\r\n      if (newY > centerY) {\r\n        newY = (centerY / this.props.zoom) + ((newY - centerY) / this.props.zoom);\r\n      } else {\r\n        newY = (centerY / this.props.zoom) - ((centerY - newY) / this.props.zoom);\r\n      }\r\n    }\r\n\r\n    newX -= ((width) / 2);\r\n    newY -= ((height) / 2);\r\n\r\n    if (newX < 0) {\r\n      newX = 0;\r\n    } else if (newX > this.props.bounds.width - width) {\r\n      newX = this.props.bounds.width - width;\r\n    }\r\n    if (newY < 0) {\r\n      newY = 0;\r\n    } else if (newY > this.props.bounds.height - height) {\r\n      newY = this.props.bounds.height - height;\r\n    }\r\n\r\n    if (this.state.type === \"GADGET\" || this.state.type === \"UTILITY\") {\r\n      newPositions[this.state.gi].x = newX;\r\n      newPositions[this.state.gi].y = newY;\r\n    } else {\r\n      newPositions[this.state.index].x = newX;\r\n      newPositions[this.state.index].y = newY;\r\n    }\r\n\r\n    let positions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        this.setState({\r\n          operatorPositions: newPositions\r\n        });\r\n        break;\r\n      case \"DRONE\":\r\n        this.setState({\r\n          drones: newPositions\r\n        });\r\n        break;\r\n      case \"GADGET\":\r\n        positions = [...this.state.gadgetPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          gadgetPositions: positions\r\n        });\r\n        break;\r\n      case \"UTILITY\":\r\n        positions = [...this.state.utilityPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          utilityPositions: positions\r\n        });\r\n        break;\r\n      case \"ROTATE\":\r\n        this.setState({\r\n          rotates: newPositions\r\n        });\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        this.setState({\r\n          reinforcements: newPositions\r\n        });\r\n        break;\r\n      case \"BREACH\":\r\n        this.setState({\r\n          breaches: newPositions\r\n        });\r\n        break;\r\n    }\r\n  }\r\n  onMouseUp(e) {\r\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    document.removeEventListener(\"touchmove\", this.onTouchMove);\r\n    document.removeEventListener(\"touchend\", this.onMouseUp);\r\n    this.setState({\r\n      drag: false\r\n    }, () => {\r\n      switch (this.state.type) {\r\n        case \"OPERATOR\":\r\n          this.props.updateOperatorPositions(this.state.operatorPositions);\r\n          break;\r\n        case \"DRONE\":\r\n          this.props.updateDronePositions(this.state.drones);\r\n          break;\r\n        case \"GADGET\":\r\n          this.props.updateGadgetPositions(this.state.gadgetPositions);\r\n          break;\r\n        case \"UTILITY\":\r\n          this.props.updateUtilityPositions(this.state.utilityPositions);\r\n          break;\r\n        case \"ROTATE\":\r\n          this.props.updateRotatePositions(this.state.rotates);\r\n          break;\r\n        case \"REINFORCEMENT\":\r\n          this.props.updateReinforcementPositions(this.state.reinforcements);\r\n          break;\r\n        case \"BREACH\":\r\n          this.props.updateBreachPositions(this.state.breaches);\r\n          break;\r\n      }\r\n      this.setState({\r\n        type: undefined,\r\n        gi: undefined\r\n      });\r\n    });\r\n  }\r\n  detectChange(prevProps, prevState) {\r\n    let bool = false;\r\n    if (prevProps !== this.props || prevProps.zoom !== this.props.zoom) {\r\n      bool = true;\r\n    }\r\n    return bool;\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      let bounds = this.innerSelector.current.getBoundingClientRect();\r\n      let newBounds = {\r\n        top: bounds.top + window.pageYOffset,\r\n        left: bounds.left + window.pageXOffset,\r\n        x: bounds.x + window.pageXOffset,\r\n        y: bounds.y + window.pageYOffset,\r\n        width: bounds.width,\r\n        height: bounds.height\r\n      }\r\n      this.setState({\r\n        bounds: newBounds\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.detectChange(prevProps, prevState)) {\r\n      let bounds;\r\n      if (this.props.zoom !== prevProps.zoom || this.props.offsetX !== prevProps.offsetX || this.props.offsetY !== prevProps.offsetY) {\r\n        let newBounds = this.innerSelector.current.getBoundingClientRect();\r\n        bounds = {\r\n          top: newBounds.top + window.pageYOffset,\r\n          left: newBounds.left + window.pageXOffset,\r\n          x: newBounds.x + window.pageXOffset,\r\n          y: newBounds.y + window.pageYOffset,\r\n          width: newBounds.width,\r\n          height: newBounds.height\r\n        }\r\n      } else {\r\n        bounds = this.state.bounds;\r\n      }\r\n      this.setState({\r\n        index: 0,\r\n        type: \"\",\r\n        operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n        gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n        utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n        drones: (this.props.drones ? [...this.props.drones] : []),\r\n        rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n        reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n        breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n        bounds: bounds\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let breaches = [];\r\n    this.state.breaches.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/breach.png\";\r\n        breaches.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"BREACH\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let reinforcements = [];\r\n    this.state.reinforcements.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/reinforcement.png\";\r\n        reinforcements.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"REINFORCEMENT\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let rotates = [];\r\n    this.state.rotates.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/rotate.png\";\r\n        rotates.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"ROTATE\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let drones = [];\r\n    this.state.drones.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/drone.png\";\r\n        drones.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"DRONE\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n\r\n    let utility = [];\r\n    this.state.utilityPositions.map((pos, index) => {\r\n      pos.forEach((u, uindex) => {\r\n        if (u.floor === this.props.floorIndex) {\r\n          let url = `../../media/min/utility/${this.props.utility[index].replace(\" \", \"_\").replace(\" \", \"_\")}.png`;\r\n          utility.push(\r\n            <DragItem url={url}\r\n            x={u.x} y={u.y}\r\n            selectElement={this.selectElement} index={index} gi={uindex} key={uindex * index + uindex} drag={this.state.drag}\r\n            type=\"UTILITY\" bounds={this.state.bounds} value={this.props.utility[index]} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    let gadgets = [];\r\n    this.state.gadgetPositions.map((pos, index) => {\r\n      pos.forEach((g, gindex) => {\r\n        if (g.floor === this.props.floorIndex) {\r\n          let gadget = this.props.gadgets[index].gadget.replace(\" \", \"_\").replace(\" \", \"_\").toUpperCase();\r\n          let url = `../../media/min/gadgets/${gadget}.png`;\r\n          gadgets.push(\r\n            <DragItem url={url}\r\n            x={g.x} y={g.y}\r\n            selectElement={this.selectElement} index={index} gi={gindex} key={gindex * index + gindex} drag={this.state.drag}\r\n            type=\"GADGET\" bounds={this.state.bounds} value={this.props.gadgets[index].gadget} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    const operators = this.state.operatorPositions.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = `../../media/min/operators/${this.props.operators[index].toLowerCase()}.png`;\r\n        return (\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"OPERATOR\" bounds={this.state.bounds} value={this.props.operators[index]} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n    return (\r\n      <div className=\"position-overlay\" style={this.props.style} ref={this.innerSelector} onMouseDown={this.onDrag} onTouchStart={this.onDragTouch}>\r\n        { reinforcements }\r\n        { rotates }\r\n        { breaches }\r\n        { drones }\r\n        { utility }\r\n        { gadgets }\r\n        { operators }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PositionOverlay;\r\n","/* client/src/components/partials/Blueprint.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport PositionOverlay from \"./PositionOverlay.js\";\r\n\r\nconst width = 900;\r\nconst height = 675;\r\n\r\nclass BlueprintForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onDragStart = this.onDragStart.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragStop = this.onDragStop.bind(this);\r\n\r\n    this.selector = React.createRef();\r\n\r\n    this.state = {\r\n      offsetX: 0,\r\n      offsetY: 0\r\n    };\r\n  }\r\n  onDragStart(e) {\r\n    this.setState({\r\n      startX: e.clientX,\r\n      startY: e.clientY,\r\n      move: true\r\n    }, () => {\r\n      document.addEventListener(\"mousemove\", this.onDrag);\r\n      document.addEventListener(\"mouseup\", this.onDragStop);\r\n    });\r\n  }\r\n  onDragTouch(t) {\r\n    this.setState({\r\n      startX: t.touches[0].clientX,\r\n      startY: t.touches[0].clientY,\r\n      move: true\r\n    }, () => {\r\n      document.addEventListener(\"touchmove\", this.onDrag);\r\n      document.addEventListener(\"touchend\", this.onDragStop);\r\n    })\r\n  }\r\n  onDrag(e) {\r\n    let offsetX = e.clientX - this.state.startX;\r\n    let offsetY = e.clientY - this.state.startY;\r\n    if (e.touches) {\r\n      offsetX = e.touches[0].clientX - this.state.startX;\r\n      offsetY = e.touches[0].clientY - this.state.startY;\r\n    }\r\n\r\n    if (!this.state.isMobile) {\r\n      const xLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.width) - this.state.bounds.width) / 2);\r\n      const xUpperBound = this.props.zoom * ((this.state.bounds.width - (this.props.zoom * this.state.bounds.width)) / 2);\r\n      const yLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.height) - this.state.bounds.height) / 2);\r\n      const yUpperBound = this.props.zoom * ((this.state.bounds.height - (this.props.zoom * this.state.bounds.height)) / 2);\r\n\r\n      if (offsetX > xLowerBound) {\r\n        offsetX = xLowerBound;\r\n      }\r\n      if (offsetX < xUpperBound) {\r\n        offsetX = xUpperBound;\r\n      }\r\n\r\n      if (offsetY > yLowerBound) {\r\n        offsetY = yLowerBound;\r\n      }\r\n      if (offsetY < yUpperBound) {\r\n        offsetY = yUpperBound;\r\n      }\r\n    }\r\n\r\n    if (this.state.isMobile) {\r\n      offsetX += this.state.mobileOffset;\r\n    }\r\n\r\n    this.setState({\r\n      offsetX: offsetX,\r\n      offsetY: offsetY\r\n    });\r\n  }\r\n  onDragStop(e) {\r\n    document.removeEventListener(\"mousemove\", this.onDrag);\r\n    document.removeEventListener(\"mouseup\", this.onDragStop);\r\n    document.removeEventListener(\"touchmove\", this.onDrag);\r\n    document.addEventListener(\"touchend\", this.onDragStop);\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      let bounds = this.selector.current.getBoundingClientRect();\r\n      const isMobile = (Math.abs(bounds.width - width) < 20 && Math.abs(bounds.height - height) < 20 ? false : true);\r\n      bounds.width = width;\r\n      bounds.height = height;\r\n      this.setState({\r\n        bounds: bounds,\r\n        isMobile: isMobile\r\n      }, () => {\r\n        if (this.state.isMobile) {\r\n          let bounds = this.selector.current.getBoundingClientRect();\r\n          let mobileOffset = -((this.state.bounds.width / 2) - (bounds.width / 2));\r\n          this.setState({\r\n            offsetX: mobileOffset,\r\n            mobileOffset: mobileOffset\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const url = `../../media/min/maps/${this.props.map.replace(\" \", \"_\")}-${this.props.floor.toUpperCase().replace(\" \", \"_\")}-min.jpg`;\r\n    const style = {\r\n      backgroundImage: `url(${url})`,\r\n      backgroundPosition: \"center\",\r\n      backgroundSize: \"cover\",\r\n      transform: `scale(${parseFloat(this.props.zoom)}) translate(${this.state.offsetX}px, ${this.state.offsetY}px)`\r\n    };\r\n    return (\r\n      <div className=\"blueprint-form\" ref={this.selector}>\r\n        <PositionOverlay\r\n          style={style}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          removeOperator={this.props.removeOperator}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          removeGadget={this.props.removeGadget}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          removeUtility={this.props.removeUtility}\r\n          drones={this.props.drones}\r\n          removeDrone={this.props.removeDrone}\r\n          rotates={this.props.rotates}\r\n          removeRotate={this.props.removeRotate}\r\n          reinforcements={this.props.reinforcements}\r\n          removeReinforcement={this.props.removeReinforcement}\r\n          floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          removeBreach={this.props.removeBreach}\r\n          updateOperatorPositions={this.props.updateOperatorPositions}\r\n          updateGadgetPositions={this.props.updateGadgetPositions}\r\n          updateDronePositions={this.props.updateDronePositions}\r\n          updateUtilityPositions={this.props.updateUtilityPositions}\r\n          updateRotatePositions={this.props.updateRotatePositions}\r\n          updateReinforcementPositions={this.props.updateReinforcementPositions}\r\n          updateBreachPositions={this.props.updateBreachPositions}\r\n          type={this.props.type}\r\n          zoom={this.props.zoom}\r\n          bounds={this.state.bounds}\r\n          onDragStart={this.onDragStart}\r\n          onDragTouch={this.onDragTouch}\r\n          offsetX={this.state.offsetX}\r\n          offsetY={this.state.offsetY}\r\n          labels={this.props.labels}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlueprintForm;\r\n","/* client/src/components/partials/Objectives.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass Objectives extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n\r\n    this.state = {\r\n      newObj: \"\",\r\n    }\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      newObj: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    const objectives = this.props.objectives.map((obj, index) => {\r\n      return (\r\n        <li key={index}>\r\n          <div>\r\n            <p>{obj}</p>\r\n            <button onClick={() => { this.props.removeObjective(index) }}>X</button>\r\n          </div>\r\n        </li>\r\n      )\r\n    });\r\n    return (\r\n      <div className=\"objectives\">\r\n        <h3>Objectives: {this.props.scenes[this.props.sceneIndex].name}</h3>\r\n        <input onChange={this.onChange} value={this.state.newObj} placeholder=\"New Objective\"/>\r\n        <button onClick={() => {\r\n          this.props.addObjective(this.state.newObj);\r\n          this.setState({\r\n            newObj: \"\"\r\n          });\r\n        }}>Add</button>\r\n        <ul>\r\n          { objectives }\r\n        </ul>\r\n        <h3>Notes: {this.props.scenes[this.props.sceneIndex].name}</h3>\r\n        <textarea value={this.props.notes} onChange={this.props.updateNotes} rows={7}></textarea>\r\n        <h3>Video Link</h3>\r\n        <input onChange={this.props.updateVideo} value={this.props.video}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Objectives;\r\n","/* client/src/components/partials/Canvas.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport FloorSelector from \"./FloorSelector.js\";\r\nimport ZoomSelector from \"./ZoomSelector.js\";\r\nimport Pagination from \"./Pagination.js\";\r\nimport BlueprintForm from \"./BlueprintForm.js\";\r\nimport Objectives from \"./Objectives.js\";\r\n\r\nclass Canvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateZoom = this.updateZoom.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n\r\n    this.state = {\r\n      zoom: 1,\r\n      labels: false\r\n    }\r\n  }\r\n  toggleLabels() {\r\n    this.setState({\r\n      labels: !this.state.labels\r\n    })\r\n  }\r\n  updateZoom(e) {\r\n    this.setState({\r\n      zoom: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"canvas\">\r\n        <div className=\"canvas__controls\">\r\n          <FloorSelector onChange={this.props.updateFloor} floors={this.props.floors} floor={this.props.floor}/>\r\n          <ZoomSelector onChange={this.updateZoom} zoom={this.state.zoom}/>\r\n          <div className=\"labels\">\r\n            <span>Show Labels</span>\r\n            <input type=\"checkbox\" onChange={this.toggleLabels} checked={this.state.labels}/>\r\n          </div>\r\n          <Pagination onChange={this.props.selectScene} index={this.props.sceneIndex} labels={this.props.scenes}\r\n            activeLabel={this.props.scenes[this.props.sceneIndex].name}/>\r\n        </div>\r\n        <BlueprintForm type={this.props.type}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          removeOperator={this.props.removeOperator}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          removeGadget={this.props.removeGadget}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          removeUtility={this.props.removeUtility}\r\n          drones={this.props.drones}\r\n          removeDrone={this.props.removeDrone}\r\n          rotates={this.props.rotates}\r\n          removeRotate={this.props.removeRotate}\r\n          reinforcements={this.props.reinforcements}\r\n          removeReinforcement={this.props.removeReinforcement}\r\n          map={this.props.map} site={this.props.site} floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          removeBreach={this.props.removeBreach}\r\n          floor={this.props.floor}\r\n          updateOperatorPositions={this.props.updateOperatorPositions}\r\n          updateGadgetPositions={this.props.updateGadgetPositions}\r\n          updateDronePositions={this.props.updateDronePositions}\r\n          updateUtilityPositions={this.props.updateUtilityPositions}\r\n          updateRotatePositions={this.props.updateRotatePositions}\r\n          updateReinforcementPositions={this.props.updateReinforcementPositions}\r\n          updateBreachPositions={this.props.updateBreachPositions}\r\n          zoom={this.state.zoom}\r\n          labels={this.state.labels}/>\r\n        <div className=\"canvas__body\">\r\n          <Objectives objectives={this.props.objectives} addObjective={this.props.addObjective} removeObjective={this.props.removeObjective}\r\n            notes={this.props.notes} updateNotes={this.props.updateNotes} scenes={this.props.scenes} sceneIndex={this.props.sceneIndex}\r\n            video={this.props.video} updateVideo={this.props.updateVideo}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Canvas;\r\n","/* client/src/components/partials/Viewer.js */\r\n\r\nimport React from \"react\";\r\nimport { ATTACKER_ROLES, ATTACKER_OPERATORS, DEFENDER_ROLES, DEFENDER_OPERATORS, UTILITY_GUIDE, UTILITY } from \"../../data.js\";\r\nconst attackRoles = ATTACKER_ROLES;\r\nconst defenderRoles = DEFENDER_ROLES;\r\nconst utility_guide = UTILITY;\r\n\r\nclass Lineup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleLineup = this.toggleLineup.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggleLineup() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    })\r\n  }\r\n  render() {\r\n    const roleOptions = (this.props.type === \"ATTACK\" ? (\r\n      attackRoles.map((option, index) => {\r\n        return <option key={index}>{option}</option>\r\n      })\r\n    ) : (\r\n      defenderRoles.map((option, index) => {\r\n        return <option key={index}>{option}</option>\r\n      })\r\n    ));\r\n    const roles = (this.props.type === \"ATTACK\" ? (\r\n      ATTACKER_ROLES\r\n    ) : (\r\n      DEFENDER_ROLES\r\n    ));\r\n    const operators = (this.props.type === \"ATTACK\" ? (\r\n      ATTACKER_OPERATORS\r\n    ) : (\r\n      DEFENDER_OPERATORS\r\n    ));\r\n\r\n    const lineup = this.props.roles.map((role, index) => {\r\n      const i = index;\r\n      const operatorOptions = (this.props.roles[index] !== \"ROLE\" ? (\r\n        operators[this.props.roles[index]].map((operator, index) => {\r\n          if (this.props.operators.indexOf(operator) < 0 || this.props.operators.indexOf(operator) === i) {\r\n            return <option key={index}>{operator.toUpperCase()}</option>\r\n          }\r\n        })\r\n      ) : \"\");\r\n      const utilityOptions = (this.props.type === \"ATTACK\" ? (\r\n        utility_guide.attack[this.props.operators[index]].map((gadget, index) => {\r\n          return <option key={index}>{gadget}</option>\r\n        })\r\n      ) : (\r\n        utility_guide.defense[this.props.operators[index]].map((gadget, index) => {\r\n          return <option key={index}>{gadget}</option>\r\n        })\r\n      ));\r\n      return (\r\n        <div className={\"role\" + (this.props.activeOperator === index ? \" role--active\" : \"\")} key={index}>\r\n          <div className=\"role__head\">\r\n            { this.props.activeOperator === index ? (\r\n              <div className=\"role__options\">\r\n                <select className=\"form__select\" onChange={(e) => { this.props.updateRoles(e, index) }} value={this.props.roles[index]}>\r\n                  { roleOptions }\r\n                </select>\r\n                <select className=\"form__select\" onChange={(e) => { this.props.updateOperators(e, index) }} value={this.props.operators[index]} disabled={this.props.roles[index] === \"ROLE\"}>\r\n                  <option>OPERATOR</option>\r\n                  { operatorOptions }\r\n                </select>\r\n                <div className=\"role__utility\">\r\n                  <select className=\"form__select\" onChange={(e) => { this.props.updateUtility(e, index) }} value={this.props.utility[index]}>\r\n                    <option>UTILITY</option>\r\n                    { utilityOptions }\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"role__options\">\r\n                <p className=\"role__role\">Role: {this.props.roles[index]}</p>\r\n                <p className=\"role__utility\">Utility: {this.props.utility[index]}</p>\r\n              </div>\r\n            )}\r\n            <div className=\"role__image\" onClick={() => { this.props.selectOperator(index) }}>\r\n              <p>{this.props.operators[index]}</p>\r\n              <img className=\"role__image\" src={`../../media/min/operators/${this.props.operators[index]}.png`}\r\n                onClick={() => {\r\n                  if (this.props.activeOperator === index) {\r\n                    this.props.insertOperator(this.props.activeOperator);\r\n                  } else {\r\n                    this.props.selectOperator(index);\r\n                  }\r\n                }}/>\r\n            </div>\r\n          </div>\r\n\r\n          { this.props.activeOperator === index ? (\r\n            <div className=\"role__body\">\r\n              <div>\r\n                { this.props.gadgets[index].gadget && this.props.gadgets[index].count !== 0 ? (\r\n                  <div className=\"role__gadget\">\r\n                    <p>{this.props.gadgets[index].gadget} ({this.props.gadgets[index].count - this.props.gadgetPositions[index].length})</p>\r\n                    <img className=\"role__gadget-image\" src={`../../media/min/gadgets/${this.props.gadgets[index].gadget.toUpperCase().replace(\" \", \"_\").replace(\" \", \"_\")}.png`}\r\n                      onClick={() => {\r\n                        if (this.props.gadgets[index].count - this.props.gadgetPositions[index].length> 0) {\r\n                          this.props.insertGadget(index)\r\n                        }\r\n                      }}/>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n              <div>\r\n                { this.props.utility[index] && this.props.utility[index] !== \"UTILITY\" ? (\r\n                  <div className=\"role__utility\">\r\n                    <p>{this.props.utility[index]} ({UTILITY_GUIDE[this.props.utility[index]] - this.props.utilityPositions[index].length})</p>\r\n                    <img className=\"role__utility-image\" src={`../../media/min/utility/${this.props.utility[index].toUpperCase().replace(\" \", \"_\")}.png`}\r\n                      onClick={() => {\r\n                        if (UTILITY_GUIDE[this.props.utility[index]] - this.props.utilityPositions[index].length) {\r\n                          this.props.insertUtility(index);\r\n                        }\r\n                      }}/>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n            </div>\r\n          ) : \"\"}\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div className={\"lineup\" + (this.state.active ? \" lineup--active\" : \"\")}>\r\n        <button onClick={this.toggleLineup}>&#8594;</button>\r\n        <div className=\"lineup-body\">\r\n          <h3>Lineup</h3>\r\n          { lineup }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Lineup;\r\n","/* client/components/partials/Editor.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"./Loading.js\";\r\nimport MapSelector from \"./MapSelector.js\";\r\nimport Toolbar from \"./Toolbar.js\";\r\nimport Sidebar from \"./Sidebar.js\";\r\nimport Canvas from \"./Canvas.js\";\r\nimport Lineup from \"./Lineup.js\";\r\n\r\nimport { MAP_NAMES, SITES, FLOORS, GADGETS, UTILITY_GUIDE } from \"../../data.js\";\r\n\r\n/*\r\n  @func: Editor\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop map\r\n  @prop save (function)\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass Editor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectSite = this.selectSite.bind(this);\r\n    this.updateType = this.updateType.bind(this);\r\n    this.updateRoles = this.updateRoles.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.updateFloor = this.updateFloor.bind(this);\r\n    this.save = this.save.bind(this);\r\n\r\n    // Strategies\r\n    this.addStrategy = this.addStrategy.bind(this);\r\n    this.removeStrategy = this.removeStrategy.bind(this);\r\n    this.selectStrategy = this.selectStrategy.bind(this);\r\n\r\n    // Scenes\r\n    this.selectScene = this.selectScene.bind(this);\r\n    this.addScene = this.addScene.bind(this);\r\n    this.removeScene = this.removeScene.bind(this);\r\n    this.updateSceneName = this.updateSceneName.bind(this);\r\n\r\n    // Operators\r\n    this.updateOperators = this.updateOperators.bind(this);\r\n    this.updateOperatorPositions = this.updateOperatorPositions.bind(this);\r\n    this.selectOperator = this.selectOperator.bind(this);\r\n    this.insertOperator = this.insertOperator.bind(this);\r\n    this.removeOperator = this.removeOperator.bind(this);\r\n\r\n    // Drones\r\n    this.updateDronePositions = this.updateDronePositions.bind(this);\r\n    this.insertDrone = this.insertDrone.bind(this);\r\n    this.removeDrone = this.removeDrone.bind(this);\r\n\r\n    // Gadgets\r\n    this.updateGadgetPositions = this.updateGadgetPositions.bind(this);\r\n    this.insertGadget = this.insertGadget.bind(this);\r\n    this.removeGadget = this.removeGadget.bind(this);\r\n\r\n    // Utility\r\n    this.updateUtility = this.updateUtility.bind(this);\r\n    this.updateUtilityPositions = this.updateUtilityPositions.bind(this);\r\n    this.insertUtility = this.insertUtility.bind(this);\r\n    this.removeUtility = this.removeUtility.bind(this);\r\n\r\n    // Rotates\r\n    this.updateRotatePositions = this.updateRotatePositions.bind(this);\r\n    this.insertRotate = this.insertRotate.bind(this);\r\n    this.removeRotate = this.removeRotate.bind(this);\r\n\r\n    // Reinforcements\r\n    this.updateReinforcementPositions = this.updateReinforcementPositions.bind(this);\r\n    this.insertReinforcement = this.insertReinforcement.bind(this);\r\n    this.removeReinforcement = this.removeReinforcement.bind(this);\r\n\r\n    // Breaches\r\n    this.updateBreachPositions = this.updateBreachPositions.bind(this);\r\n    this.insertBreach = this.insertBreach.bind(this);\r\n    this.removeBreach = this.removeBreach.bind(this);\r\n\r\n    // Objectives and Notes\r\n    this.addObjective = this.addObjective.bind(this);\r\n    this.removeObjective = this.removeObjective.bind(this);\r\n    this.updateNotes = this.updateNotes.bind(this);\r\n    this.updateVideo = this.updateVideo.bind(this);\r\n\r\n    // Handle scroll\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n\r\n    // Declare initial state\r\n    let siteIndex;\r\n    let sceneIndex;\r\n    let strategyIndex;\r\n    let scenes;\r\n    let strategies;\r\n    let floorIndex;\r\n    let type;\r\n    if (this.props.position) {\r\n      type = this.props.position.type;\r\n      siteIndex = this.props.position.siteIndex;\r\n      sceneIndex = this.props.position.sceneIndex;\r\n      strategyIndex = this.props.position.strategyIndex;\r\n      floorIndex = this.props.position.floorIndex;\r\n      if (this.props.position.type === \"ATTACK\") {\r\n        strategies = this.props.map.attack;\r\n        scenes = this.props.map.attack[strategyIndex][SITES[this.props.map.name][siteIndex]];\r\n      } else {\r\n        strategies = this.props.map.defense[SITES[this.props.map.name][siteIndex]];\r\n        scenes = this.props.map.defense[SITES[this.props.map.name][siteIndex]][strategyIndex].scenes;\r\n      }\r\n    } else {\r\n      siteIndex = 0;\r\n      strategyIndex = 0;\r\n      sceneIndex = 0;\r\n      floorIndex = 0;\r\n      type = \"ATTACK\";\r\n      scenes = this.props.map.attack[0][SITES[this.props.map.name][0]];\r\n      strategies = this.props.map.attack;\r\n    }\r\n\r\n    this.state = {\r\n      activeOperator: 0,\r\n      map: this.props.map,\r\n      sites: SITES[this.props.map.name],\r\n      site: SITES[this.props.map.name][siteIndex],\r\n      siteIndex: siteIndex,\r\n      strategyIndex: strategyIndex,\r\n      strategies: strategies,\r\n      sceneIndex: sceneIndex,\r\n      scenes: scenes,\r\n      floors: FLOORS[this.props.map.name],\r\n      floorIndex: floorIndex,\r\n      type: type,\r\n      mounted: false\r\n    }\r\n  }\r\n  selectSite(index) {\r\n    this.setState({\r\n      site: this.state.sites[index],\r\n      siteIndex: index,\r\n      sceneIndex: 0,\r\n      scenes: (this.state.type === \"ATTACK\" ? this.state.map.attack[this.state.strategyIndex][this.state.sites[index]] : this.state.map.defense[this.state.sites[index]][0].scenes),\r\n      strategyIndex: (this.state.type === \"ATTACK\" ? this.state.strategyIndex : 0),\r\n      strategies: (this.state.type === \"ATTACK\" ? this.state.strategies : this.state.map.defense[this.state.sites[index]])\r\n    });\r\n  }\r\n  updateType(type) {\r\n    if (type === \"ATTACK\") {\r\n      this.setState({\r\n        type: \"ATTACK\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.attack,\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.attack[0][this.state.sites[0]],\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    } else {\r\n      this.setState({\r\n        type: \"DEFENSE\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.defense[this.state.sites[0]],\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.defense[this.state.sites[0]][0].scenes,\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    }\r\n  }\r\n  updateRoles(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].roles[index] = e.target.value;\r\n      map.attack[this.state.strategyIndex].operators[index] = \"OPERATOR\";\r\n      map.attack[this.state.strategyIndex].gadgets[index] = \"\";\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions = [[], [], [], [], []];\r\n      map.attack[this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].roles[index] = e.target.value;\r\n      map.defense[this.state.site][this.state.strategyIndex].operators[index] = \"OPERATOR\";\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgets[index] = \"\";\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions = [[], [], [], [], []];\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateName(name) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].name = name;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].name = name;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateFloor(e) {\r\n    this.setState({\r\n      floorIndex: this.state.floors.indexOf(e.target.value)\r\n    });\r\n  }\r\n  selectOperator(index) {\r\n    this.setState({\r\n      activeOperator: index\r\n    });\r\n  }\r\n  save() {\r\n    const position = {\r\n      siteIndex: this.state.siteIndex,\r\n      strategyIndex: this.state.strategyIndex,\r\n      sceneIndex: this.state.sceneIndex,\r\n      floorIndex: this.state.floorIndex,\r\n      type: this.state.type\r\n    };\r\n    this.props.save(JSON.stringify(this.state.map), position);\r\n  }\r\n\r\n  // Strategies\r\n  addStrategy() {\r\n    let map = this.state.map;\r\n    let newStrategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      let attackStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"]\r\n      };\r\n      SITES[this.state.map.name].map((site) => {\r\n        attackStrategy[site] = [\r\n          {\r\n            objectives: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            breaches: [],\r\n            operatorPositions: [{x: 0, y: 0, floor: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}],\r\n            drones: [],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      });\r\n      map.attack.push(attackStrategy);\r\n      newStrategies = map.attack;\r\n    } else {\r\n      let defenseStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"],\r\n        reinforcements: [],\r\n        rotates: [],\r\n        utilityPositions: [[], [], [], [], []],\r\n        gadgetPositions: [[], [], [], [], []],\r\n        scenes: [\r\n          {\r\n            objectives: [],\r\n            operatorPositions: [{x: null, y: null}, {x: null, y: null}, {x: null, y: null}, {x: null, y: null}, {x: null, y: null}],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      };\r\n      map.defense[this.state.sites[this.state.siteIndex]].push(defenseStrategy);\r\n      newStrategies = map.defense[this.state.sites[this.state.siteIndex]];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      strategies: newStrategies,\r\n      strategyIndex: this.state.strategyIndex + 1\r\n    });\r\n  }\r\n  removeStrategy() {\r\n    if (this.state.strategies.length !== 1) {\r\n      if (window.confirm(`You are about to remove ${this.state.strategies[this.state.strategyIndex].name} from your Stratbook. If you wish to continue, please confirm.`)) {\r\n        let newStrategies = [...this.state.strategies];\r\n        newStrategies.splice(this.state.strategyIndex, 1);\r\n        let map = this.state.map;\r\n        if (this.state.type === \"ATTACK\") {\r\n          map.attack = newStrategies;\r\n        } else {\r\n          map.defense[this.state.sites[this.state.siteIndex]] = newStrategies;\r\n        }\r\n        this.setState({\r\n          map: map,\r\n          strategyIndex: (this.state.strategyIndex - 1 >= 0 ? this.state.strategyIndex - 1 : 0),\r\n          strategies: newStrategies,\r\n        });\r\n      }\r\n    }\r\n  }\r\n  selectStrategy(index) {\r\n    this.setState({\r\n      strategyIndex: index\r\n    });\r\n  }\r\n\r\n  // Scenes\r\n  addScene() {\r\n    let scenes;\r\n    let map = this.state.map;\r\n    let name = \"Unnamed\";\r\n    if (this.state.type === \"ATTACK\") {\r\n      scenes = [...map.attack[this.state.strategyIndex][this.state.site]];\r\n      let newScene = JSON.parse(JSON.stringify(scenes[scenes.length - 1]));\r\n      newScene.notes = \"\";\r\n      newScene.name = name;\r\n      newScene.objectives = [];\r\n      scenes.push(newScene);\r\n      map.attack[this.state.strategyIndex][this.state.site] = scenes;\r\n    } else {\r\n      scenes = [...map.defense[this.state.site][this.state.strategyIndex].scenes];\r\n      let newScene = JSON.parse(JSON.stringify(scenes[scenes.length - 1]));\r\n      newScene.notes = \"\";\r\n      newScene.objectives = [];\r\n      newScene.name = name;\r\n      scenes.push(newScene);\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes = scenes;\r\n    }\r\n    this.setState({\r\n      scenes: scenes,\r\n      map: map,\r\n      sceneIndex: this.state.sceneIndex + 1\r\n    });\r\n  }\r\n  removeScene() {\r\n    if (this.state.sceneIndex - 1 >= 0) {\r\n      let scenes;\r\n      let map = this.state.map;\r\n      if (this.state.type === \"ATTACK\") {\r\n        scenes = [...map.attack[this.state.strategyIndex][this.state.site]];\r\n        scenes.splice(this.state.sceneIndex, 1);\r\n        map.attack[this.state.strategyIndex][this.state.site] = scenes;\r\n      } else {\r\n        scenes = [...map.defense[this.state.site][this.state.strategyIndex].scenes];\r\n        scenes.splice(this.state.sceneIndex, 1);\r\n        map.defense[this.state.site][this.state.strategyIndex].scenes = scenes;\r\n      }\r\n      this.setState({\r\n        scenes: scenes,\r\n        map: map,\r\n        sceneIndex: this.state.sceneIndex - 1\r\n      });\r\n    }\r\n  }\r\n  selectScene(index) {\r\n    this.setState({\r\n      sceneIndex: index\r\n    });\r\n  }\r\n  updateSceneName(name, index) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][index].name = name;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[index].name = name;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Operators\r\n  insertOperator(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].floor = this.state.floorIndex;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].floor = this.state.floorIndex;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeOperator(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].floor = undefined;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].floor = undefined;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateOperators(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].operators[index] = e.target.value;\r\n      map.attack[this.state.strategyIndex].gadgets[index] = GADGETS[e.target.value];\r\n      map.attack[this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].operators[index] = e.target.value;\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgets[index] = GADGETS[e.target.value];\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateOperatorPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Drones\r\n  insertDrone() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.length + 1 <= 10) {\r\n      let drone = {\r\n        x: Math.floor(900 / 2), // taken from blueprint form values\r\n        y: Math.floor(675 / 2), // taken from blueprint form values\r\n        floor: this.state.floorIndex\r\n      };\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.push(drone);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeDrone(index) {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.length - 1 >= 0) {\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.splice(index, 1);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  updateDronePositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones = positions;\r\n    scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n    strategies = map.attack;\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Gadgets\r\n  insertGadget(index) {\r\n    let map = this.state.map;\r\n    let gadget = {\r\n      x: Math.floor(900 / 2), // taken from blueprint form values\r\n      y: Math.floor(675 / 2), // taken from blueprint form values\r\n      floor: this.state.floorIndex\r\n    };\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions[index].push(gadget);\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions[index].push(gadget);\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeGadget(index, gi) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions[index].splice(gi, 1);\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions[index].splice(gi, 1);\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateGadgetPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Utility\r\n  updateUtility(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].utility[index] = e.target.value;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = e.target.value;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateUtilityPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertUtility(index) {\r\n    let map = this.state.map;\r\n    let utility = {\r\n      x: Math.floor(900 / 2), // taken from blueprint form values\r\n      y: Math.floor(675 / 2), // taken from blueprint form values\r\n      floor: this.state.floorIndex\r\n    };\r\n    if (this.state.type === \"ATTACK\") {\r\n      if (map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].length + 1 <= UTILITY_GUIDE[map.attack[this.state.strategyIndex].utility[index]]) {\r\n        map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].push(utility);\r\n      }\r\n    } else {\r\n      if (map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].length + 1 <= UTILITY_GUIDE[map.defense[this.state.site][this.state.strategyIndex].utility[index]]) {\r\n        map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].push(utility);\r\n      }\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeUtility(index, gi) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].splice(gi, 1);\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].splice(gi, 1);\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Rotates\r\n  updateRotatePositions(positions) {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates = positions;\r\n    strategies = map.defense[this.state.site];\r\n    this.setState({\r\n      map: map,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertRotate() {\r\n    let map = this.state.map;\r\n    let rotate = {\r\n      x: Math.floor(900 / 2), // taken from blueprint form values\r\n      y: Math.floor(675 / 2), // taken from blueprint form values\r\n      floor: this.state.floorIndex\r\n    };\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates.push(rotate);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeRotate(index) {\r\n    let map = this.state.map;\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates.splice(index, 1);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Reinforcements\r\n  updateReinforcementPositions(positions) {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    map.defense[this.state.site][this.state.strategyIndex].reinforcements = positions;\r\n    strategies = map.defense[this.state.site];\r\n    this.setState({\r\n      map: map,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertReinforcement() {\r\n    if (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements.length + 1 <= 10) {\r\n      let map = this.state.map;\r\n      let reinforcement = {\r\n        x: Math.floor(900 / 2), // taken from blueprint form values\r\n        y: Math.floor(675 / 2), // taken from blueprint form values\r\n        floor: this.state.floorIndex\r\n      };\r\n      map.defense[this.state.site][this.state.strategyIndex].reinforcements.push(reinforcement);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeReinforcement(index) {\r\n    let map = this.state.map;\r\n    map.defense[this.state.site][this.state.strategyIndex].reinforcements.splice(index, 1);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Breaches\r\n  updateBreachPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches = positions;\r\n    scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n    strategies = map.attack;\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertBreach() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.length + 1 <= 10) {\r\n      let breach = {\r\n        x: Math.floor(900 / 2), // taken from blueprint form values\r\n        y: Math.floor(675 / 2), // taken from blueprint form values\r\n        floor: this.state.floorIndex\r\n      };\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.push(breach);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeBreach(index) {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.length - 1 >= 0) {\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.splice(index, 1);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n\r\n  // Objectives and Notes\r\n  addObjective(msg) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives.push(msg);\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.push(msg);\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  removeObjective(index) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives.splice(index, 1);\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.splice(index, 1);\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  updateNotes(e) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].notes = e.target.value;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes = e.target.value;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  updateVideo(e) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].video = e.target.value;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].video = e.target.value;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.state.mounted) {\r\n      window.addEventListener(\"scroll\", this.handleScroll);\r\n      this.setState({\r\n        mounted: true\r\n      });\r\n    }\r\n  }\r\n  handleScroll(e) {\r\n    const nav = document.querySelector(\"nav.nav\");\r\n    const toolbar = document.querySelector(\"div.toolbar\");\r\n    const main = document.querySelector(\"main\");\r\n    const sidebar = document.querySelector(\"div.sidebar\");\r\n    const lineup = document.querySelector(\"div.lineup\");\r\n    if (window.scrollY > nav.offsetTop + nav.offsetHeight) {\r\n      toolbar.classList.add(\"toolbar--scroll\");\r\n      sidebar.classList.add(\"sidebar--scroll\");\r\n      lineup.classList.add(\"lineup--scroll\");\r\n      main.style.marginTop = toolbar.offsetHeight + \"px\";\r\n    } else {\r\n      toolbar.classList.remove(\"toolbar--scroll\");\r\n      sidebar.classList.remove(\"sidebar--scroll\");\r\n      lineup.classList.remove(\"lineup--scroll\");\r\n      main.style.marginTop = 0;\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"Editor\">\r\n        <Toolbar\r\n          showMaps={this.showMaps}\r\n          map={this.state.map}\r\n          strategies={this.state.strategies}\r\n          strategyIndex={this.state.strategyIndex}\r\n          selectStrategy={this.selectStrategy}\r\n          type={this.state.type}\r\n          updateType={this.updateType}\r\n          siteIndex={this.state.siteIndex}\r\n          sites={this.state.sites}\r\n          selectSite={this.selectSite}\r\n          addStrategy={this.addStrategy}\r\n          removeStrategy={this.removeStrategy}\r\n          strategy={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex].name\r\n          ): (\r\n            this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n          )}\r\n          updateStrategyName={this.updateName}\r\n          drones={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones) : undefined}\r\n          insertDrone={this.insertDrone}\r\n          rotates={this.state.type === \"ATTACK\"? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n          insertRotate={this.insertRotate}\r\n          reinforcements={this.state.type === \"ATTACK\" ? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n          insertReinforcement={this.insertReinforcement}\r\n          breaches={(this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n          ) : undefined)}\r\n          insertBreach={this.insertBreach}\r\n          alert={this.props.alert} save={this.save}\r\n          fetchStrategies={this.props.fetchStrategies}\r\n          />\r\n        <main>\r\n          <Sidebar\r\n            map={this.state.map.name}\r\n            strategy={this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].name\r\n            ): (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n            )}\r\n            strategies={this.state.strategies}\r\n            selectStrategy={this.selectStrategy}\r\n            strategyIndex={this.state.strategyIndex}\r\n            sites={this.state.sites}\r\n            selectSite={this.selectSite}\r\n            siteIndex={this.state.siteIndex}\r\n            scenes={this.state.scenes}\r\n            selectScene={this.selectScene}\r\n            sceneIndex={this.state.sceneIndex}\r\n            addScene={this.addScene}\r\n            removeScene={this.removeScene}\r\n            updateSceneName={this.updateSceneName}\r\n            type={this.state.type}/>\r\n          <Canvas\r\n            type={this.state.type}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            operatorPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions\r\n            ))}\r\n            removeOperator={this.removeOperator}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n            ))}\r\n            removeGadget={this.removeGadget}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n            ))}\r\n            removeUtility={this.removeUtility}\r\n            drones={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones\r\n            ) : undefined)}\r\n            removeDrone={this.removeDrone}\r\n            rotates={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n            removeRotate={this.removeRotate}\r\n            reinforcements={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n            removeReinforcement={this.removeReinforcement}\r\n            map={this.state.map.name} site={this.state.site} floorIndex={this.state.floorIndex}\r\n            breaches={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n            ) : undefined)}\r\n            removeBreach={this.removeBreach}\r\n            floor={this.state.floors[this.state.floorIndex]}\r\n            updateOperatorPositions={this.updateOperatorPositions}\r\n            updateGadgetPositions={this.updateGadgetPositions}\r\n            updateDronePositions={this.updateDronePositions}\r\n            updateUtilityPositions={this.updateUtilityPositions}\r\n            updateRotatePositions={this.updateRotatePositions}\r\n            updateReinforcementPositions={this.updateReinforcementPositions}\r\n            updateBreachPositions={this.updateBreachPositions}\r\n            updateFloor={this.updateFloor}\r\n            floors={this.state.floors}\r\n            objectives={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives))}\r\n            notes={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].notes\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes))}\r\n            addObjective={this.addObjective}\r\n            removeObjective={this.removeObjective}\r\n            updateNotes={this.updateNotes}\r\n            scenes={this.state.scenes}\r\n            sceneIndex={this.state.sceneIndex}\r\n            selectScene={this.selectScene}\r\n            video={this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].video\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].video)}\r\n            updateVideo={this.updateVideo}\r\n            />\r\n          <Lineup\r\n            type={this.state.type}\r\n            roles={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].roles\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].roles ))}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            updateRoles={this.updateRoles} updateOperators={this.updateOperators} updateUtility={this.updateUtility}\r\n            selectOperator={this.selectOperator} activeOperator={this.state.activeOperator}\r\n            insertOperator={this.insertOperator} removeOperator={this.removeOperator}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n            ))}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n            ))}\r\n            insertUtility={this.insertUtility}\r\n            insertGadget={this.insertGadget}\r\n            />\r\n        </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Editor;\r\n","/* client/src/components/partials/ViewerToolbar.js */\r\n\r\nimport React from \"react\";\r\nimport Dropdown from \"./Dropdown.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass ViewerToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleStrategyNavigation = this.toggleStrategyNavigation.bind(this);\r\n\r\n    this.state = {\r\n      strategy: (this.props.strategy !== \"\" ? this.props.strategy : \"Unnamed\"),\r\n      nav: false\r\n    }\r\n  }\r\n  toggleStrategyNavigation() {\r\n    this.setState({\r\n      nav: !this.state.nav\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.strategy !== this.state.strategy && !this.state.active) {\r\n      this.setState({\r\n        strategy: this.props.strategy\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let sites = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.sites.map((site, index) => {\r\n        return (\r\n          <button onClick={() => { this.props.selectSite(index) }} className={(index === this.props.siteIndex ? \"site--active\" : \"\")} key={index}>{site}</button>\r\n        )\r\n      })\r\n    ))\r\n    let strategies = this.props.strategies.map((strat, index) => {\r\n      return (\r\n        <button onClick={() => { this.props.selectStrategy(index) }} className={(index === this.props.strategyIndex ? \"strategy--active\" : \"\")} key={index}>{strat.name}</button>\r\n      )\r\n    });\r\n    return (\r\n      <div className=\"toolbar\">\r\n        <button onClick={this.toggleStrategyNavigation} className={\"toolbar__navigation-button\" + (this.state.nav ? \" toolbar__navigation-button--active\" : \"\")}>&#9776;</button>\r\n        <h4 className=\"toolbar__strategy\">{this.state.strategy}</h4>\r\n        <div className={\"toolbar__navigation\" + (this.state.nav ? \" toolbar__navigation--active\" : \"\")}>\r\n          <h3>{this.props.map.name}</h3>\r\n          <Link to=\"/strategies\" onClick={this.props.fetchStrategies} id=\"showMaps\">Back to Maps</Link>\r\n          <div className=\"strategy__navigation\">\r\n            <h4>Mode</h4>\r\n            <div className=\"type-selector\">\r\n              <button onClick={() => { this.props.updateType(\"ATTACK\") }} className={this.props.type === \"ATTACK\" ? \"type--active\" : \"\"}>Attack</button>\r\n              <button onClick={() => { this.props.updateType(\"DEFENSE\") }} className={this.props.type === \"ATTACK\" ? \"\" : \"type--active\"}>Defense</button>\r\n            </div>\r\n            { this.props.type === \"ATTACK\" ? \"\" : (\r\n              <div className=\"site-container\">\r\n                <h4>Sites</h4>\r\n                <div>\r\n                  { sites }\r\n                </div>\r\n              </div>\r\n            )}\r\n            <h4>Strategies</h4>\r\n            <div className=\"strategy-selector\">\r\n              { strategies }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerToolbar;\r\n","/* client/src/components/partials/ViewerSidebar.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ViewerSidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleSidebar = this.toggleSidebar.bind(this);\r\n\r\n    this.state = {\r\n      index: 0,\r\n      showSidebar: false\r\n    }\r\n  }\r\n  toggleSidebar() {\r\n    this.setState({\r\n      showSidebar: !this.state.showSidebar\r\n    });\r\n  }\r\n  render() {\r\n    const sites = this.props.sites.map((site, index) => {\r\n      return (\r\n        <div className={\"site\" + (this.props.siteIndex === index ? \" site--active\" : \"\")} onClick={() => { this.props.selectSite(index) }} key={index}>\r\n          <span className=\"site__number\">Site {index + 1}</span>\r\n          <p className=\"site__name\">{site}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const scenes = this.props.scenes.map((scene, index) => {\r\n      return (\r\n        <div className={\"scene\" + (this.props.sceneIndex === index ? \" scene--active\" : \"\")}\r\n          onClick={() => {\r\n            if (!this.state.active) {\r\n              this.props.selectScene(index);\r\n            }\r\n          }} key={index}>\r\n          <span className=\"scene__number\">Scene {index + 1}</span>\r\n          <p className=\"scene__name\">{scene.name}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const strategies = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.strategies.map((strat, index) => {\r\n        return (\r\n          <div className={\"strategy\" + (this.props.strategyIndex === index ? \" strategy--active\" : \"\")} onClick={() => { this.props.selectStrategy(index) }} key={index}>\r\n            <p className=\"strategy__name\">{strat.name}</p>\r\n          </div>\r\n        )\r\n      })\r\n    ));\r\n    return (\r\n      <div className={\"sidebar\" + (this.state.showSidebar ? \" sidebar--active\" : \"\")}>\r\n        <button onClick={this.toggleSidebar}>&#8594;</button>\r\n        <div className=\"sidebar-body\">\r\n          { this.props.type === \"ATTACK\" ? (\r\n            <div className=\"site-container\">\r\n              <h3 className=\"site-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"site-container__subtitle\">{this.props.strategy}</h4>\r\n              { sites }\r\n            </div>\r\n          ) : (\r\n            <div className=\"strategy-container\">\r\n              <h3 className=\"strategy-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"strategy-container__subtitle\">{this.props.sites[this.props.siteIndex]}</h4>\r\n              { strategies }\r\n            </div>\r\n          )}\r\n          <div className=\"scene-container\">\r\n            <h3 className=\"scene-container__heading\">Scenes</h3>\r\n            { scenes }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerSidebar;\r\n","/* client/src/components/partials/ViewerDragItem.js */\r\n\r\nimport React from \"react\";\r\nimport r6operators from \"r6operators\";\r\n\r\nclass ViewerDragItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drag: false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ top: (this.props.y ? this.props.y : 0), left: (this.props.x ? this.props.x : 0), backgroundImage: `url(${this.props.url})`, backgroundSize: \"cover\", backgroundPosition: \"center\" }}\r\n      className={\"drag-item\" + ` drag-${this.props.type.toLowerCase()}` + (this.props.drag ? \" drag\" : \"\")}\r\n        data-type={this.props.type}>\r\n        { this.props.labels ? (\r\n          <span>{(this.props.type === \"GADGET\" || this.props.type === \"UTILITY\" || this.props.type === \"OPERATOR\" ? this.props.value.replace(\"_\", \" \").replace(\"_\", \" \").toUpperCase() : \"\")}</span>\r\n        ) : \"\"}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerDragItem;\r\n","/* client/src/components/partials/ViewerPositionOverlay.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewerDragItem from \"./ViewerDragItem.js\";\r\n\r\nlet width = 30;\r\nlet height = 30;\r\n\r\nclass ViewerPositionOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Handle drag canvas\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n\r\n    // Handle new props\r\n    this.detectChange = this.detectChange.bind(this);\r\n\r\n    this.innerSelector = React.createRef();\r\n\r\n    this.state = {\r\n      index: 0,\r\n      type: \"\",\r\n      operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n      gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n      utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n      drones: (this.props.drones ? [...this.props.drones] : []),\r\n      rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n      reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n      breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n      style: JSON.parse(JSON.stringify(this.props.style))\r\n    }\r\n  }\r\n  onDrag(e) {\r\n    this.props.onDragStart(e);\r\n  }\r\n  onDragTouch(t) {\r\n    this.props.onDragTouch(t);\r\n  }\r\n  detectChange(prevProps, prevState) {\r\n    let bool = false;\r\n    if (prevProps != this.props) {\r\n      bool = true;\r\n    }\r\n    return bool;\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      this.setState({\r\n        bounds: this.innerSelector.current.getBoundingClientRect()\r\n      })\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.detectChange(prevProps, prevState)) {\r\n      this.setState({\r\n        index: 0,\r\n        type: \"\",\r\n        operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n        gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n        utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n        drones: (this.props.drones ? [...this.props.drones] : []),\r\n        rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n        reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n        breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n        bounds: this.innerSelector.current.getBoundingClientRect()\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n\r\n    const operators = this.state.operatorPositions.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = `../../media/operators/${this.props.operators[index].toLowerCase()}.png`;\r\n        return (\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"OPERATOR\" bounds={this.state.bounds} value={this.props.operators[index]} labels={this.props.labels}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n\r\n    let drones = [];\r\n    this.state.drones.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/drone.png\";\r\n        drones.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"DRONE\" bounds={this.state.bounds} labels={this.props.labels}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n\r\n    let gadgets = [];\r\n    this.state.gadgetPositions.map((pos, index) => {\r\n      pos.forEach((g, gindex) => {\r\n        if (g.floor === this.props.floorIndex) {\r\n          let gadget = this.props.gadgets[index].gadget.replace(\" \", \"_\").replace(\" \", \"_\").toUpperCase();\r\n          let url = `../../media/gadgets/${gadget}.png`;\r\n          gadgets.push(\r\n            <ViewerDragItem url={url}\r\n            x={g.x} y={g.y}\r\n            selectElement={this.selectElement} index={index} gindex={gindex} key={gindex * index + gindex} drag={this.state.drag}\r\n            type=\"GADGET\" bounds={this.state.bounds} value={this.props.gadgets[index].gadget} labels={this.props.labels}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    let utility = [];\r\n    this.state.utilityPositions.map((pos, index) => {\r\n      pos.forEach((u, uindex) => {\r\n        if (u.floor === this.props.floorIndex) {\r\n          let url = `../../media/utility/${this.props.utility[index].replace(\" \", \"_\").replace(\" \", \"_\")}.png`;\r\n          utility.push(\r\n            <ViewerDragItem url={url}\r\n            x={u.x} y={u.y}\r\n            selectElement={this.selectElement} index={index} uindex={uindex} key={uindex * index + uindex} drag={this.state.drag}\r\n            type=\"UTILITY\" bounds={this.state.bounds} value={this.props.utility[index]} labels={this.props.labels}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    let rotates = [];\r\n    this.state.rotates.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/rotate.png\";\r\n        rotates.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"ROTATE\" bounds={this.state.bounds} labels={this.props.labels}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let reinforcements = [];\r\n    this.state.reinforcements.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/reinforcement.png\";\r\n        reinforcements.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"REINFORCEMENT\" bounds={this.state.bounds} labels={this.props.labels}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let breaches = [];\r\n    this.state.breaches.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../breach.png\";\r\n        breaches.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"BREACH\" bounds={this.state.bounds} labels={this.props.labels}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div className=\"position-overlay\" style={this.props.style} ref={this.innerSelector} onMouseDown={this.onDrag} onTouchStart={this.onDragTouch}>\r\n        { operators }\r\n        { drones }\r\n        { rotates }\r\n        { gadgets }\r\n        { utility }\r\n        { reinforcements }\r\n        { breaches }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerPositionOverlay;\r\n","/* client/src/components/partials/ViewerBlueprintForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewerPositionOverlay from \"./ViewerPositionOverlay.js\";\r\n\r\nconst width = 900;\r\nconst height = 675;\r\n\r\nclass ViewerBlueprintForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onDragStart = this.onDragStart.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragStop = this.onDragStop.bind(this);\r\n\r\n    this.selector = React.createRef();\r\n\r\n    this.state = {\r\n      offsetX: 0,\r\n      offsetY: 0\r\n    };\r\n  }\r\n  onDragStart(e) {\r\n    console.log(\"starting\");\r\n    this.setState({\r\n      startX: e.clientX,\r\n      startY: e.clientY,\r\n      move: true\r\n    }, () => {\r\n      document.addEventListener(\"mousemove\", this.onDrag);\r\n      document.addEventListener(\"mouseup\", this.onDragStop);\r\n    });\r\n  }\r\n  onDragTouch(t) {\r\n    this.setState({\r\n      startX: t.touches[0].clientX,\r\n      startY: t.touches[0].clientY,\r\n      move: true\r\n    }, () => {\r\n      console.log(this.state);\r\n      document.addEventListener(\"touchmove\", this.onDrag);\r\n      document.addEventListener(\"touchend\", this.onDragStop);\r\n    })\r\n  }\r\n  onDrag(e) {\r\n    let offsetX = e.clientX - this.state.startX;\r\n    let offsetY = e.clientY - this.state.startY;\r\n    if (e.touches) {\r\n      offsetX = e.touches[0].clientX - this.state.startX;\r\n      offsetY = e.touches[0].clientY - this.state.startY;\r\n    }\r\n\r\n    if (!this.state.isMobile) {\r\n      const xLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.width) - this.state.bounds.width) / 2);\r\n      const xUpperBound = this.props.zoom * ((this.state.bounds.width - (this.props.zoom * this.state.bounds.width)) / 2);\r\n      const yLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.height) - this.state.bounds.height) / 2);\r\n      const yUpperBound = this.props.zoom * ((this.state.bounds.height - (this.props.zoom * this.state.bounds.height)) / 2);\r\n\r\n      if (offsetX > xLowerBound) {\r\n        offsetX = xLowerBound;\r\n      }\r\n      if (offsetX < xUpperBound) {\r\n        offsetX = xUpperBound;\r\n      }\r\n\r\n      if (offsetY > yLowerBound) {\r\n        offsetY = yLowerBound;\r\n      }\r\n      if (offsetY < yUpperBound) {\r\n        offsetY = yUpperBound;\r\n      }\r\n    }\r\n\r\n    if (this.state.isMobile) {\r\n      offsetX += this.state.mobileOffset;\r\n    }\r\n\r\n    this.setState({\r\n      offsetX: offsetX,\r\n      offsetY: offsetY\r\n    });\r\n  }\r\n  onDragStop(e) {\r\n    document.removeEventListener(\"mousemove\", this.onDrag);\r\n    document.removeEventListener(\"mouseup\", this.onDragStop);\r\n    document.removeEventListener(\"touchmove\", this.onDrag);\r\n    document.addEventListener(\"touchend\", this.onDragStop);\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      let bounds = this.selector.current.getBoundingClientRect();\r\n      const isMobile = (Math.abs(bounds.width - width) < 20 && Math.abs(bounds.height - height) < 20 ? false : true);\r\n      bounds.width = width;\r\n      bounds.height = height;\r\n      this.setState({\r\n        bounds: bounds,\r\n        isMobile: isMobile\r\n      }, () => {\r\n        if (this.state.isMobile) {\r\n          let bounds = this.selector.current.getBoundingClientRect();\r\n          let mobileOffset = -((this.state.bounds.width / 2) - (bounds.width / 2));\r\n          this.setState({\r\n            offsetX: mobileOffset,\r\n            mobileOffset: mobileOffset\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const url = `../../media/maps/${this.props.map.replace(\" \", \"_\")}-${this.props.floor.toUpperCase().replace(\" \", \"_\")}-min.jpg`;\r\n    const style = {\r\n      backgroundImage: `url(${url})`,\r\n      backgroundPosition: \"center\",\r\n      backgroundSize: \"cover\",\r\n      transform: `scale(${parseFloat(this.props.zoom)}) translate(${this.state.offsetX}px, ${this.state.offsetY}px)`\r\n    };\r\n    return (\r\n      <div className=\"blueprint-form\" ref={this.selector}>\r\n        <ViewerPositionOverlay\r\n          style={style}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          drones={this.props.drones}\r\n          rotates={this.props.rotates}\r\n          reinforcements={this.props.reinforcements}\r\n          floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          type={this.props.type}\r\n          zoom={this.props.zoom}\r\n          bounds={this.state.bounds}\r\n          onDragStart={this.onDragStart}\r\n          onDragTouch={this.onDragTouch}\r\n          offsetX={this.state.offsetX}\r\n          offsetY={this.state.offsetY}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerBlueprintForm;\r\n","/* client/src/components/partials/Objectives.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ViewerObjectives extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    const objectives = this.props.objectives.map((obj, index) => {\r\n      return (\r\n        <li key={index}>\r\n          <p>- {obj}</p>\r\n        </li>\r\n      )\r\n    });\r\n    return (\r\n      <div className=\"objectives\">\r\n        <h3>Objectives</h3>\r\n        <ul>\r\n          { objectives }\r\n        </ul>\r\n        <h3>Notes</h3>\r\n        <p>{this.props.notes}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerObjectives;\r\n","/* client/src/components/partials/ViewerCanvas.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport FloorSelector from \"./FloorSelector.js\";\r\nimport ZoomSelector from \"./ZoomSelector.js\";\r\nimport ViewerBlueprintForm from \"./ViewerBlueprintForm.js\";\r\nimport ViewerObjectives from \"./ViewerObjectives.js\";\r\n\r\nclass ViewerCanvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateZoom = this.updateZoom.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n\r\n    this.state = {\r\n      zoom: 1,\r\n      labels: true\r\n    }\r\n  }\r\n  toggleLabels() {\r\n    this.setState({\r\n      labels: !this.state.labels\r\n    })\r\n  }\r\n  updateZoom(e) {\r\n    this.setState({\r\n      zoom: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"canvas\">\r\n        <div className=\"canvas__controls\">\r\n          <FloorSelector onChange={this.props.updateFloor} floors={this.props.floors} floor={this.props.floor}/>\r\n          <ZoomSelector onChange={this.updateZoom} zoom={this.state.zoom}/>\r\n          <div className=\"labels\">\r\n            <span>Show Labels</span>\r\n            <input type=\"checkbox\" onChange={this.toggleLabels} checked={this.state.labels}/>\r\n          </div>\r\n        </div>\r\n        <ViewerBlueprintForm type={this.props.type}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          drones={this.props.drones}\r\n          rotates={this.props.rotates}\r\n          reinforcements={this.props.reinforcements}\r\n          map={this.props.map} site={this.props.site} floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          floor={this.props.floor}\r\n          zoom={this.state.zoom}\r\n          labels={this.state.labels}/>\r\n        <div className=\"canvas__body\">\r\n          <ViewerObjectives objectives={this.props.objectives}\r\n            notes={this.props.notes}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerCanvas;\r\n","/* client/src/components/partials/ViewerLineup.js */\r\n\r\nimport React from \"react\";\r\nimport { ATTACKER_ROLES, ATTACKER_OPERATORS, DEFENDER_ROLES, DEFENDER_OPERATORS, UTILITY_GUIDE, UTILITY } from \"../../data.js\";\r\nconst attackRoles = ATTACKER_ROLES;\r\nconst defenderRoles = DEFENDER_ROLES;\r\nconst utility_guide = UTILITY;\r\n\r\nclass ViewerLineup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    const lineup = this.props.roles.map((role, index) => {\r\n      return (\r\n        <div className=\"role\" key={index}>\r\n          <div className=\"role__head\">\r\n            <div>\r\n              <p className=\"role__role\">Role: {this.props.roles[index]}</p>\r\n              <p className=\"role__utility\">Utility: {this.props.utility[index]}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"role__image\">\r\n            <img className=\"role__image\" src={`https://cdn.r6stats.com/badges/${this.props.operators[index].toLowerCase()}_badge.png`}/>\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div className=\"lineup\">\r\n        <h3>Lineup</h3>\r\n        { lineup }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerLineup;\r\n","/* client/components/partials/Editor.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"./Loading.js\";\r\nimport MapSelector from \"./MapSelector.js\";\r\nimport ViewerToolbar from \"./ViewerToolbar.js\";\r\nimport ViewerSidebar from \"./ViewerSidebar.js\";\r\nimport ViewerCanvas from \"./ViewerCanvas.js\";\r\nimport ViewerLineup from \"./ViewerLineup.js\";\r\n\r\nimport { MAP_NAMES, SITES, FLOORS, GADGETS, UTILITY_GUIDE } from \"../../data.js\";\r\n\r\n/*\r\n  @func: Editor\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop map\r\n  @prop save (function)\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass Viewer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectSite = this.selectSite.bind(this);\r\n    this.updateType = this.updateType.bind(this);\r\n    this.updateFloor = this.updateFloor.bind(this);\r\n\r\n    // Strategies\r\n    this.selectStrategy = this.selectStrategy.bind(this);\r\n\r\n    // Scenes\r\n    this.selectScene = this.selectScene.bind(this);\r\n\r\n    this.state = {\r\n      activeOperator: 0,\r\n      map: this.props.map,\r\n      sites: SITES[this.props.map.name],\r\n      site: SITES[this.props.map.name][0],\r\n      siteIndex: 0,\r\n      strategyIndex: 0,\r\n      strategies: this.props.map.attack,\r\n      sceneIndex: 0,\r\n      scenes: this.props.map.attack[0][SITES[this.props.map.name][0]],\r\n      floors: FLOORS[this.props.map.name],\r\n      floorIndex: 0,\r\n      type: \"ATTACK\",\r\n    }\r\n  }\r\n  selectSite(index) {\r\n    this.setState({\r\n      site: this.state.sites[index],\r\n      siteIndex: index,\r\n      sceneIndex: 0,\r\n      scenes: (this.state.type === \"ATTACK\" ? this.state.map.attack[this.state.strategyIndex][this.state.sites[index]] : this.state.map.defense[this.state.sites[index]][0].scenes),\r\n      strategyIndex: (this.state.type === \"ATTACK\" ? this.state.strategyIndex : 0),\r\n      strategies: (this.state.type === \"ATTACK\" ? this.state.strategies : this.state.map.defense[this.state.sites[index]])\r\n    });\r\n  }\r\n  updateType(type) {\r\n    if (type === \"ATTACK\") {\r\n      this.setState({\r\n        type: \"ATTACK\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.attack,\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.attack[0][this.state.sites[0]],\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    } else {\r\n      this.setState({\r\n        type: \"DEFENSE\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.defense[this.state.sites[0]],\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.defense[this.state.sites[0]][0].scenes,\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    }\r\n  }\r\n  updateFloor(e) {\r\n    this.setState({\r\n      floorIndex: this.state.floors.indexOf(e.target.value)\r\n    });\r\n  }\r\n\r\n  // Strategies\r\n  selectStrategy(index) {\r\n    this.setState({\r\n      strategyIndex: index\r\n    });\r\n  }\r\n\r\n  // Scenes\r\n  selectScene(index) {\r\n    this.setState({\r\n      sceneIndex: index\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"Viewer\">\r\n        <ViewerToolbar\r\n          showMaps={this.showMaps}\r\n          map={this.state.map}\r\n          strategies={this.state.strategies}\r\n          strategyIndex={this.state.strategyIndex}\r\n          selectStrategy={this.selectStrategy}\r\n          type={this.state.type}\r\n          updateType={this.updateType}\r\n          siteIndex={this.state.siteIndex}\r\n          sites={this.state.sites}\r\n          selectSite={this.selectSite}\r\n          strategy={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex].name\r\n          ): (\r\n            this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n          )}\r\n          drones={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones) : undefined}\r\n          rotates={this.state.type === \"ATTACK\"? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n          reinforcements={this.state.type === \"ATTACK\" ? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n          breaches={(this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n          ) : undefined)}\r\n          alert={this.props.alert} save={this.save}\r\n          fetchStrategies={this.props.fetchStrategies}/>\r\n        <main>\r\n          <ViewerSidebar\r\n            map={this.state.map.name}\r\n            strategy={this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].name\r\n            ): (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n            )}\r\n            strategies={this.state.strategies}\r\n            selectStrategy={this.selectStrategy}\r\n            strategyIndex={this.state.strategyIndex}\r\n            sites={this.state.sites}\r\n            selectSite={this.selectSite}\r\n            siteIndex={this.state.siteIndex}\r\n            scenes={this.state.scenes}\r\n            selectScene={this.selectScene}\r\n            sceneIndex={this.state.sceneIndex}\r\n            type={this.state.type}/>\r\n          <ViewerCanvas\r\n            type={this.state.type}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            operatorPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions\r\n            ))}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n            ))}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n            ))}\r\n            drones={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones\r\n            ) : undefined)}\r\n            rotates={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n            reinforcements={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n            map={this.state.map.name} site={this.state.site} floorIndex={this.state.floorIndex}\r\n            breaches={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n            ) : undefined)}\r\n            floor={this.state.floors[this.state.floorIndex]}\r\n            updateFloor={this.updateFloor}\r\n            floors={this.state.floors}\r\n            objectives={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives))}\r\n            notes={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].notes\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes))}\r\n            />\r\n          <ViewerLineup\r\n            type={this.state.type}\r\n            roles={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].roles\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].roles ))}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            activeOperator={this.state.activeOperator}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}/>\r\n        </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Viewer;\r\n","/* client/components/partials/LoadingModal.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Loading\r\n  @desc: render a loading animation\r\n*/\r\nconst LoadingModal = (props) => {\r\n  return (\r\n    <div className=\"loading-modal\">\r\n      <div className=\"loader\">\r\n        <svg className=\"circular\" viewBox=\"25 25 50 50\">\r\n          <circle className=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\r\n        </svg>\r\n      </div>\r\n      { props.message ? props.message : \"Fetching Data\" }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoadingModal;\r\n","/* client/components/api/ViewStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { STRATEGIES_FOUND, MAP_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_STRATEGIES, ERROR_VIEW_MAP } from \"../../messages/errors.js\";\r\n\r\nimport Editor from \"../partials/Editor.js\";\r\nimport Viewer from \"../partials/Viewer.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport { MAP_NAMES } from \"../../data.js\";\r\n\r\n/*\r\n  @func: ViewStrategiesAPI\r\n  @desc: manage state of strategies page and make requests to server\r\n  @prop team_code: String\r\n  @prop getAuthToken: function\r\n  @state:\r\n    strategies: Object\r\n    index: Int\r\n    loading: Boolean\r\n*/\r\nclass ViewStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStrategies = this.fetchStrategies.bind(this);\r\n    this.fetchMap = this.fetchMap.bind(this);\r\n\r\n    this.state = {\r\n      map_name: this.props.map,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      errors: {},\r\n    }\r\n  }\r\n  /*\r\n    @func fetchStrategies\r\n    @desc get strategies from server\r\n  */\r\n  fetchStrategies() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      add: false\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/strategies/view\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case STRATEGIES_FOUND.status:\r\n          const maps = Object.keys(response.data.maps).filter((map) => MAP_NAMES.indexOf(map) >= 0);\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            maps: response.data.maps,\r\n            map: undefined,\r\n            map_name: undefined\r\n          });\r\n          break;\r\n          default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_STRATEGIES.message, ERROR_VIEW_STRATEGIES.status);\r\n    });\r\n  }\r\n  fetchMap(map) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    let map_name = map ? map : this.state.map_name;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(`/api/strategies/view/${map_name.toLowerCase().replace(\" \", \"_\")}`)\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_FOUND.status:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true,\r\n              map_name: map_name,\r\n              map: response.data[map_name.toLowerCase()]\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_VIEW_MAP.message, ERROR_VIEW_MAP.status);\r\n      })\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      if (this.state.map_name) {\r\n        this.fetchMap();\r\n      } else {\r\n        this.fetchStrategies();\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (this.state.loading) {\r\n      contents = <LoadingModal message=\"Fetching Strategies\"/>\r\n    } else {\r\n      if (this.state.map_name) {\r\n        if (this.state.hasLoaded && this.state.map) {\r\n          contents = <Viewer map={this.state.map} alert={this.props.alert} fetchStrategies={this.fetchStrategies}/>;\r\n        } else {\r\n          contents = \"Waiting for server\";\r\n        }\r\n      } else {\r\n        const maps = this.state.maps.map((map, index) => {\r\n          return (\r\n            <Link to={`/strategies/${map}`} className=\"map-option\" key={index} style={{ backgroundImage: `url(../../media/min/maps/${map.toUpperCase().replace(\" \", \"_\")}-min.png)` }}\r\n              onClick={() => { this.fetchMap(map) }}>\r\n              <div className=\"map-overlay\">\r\n                { map.toUpperCase().replace(\"_\", \" \") }\r\n              </div>\r\n            </Link>\r\n          )\r\n        });\r\n        contents = (\r\n          <div className=\"view-container\">\r\n            <h1>View Strategies</h1>\r\n            { this.props.status === \"EDITOR\" || this.props.status === \"ADMIN\" ? (\r\n              <Link className=\"button\" to=\"/strategies/edit\">Edit Strategies</Link>\r\n            ) : \"\"}\r\n            <div className=\"map-selector\">\r\n              { maps.length > 0 ? maps : \"No maps to show.\" }\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ViewStrategiesAPI\">\r\n        { contents }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewStrategiesAPI;\r\n","/* client/src/components/pages/Strategies.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewStrategiesAPI from \"../api/ViewStrategiesAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: Strategies\r\n  @desc: render strategies page\r\n  @prop team_code: String\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst Strategies = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"strategies\">\r\n      <ViewStrategiesAPI team_code={props.team_code} getAuthToken={props.getAuthToken} alert={props.alert} map={props.map} status={props.status}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Strategies;\r\n","/* client/components/api/CreateStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\n\r\nimport { MAP_NAMES, SITES, FLOORS, GADGETS, UTILITY_GUIDE } from \"../../data.js\";\r\nimport { MAP_ADDED } from \"../../messages/messages.js\";\r\nimport { ERROR_ADD_MAP } from \"../../messages/errors.js\";\r\n\r\n/*\r\n  @func: CreateStrategiesAPI\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass CreateStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectMap = this.selectMap.bind(this);\r\n    this.addMap = this.addMap.bind(this);\r\n\r\n    this.state = {\r\n      maps: MAP_NAMES.filter((map) => this.props.maps.indexOf(map.toLowerCase().replace(\" \", \"_\")) < 0)\r\n    }\r\n  }\r\n  selectMap(name) {\r\n    if (MAP_NAMES.indexOf(name) >= 0) {\r\n      let map = {\r\n        name: name,\r\n        attack: []\r\n      };\r\n      let attackStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"]\r\n      };\r\n      SITES[name].map((site) => {\r\n        attackStrategy[site] = [\r\n          {\r\n            objectives: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            breaches: [],\r\n            operatorPositions: [{x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}],\r\n            drones: [],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      });\r\n      map.attack.push(attackStrategy);\r\n      let defenseStrategy = {};\r\n      SITES[name].map((site) => {\r\n        defenseStrategy[site] = [\r\n          {\r\n            name: \"Unnamed\",\r\n            roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n            operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n            utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n            gadgets: [\"\", \"\", \"\", \"\", \"\"],\r\n            reinforcements: [],\r\n            rotates: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            scenes: [\r\n              {\r\n                objectives: [],\r\n                operatorPositions: [{x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}],\r\n                notes: \"\",\r\n                name: \"Unnamed\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      });\r\n      map.defense = defenseStrategy;\r\n      this.setState({\r\n        map: map,\r\n      }, this.addMap);\r\n    }\r\n  }\r\n  addMap() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(`/api/strategies/add/${this.state.map.name.toLowerCase().replace(\" \", \"_\")}`, {\r\n      map: JSON.stringify(this.state.map)\r\n      })\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_ADDED.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"You have successfully added a map to your Stratbook.\", \"SUCCESS\");\r\n            component.props.fetchStrategies();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            }, component.props.fetchStrategies);\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_ADD_MAP.message, ERROR_ADD_MAP.status);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const maps = this.state.maps.map((map, index) => {\r\n      return (\r\n        <div className=\"map-option\" key={index} style={{ backgroundImage: `url(../../media/maps/${map.toUpperCase().replace(\" \", \"_\")}-min.png)`}}\r\n          onClick={() => { this.selectMap(map.toUpperCase()) }}>\r\n          <div className=\"map-overlay\">\r\n            { map }\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n    return (\r\n      <div id=\"CreateStrategiesAPI\">\r\n        { this.state.loading ? (\r\n          <LoadingModal message=\"Adding Map to Stratbook\"/>\r\n        ) : (\r\n          <div className=\"add-map\">\r\n            <h1>Create Strategy</h1>\r\n            <h4>Add a map to your Stratbook</h4>\r\n            <div className=\"map-selector\">\r\n              { maps.length > 0 ? maps : <p>There are no maps to add to your Stratbook. Your Stratbook contains all the available maps.</p> }\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateStrategiesAPI;\r\n","/* client/src/components/api/EditStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { STRATEGIES_FOUND, MAP_FOUND, MAP_UPDATED, MAP_DELETED } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_STRATEGIES, ERROR_VIEW_MAP, ERROR_UPDATE_MAP, ERROR_DELETE_MAP } from \"../../messages/errors.js\";\r\n\r\nimport CreateStrategiesAPI from \"./CreateStrategiesAPI\";\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport Editor from \"../partials/Editor.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MAP_NAMES } from \"../../data.js\";\r\n\r\n/*\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nclass EditStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.addMap = this.addMap.bind(this);\r\n    this.fetchStrategies = this.fetchStrategies.bind(this);\r\n    this.fetchMap = this.fetchMap.bind(this);\r\n    this.updateStrategy = this.updateStrategy.bind(this);\r\n    this.deleteMap = this.deleteMap.bind(this);\r\n\r\n    this.state = {\r\n      map_name: this.props.map,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      add: false,\r\n      errors: {},\r\n    }\r\n  }\r\n  addMap() {\r\n    this.setState({\r\n      add: !this.state.add\r\n    });\r\n  }\r\n  /*\r\n    @func fetchStrategies\r\n    @desc get strategies from server\r\n  */\r\n  fetchStrategies() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      add: false\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/strategies/view\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case STRATEGIES_FOUND.status:\r\n          const maps = Object.keys(response.data.maps).filter((map) => MAP_NAMES.indexOf(map) >= 0);\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            maps: response.data.maps,\r\n            map: undefined,\r\n            map_name: undefined\r\n          });\r\n          break;\r\n          default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_STRATEGIES.message, ERROR_VIEW_STRATEGIES.status);\r\n    });\r\n  }\r\n  fetchMap(map) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    let map_name = map ? map : this.state.map_name;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(`/api/strategies/view/${map_name.toLowerCase().replace(\" \", \"_\")}`)\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_FOUND.status:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true,\r\n              map_name: map_name,\r\n              map: response.data[map_name.toLowerCase()]\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_VIEW_MAP.message, ERROR_VIEW_MAP.status);\r\n      })\r\n  }\r\n  updateStrategy(map, position) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      position: position\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(`/api/strategies/update/${this.state.map.name.toLowerCase().replace(\" \", \"_\")}`, {\r\n      map: map\r\n      })\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_UPDATED.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            }, component.props.fetchStrategies);\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_UPDATE_MAP.message, ERROR_UPDATE_MAP.status);\r\n      })\r\n  }\r\n  deleteMap(e, map) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (window.confirm(`You are about to remove ${map.toUpperCase()} from your team's Stratbook. If you decide to add this map again, it will not restore the data currently stored. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(`/api/strategies/delete/${map.toLowerCase().replace(\" \", \"_\")}`)\r\n        .then((response) => {\r\n          switch (response.data.status) {\r\n            case MAP_DELETED.status:\r\n              component.setState({\r\n                loading: false,\r\n              });\r\n              component.props.alert(\"You have deleted the requested map\", \"SUCCESS\");\r\n              component.fetchStrategies();\r\n              break;\r\n            default:\r\n              component.setState({\r\n                loading: false,\r\n              }, component.props.fetchStrategies);\r\n              component.props.alert(response.data.message, response.data.status);\r\n              break;\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error);\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(ERROR_DELETE_MAP.message, ERROR_DELETE_MAP.status);\r\n        })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      if (this.state.map_name) {\r\n        this.fetchMap();\r\n      } else {\r\n        this.fetchStrategies();\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (this.state.loading) {\r\n      contents = <LoadingModal message=\"Fetching Strategies\"/>\r\n    } else if (this.state.add) {\r\n      contents = (\r\n        <div className=\"add-strategy\">\r\n          <button id=\"cancel\" onClick={this.addMap}>Cancel</button>\r\n          <CreateStrategiesAPI getAuthToken={this.props.getAuthToken} alert={this.props.alert} maps={this.state.maps} fetchStrategies={this.fetchStrategies}/>\r\n        </div>\r\n      )\r\n    } else {\r\n      if (this.state.map_name) {\r\n        if (this.state.hasLoaded && this.state.map) {\r\n          contents = <Editor map={this.state.map} alert={this.props.alert} save={this.updateStrategy} fetchStrategies={this.fetchStrategies} position={this.state.position}/>;\r\n        } else {\r\n          contents = (\r\n            <div>\r\n              <Link className=\"button\" to=\"/strategies\">Back to view</Link>\r\n              <button className=\"button\" onClick={this.addMap}>Add Map</button>\r\n            </div>\r\n          )\r\n        }\r\n      } else {\r\n        const maps = this.state.maps.map((map, index) => {\r\n          return (\r\n            <Link to={`/strategies/edit/${map}`} className=\"map-option\" key={index} style={{ backgroundImage: `url(../../media/min/maps/${map.toUpperCase().replace(\" \", \"_\")}-min.png)` }}\r\n              onClick={() => { this.fetchMap(map) }}>\r\n              <div className=\"map-overlay\">\r\n                { map.toUpperCase().replace(\"_\", \" \") }\r\n              </div>\r\n              <button className=\"delete-button\" onClick={(e) => { this.deleteMap(e, map) }}>&#128465;</button>\r\n            </Link>\r\n          )\r\n        });\r\n        contents = (\r\n          <div className=\"edit-container\">\r\n            <h1>Edit Strategies</h1>\r\n            <div className=\"edit-buttons\">\r\n              <Link className=\"button\" to=\"/strategies\">Back to view</Link>\r\n              <button className=\"button\" onClick={this.addMap}>Add Map</button>\r\n            </div>\r\n            <div className=\"map-selector\">\r\n              { maps.length > 0 ? maps : \"No maps to show.\" }\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"EditStrategiesAPI\">\r\n        { contents }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditStrategiesAPI;\r\n","/* client/src/components/pages/EditStrategies.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport EditStrategiesAPI from \"../api/EditStrategiesAPI.js\";\r\n\r\n/*\r\n  @func: EditStrategies\r\n  @desc: render manage team page\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst EditStrategies = (props) => {\r\n  return (\r\n    <div id=\"edit-strategies\">\r\n      <EditStrategiesAPI getAuthToken={props.getAuthToken} alert={props.alert} map={props.map}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditStrategies;\r\n","/* client/components/pages/NotFound.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: NotFound\r\n  @desc: render 404 page\r\n*/\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"page\" id=\"not-found\">\r\n      The route you requested could not be found.\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFound;\r\n","/* client/components/partials/ForgotPasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: ForgotPasswordForm\r\n  @desc: render ForgotPassword form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst ForgotPasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"ForgotPassword-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Forgot Password</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email associated with account</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Send Reset Link</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ForgotPasswordForm;\r\n","/* client/components/api/ForgotPasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { PASSWORD_RESET_LINK_SENT } from \"../../messages/messages.js\";\r\nimport { ERROR_RESET_PASSWORD } from \"../../messages/errors.js\";\r\n\r\nimport ForgotPasswordForm from \"../partials/ForgotPasswordForm.js\";\r\n\r\n/*\r\n  @func: ForgotPasswordAPI\r\n  @desc: manage state of ForgotPassword form and ForgotPassword requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass ForgotPasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.patch(\"/api/users/forgot-password\", {\r\n      email: this.state.email\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PASSWORD_RESET_LINK_SENT.status:\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_RESET_PASSWORD.message, ERROR_RESET_PASSWORD.status);\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"ForgotPasswordAPI\">\r\n          <ForgotPasswordForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ForgotPasswordAPI;\r\n","/* client/src/components/pages/ForgotPassword.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ForgotPasswordAPI from \"../api/ForgotPasswordAPI.js\";\r\n\r\n/*\r\n  @func: Forgot password\r\n  @desc: render forgot password\r\n  @prop alert: function\r\n*/\r\nconst ForgotPassword = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"forgot-password\">\r\n      <ForgotPasswordAPI alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword;\r\n","/* client/components/partials/ResetPasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: ResetPasswordForm\r\n  @desc: render ResetPassword form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop email: String\r\n  @prop password1: String\r\n  @prop password2: String\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst ResetPasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"ResetPassword-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Reset Password</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Reset Password</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ResetPasswordForm;\r\n","/* client/components/api/ResetPasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { PASSWORD_RESET } from \"../../messages/emails.js\";\r\nimport { ERROR_RESET_PASSWORD } from \"../../messages/errors.js\";\r\n\r\nimport ResetPasswordForm from \"../partials/ResetPasswordForm.js\";\r\n\r\n/*\r\n  @func: ResetPasswordAPI\r\n  @desc: manage state of ResetPassword form and ResetPassword requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass ResetPasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      password1: \"\",\r\n      password2: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.patch(\"/api/users/reset-password\", {\r\n      password1: this.state.password1,\r\n      password2: this.state.password2,\r\n      token: this.props.token\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PASSWORD_RESET.status:\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_RESET_PASSWORD.message, ERROR_RESET_PASSWORD.status);\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"ResetPasswordAPI\">\r\n          <ResetPasswordForm onSubmit={this.onSubmit} onChange={this.onChange} password={this.state.password} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ResetPasswordAPI;\r\n","/* client/src/components/pages/ResetPassword.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ResetPasswordAPI from \"../api/ResetPasswordAPI.js\";\r\nimport { useParams } from \"react-router\";\r\n\r\n/*\r\n  @func: Reset password\r\n  @desc: render Reset password\r\n  @prop alert: function\r\n*/\r\nconst ResetPassword = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"Reset-password\">\r\n      <ResetPasswordAPI alert={props.alert} token={props.match.params.token}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPassword;\r\n","/* client/components/partials/UserDropdown.js */\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: UserDropdown\r\n  @desc: render user dropdown in navigation bar\r\n  @prop username: String\r\n*/\r\nclass UserDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleDropdown = this.toggleDropdown.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggleDropdown() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={\"user-dropdown \" + (this.state.active ? \"user-dropdown--active\" : \"user-dropdown--inactive\")}>\r\n        <img className=\"user-dropdown__icon\" onClick={this.toggleDropdown} alt=\"User Icon\" src=\"../../media/min/User Icon.png\"/>\r\n        <div className=\"user-dropdown__body\">\r\n          <span id=\"user-dropdown-title\">{this.props.username}</span>\r\n          <Link onClick={() => { this.toggleDropdown(); this.props.toggleMenu(); }} className=\"user-dropdown__link\" to=\"/user\">Account</Link>\r\n          <Link onClick={() => { this.toggleDropdown(); this.props.toggleMenu(); }} className=\"user-dropdown__link\" to=\"/logout\" id=\"logout-link\">Logout</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserDropdown;\r\n","/* client/components/partials/Navigation.js */\r\n\r\nimport React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport UserDropdown from \"./UserDropdown.js\";\r\n\r\n/*\r\n  @func: Navigation\r\n  @desc: render dynamic navigation bar\r\n  @prop loggedIn: Boolean\r\n*/\r\nclass Navigation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n\r\n    this.state = {\r\n      first: true,\r\n      active: false,\r\n      loggedIn: this.props.loggedIn\r\n    };\r\n  }\r\n  /*\r\n    @func: toggleMenu\r\n    @desc: toggle state of menu\r\n  */\r\n  toggleMenu() {\r\n    this.setState({\r\n      first: false,\r\n      active: !this.state.active,\r\n      loggedIn: this.props.loggedIn\r\n    });\r\n    if (this.state.active) {\r\n      setTimeout(() => {\r\n        document.querySelector(\"nav.nav\").style.zIndex = 4;\r\n      }, 300);\r\n    } else {\r\n      document.querySelector(\"nav.nav\").style.zIndex = 5;\r\n    }\r\n  }\r\n  /*\r\n    @desc: update loggedIn state if App changes\r\n  */\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.loggedIn !== prevProps.loggedIn) {\r\n      this.setState({\r\n        loggedIn: this.props.loggedIn\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const inactiveClass = (this.state.first ? \"\" : \"nav--inactive\");\r\n    return (\r\n      <nav className={\"nav \" + (this.state.active ? \"nav--active\" : inactiveClass)}>\r\n        <ul className=\"nav__head\">\r\n          <img className=\"nav__image\" alt=\"Logo\" src=\"\"/>\r\n          <h3 className=\"nav__heading\">Stratbook</h3>\r\n          <span className=\"nav__subtitle\">[Beta]</span>\r\n        </ul>\r\n        <ul className=\"nav__body\">\r\n          { this.state.loggedIn ? (\r\n            <li className=\"nav__item\">\r\n              <NavLink exact activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/dashboard\">Dashboard</NavLink>\r\n            </li>\r\n          ) : (\r\n            <li className=\"nav__item\">\r\n              <NavLink exact activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/\">Home</NavLink>\r\n            </li>\r\n          )}\r\n          {\r\n            this.state.loggedIn ? \"\" : (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/login\">Login</NavLink>\r\n              </li>\r\n            )\r\n          }\r\n          {\r\n            this.state.loggedIn ? \"\" : (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/register\">Register</NavLink>\r\n              </li>\r\n            )\r\n          }\r\n          {\r\n            this.state.loggedIn ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/team\">Team</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn && this.props.team ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/strategies\">Strategies</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn && this.props.team ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/chat\">Chat</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn ? (\r\n              <UserDropdown username={this.props.username} toggleMenu={this.toggleMenu}/>\r\n            ) : ( \"\" )\r\n          }\r\n        </ul>\r\n        <button id=\"nav__button\" onClick={this.toggleMenu}>&#9776;</button>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","/* client/src/components/partials/Alert.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @prop index: Int\r\n  @prop message: String\r\n  @prop status: String\r\n  @prop clearAlert: function\r\n*/\r\n\r\nconst Alert = (props) => {\r\n  return (\r\n    <div className={\"alert\" + (props.status === \"ERROR\" ? \" alert--error\" : \"\") + (props.status === \"SUCCESS\" ? \" alert--success\" : \"\")}>\r\n      <h5 className=\"alert__type\">{props.status}</h5>\r\n      <p className=\"alert__message\">{props.message}</p>\r\n      <button onClick={() => { props.clearAlert(props.index) }} className=\"alert__button\">X</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Alert;\r\n","/* client/components/partials/Header.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Header\r\n  @desc: render header element with custom title and subtitle\r\n  @prop title: String\r\n  @prop subtitle: String\r\n*/\r\nconst Header = (props) => {\r\n  return (\r\n    <header className=\"header\" style={{ background: \"url('media/Header Background.jpg')\", backgroundSize: \"cover\", backgroundPosition: \"center\" }}>\r\n      <div className=\"header__overlay\">\r\n        <h1 className=\"header__title\">{props.title}</h1>\r\n        <h2 className=\"header__subtitle\">{props.subtitle}</h2>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","/* client/components/partials/Footer.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Footer\r\n  @desc: render footer\r\n*/\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      This is a footer.\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","/* client/src/App.js */\r\n\r\nimport React from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\n// import pages\r\nimport Home from \"./components/pages/Home.js\";\r\nimport Login from \"./components/pages/Login.js\";\r\nimport Logout from \"./components/pages/Logout.js\";\r\nimport Register from \"./components/pages/Register.js\";\r\nimport User from \"./components/pages/User.js\";\r\nimport Dashboard from \"./components/pages/Dashboard.js\";\r\nimport Team from \"./components/pages/Team.js\";\r\nimport ManageTeam from \"./components/pages/ManageTeam.js\";\r\nimport Strategies from \"./components/pages/Strategies.js\";\r\nimport EditStrategies from \"./components/pages/EditStrategies.js\";\r\nimport NotFound from \"./components/pages/NotFound.js\";\r\nimport ForgotPassword from \"./components/pages/ForgotPassword.js\";\r\nimport ResetPassword from \"./components/pages/ResetPassword.js\";\r\n\r\n// import presentational components\r\nimport Navigation from \"./components/partials/Navigation.js\";\r\nimport Alert from \"./components/partials/Alert.js\";\r\nimport Header from \"./components/partials/Header.js\";\r\nimport Footer from \"./components/partials/Footer.js\";\r\n\r\nimport \"./css/style.css\";\r\n\r\nimport { TOKEN_ISSUED } from \"./messages/messages.js\";\r\n\r\n/*\r\n  App: root component, used to manage client-side auth and routing\r\n*/\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.login = this.login.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n    this.updateState = this.updateState.bind(this);\r\n    this.setLocalStorage = this.setLocalStorage.bind(this);\r\n    this.clearLocalStorage = this.clearLocalStorage.bind(this);\r\n    this.getAuthToken = this.getAuthToken.bind(this);\r\n    this.updateAuthToken = this.updateAuthToken.bind(this);\r\n    this.alert = this.alert.bind(this);\r\n    this.clearAlert = this.clearAlert.bind(this);\r\n\r\n    this.state = {\r\n      loggedIn: Date.now() < new Date(localStorage.getItem(\"expires\")) ? true : false,\r\n      user: JSON.parse(localStorage.getItem(\"user\")),\r\n      alerts: []\r\n    }\r\n  }\r\n  /*\r\n    login: login a user on the client side\r\n\r\n    token {String}: JWT\r\n    expiresIn {Int}: expiry time for JWT\r\n    user {Object}: user data object to store in localStorage\r\n  */\r\n  login(token, expiresIn, user) {\r\n    this.setLocalStorage(token, expiresIn, user, this.updateState);\r\n    axios.defaults.headers.common[\"Authorization\"] = this.state.token;\r\n  }\r\n  /*\r\n    logout: logout a user on the client side\r\n  */\r\n  logout() {\r\n    this.clearLocalStorage();\r\n    axios.defaults.headers.common[\"Authorization\"] = null;\r\n    this.updateState();\r\n  }\r\n  /*\r\n    updateState: refresh application state of client-side authentication\r\n  */\r\n  updateState() {\r\n    this.setState({\r\n      loggedIn: Date.now() < new Date(localStorage.getItem(\"expires\")) ? true : false,\r\n      user: JSON.parse(localStorage.getItem(\"user\"))\r\n    });\r\n  }\r\n  /*\r\n    setLocalStorage: store token and expiration date in local storage\r\n\r\n    token {String}: JWT\r\n    expiresIn {Int}: expiry time for JWT\r\n    user {Object}: user data object\r\n    callback {function}: function to call after local storage set\r\n  */\r\n  setLocalStorage(token, expiresIn, user, callback) {\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"expires\", new Date(Date.now() + expiresIn).toDateString());\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n    callback();\r\n  }\r\n  /*\r\n    clearLocalStorage: clear token and expiration date in local storage\r\n  */\r\n  clearLocalStorage() {\r\n    localStorage.clear();\r\n  }\r\n  /*\r\n    getAuthToken: get the auth token stored in localStorage\r\n  */\r\n  getAuthToken() {\r\n    return localStorage.getItem(\"token\");\r\n  }\r\n  /*\r\n    updateAuthToken: update the state of client-side auth and data\r\n  */\r\n  updateAuthToken() {\r\n    if (this.state.loggedIn) {\r\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.getItem(\"token\");\r\n      axios.get(\"/api/users/update-token\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case TOKEN_ISSUED.status:\r\n            const user = response.data.user;\r\n            this.login(response.data.token, response.data.expiresIn, user);\r\n            break;\r\n          default:\r\n            this.alert(\"An error has occurred whil attempting to authenticate your login.\");\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        this.alert(\"Your login has expired or become invalid.\");\r\n        this.logout();\r\n      });\r\n    }\r\n  }\r\n  /*\r\n    alert: write a message to the screen\r\n\r\n    msg {String}: msg to display\r\n  */\r\n  alert(msg, status) {\r\n    let newAlerts = [...this.state.alerts];\r\n    newAlerts.push({ message: msg, status: status });\r\n    this.setState({\r\n      alerts: newAlerts\r\n    });\r\n  }\r\n  /*\r\n    clearAlert: clear an alert from the screen\r\n    index {Int}: index of alert to clear\r\n  */\r\n  clearAlert(index) {\r\n    let newAlerts = [...this.state.alerts];\r\n    newAlerts.splice(index, 1);\r\n    this.setState({\r\n      alerts: newAlerts\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.updateAuthToken();\r\n  }\r\n  render() {\r\n    const alerts = this.state.alerts.map((alert, index) => {\r\n      return <Alert clearAlert={this.clearAlert} index={index} message={alert.message} status={alert.status}/>\r\n    });\r\n    return (\r\n      <Router>\r\n        <div className=\"container\">\r\n          <Navigation loggedIn={this.state.loggedIn} username={(this.state.user ? this.state.user.username : \"\")} status={this.state.user ? this.state.user.status : \"\"} team={(this.state.user ? this.state.user.team_code : undefined)}/>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/dashboard\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Home/>\r\n                </div>\r\n              )}\r\n            </Route>\r\n            <Route exact path=\"/user\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <User getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken}\r\n                        logout={this.logout} username={this.state.user.username} email={this.state.user.email}\r\n                        platform={this.state.user.platform} attacker_role={this.state.user.attacker_role}\r\n                        attackers={this.state.user.attackers} defenders={this.state.user.defenders}\r\n                        defender_role={this.state.user.defender_role} alert={this.alert}\r\n                        subscription={this.state.user.subscription}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/dashboard\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Dashboard getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/team\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Team getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken}\r\n                        team_code={this.state.user.team_code} alert={this.alert} status={this.state.user.status}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/team/manage\">\r\n              { this.state.loggedIn && this.state.user.status === \"ADMIN\" ? (\r\n                <div className=\"page-wrapper\">\r\n                  <ManageTeam getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/team\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies\">\r\n              { this.state.loggedIn && this.state.user.team_code ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Strategies team_code={this.state.user.team_code} status={this.state.user.status} getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies/edit\">\r\n              { this.state.loggedIn && (this.state.user.status === \"ADMIN\" || this.state.user.status === \"EDITOR\") ? (\r\n                <div className=\"page-wrapper\">\r\n                  <EditStrategies getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/strategies\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies/edit/:map\"\r\n              render={(props) => {\r\n                if (this.state.loggedIn && (this.state.user.status === \"ADMIN\" || this.state.user.status === \"EDITOR\")) {\r\n                  const map_name = props.match.params.map.toUpperCase();\r\n                  return (\r\n                    <div className=\"page-wrapper\">\r\n                      <EditStrategies getAuthToken={this.getAuthToken} alert={this.alert} map={map_name} {...props}/>\r\n                    </div>\r\n                  )\r\n                } else {\r\n                  return <Redirect to=\"/strategies\"/>\r\n                }\r\n              }}/>\r\n            <Route exact path=\"/strategies/:map\"\r\n              render={(props) => {\r\n                if (this.state.loggedIn) {\r\n                  const map_name = props.match.params.map.toUpperCase();\r\n                  return (\r\n                    <div className=\"page-wrapper\">\r\n                      <Strategies team_code={this.state.user.team_code} status={this.state.user.status} getAuthToken={this.getAuthToken} alert={this.alert} map={map_name} {...props}/>\r\n                    </div>\r\n                  )\r\n                } else {\r\n                  return <Redirect to=\"/\"/>\r\n                }\r\n              }}/>\r\n            <Route exact path=\"/chat\">\r\n              { this.state.loggedIn && this.state.user.team_code ? (\r\n                <div className=\"page-wrapper\">\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Login login={this.login} alert={this.alert}/>\r\n                </div>\r\n                )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/logout\">\r\n              { this.state.loggedIn ? (\r\n                <Logout logout={this.logout}/>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/register\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Register alert={this.alert}/>\r\n                </div>\r\n                )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/forgot-password\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <ForgotPassword alert={this.alert}/>\r\n                </div>\r\n              )}\r\n            </Route>\r\n            <Route path=\"/reset-password/:token\"\r\n              render={(props) => (<ResetPassword {...props} alert={this.alert}/>)}/>\r\n            <Route>\r\n              <div className=\"page-wrapper\">\r\n                <Header title=\"Error: 404\"/>\r\n                <NotFound/>\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n          <Footer/>\r\n          <div className=\"alert-container\">\r\n            { alerts }\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if ('serviceWorker' in navigator) {\r\n    window.self.addEventListener(\"push\", event => {\r\n      const data = event.data.json();\r\n      const { title } = data;\r\n\r\n      const body = {\r\n        body: data.body\r\n      }\r\n\r\n      event.waitUntil(window.self.registration.showNotification(title, body));\r\n    });\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swFileName = process.env.NODE_ENV === \"production\" ? \"service-worker.js\" : \"custom-sw.js\";\r\n      const swUrl = `${process.env.PUBLIC_URL}/${swFileName}`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","/* client/index.js */\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App.js\";\r\nimport * as serviceWorker from \"./serviceWorker.js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","/* errors.js */\r\n\r\nmodule.exports = {\r\n  ERROR_ADD_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to add map.\"\r\n  },\r\n  ERROR_ANNOUNCE: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to make announcement.\"\r\n  },\r\n  ERROR_ATTACKERS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set attackers.\"\r\n  },\r\n  ERROR_ATTACKER_ROLE: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set attacker role.\"\r\n  },\r\n  ERROR_BLOCK_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to block user.\"\r\n  },\r\n  ERROR_CREATE_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to create a team.\"\r\n  },\r\n  ERROR_DEFENDERS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set defenders.\"\r\n  },\r\n  ERROR_DEFENDER_ROLE: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set defender role.\"\r\n  },\r\n  ERROR_DELETE_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete map from Stratbook.\"\r\n  },\r\n  ERROR_DELETE_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete team.\"\r\n  },\r\n  ERROR_DELETE_TEAM_AND_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete user and associated team.\"\r\n  },\r\n  ERROR_DELETE_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete user.\"\r\n  },\r\n  ERROR_EMAIL: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update email.\"\r\n  },\r\n  ERROR_FORGOT_PASSWORD: {\r\n    status: \"Error\",\r\n    message: \"An error occured while attempting to send a reset password email.\"\r\n  },\r\n  ERROR_JOIN_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to join team.\"\r\n  },\r\n  ERROR_LEAVE_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to leave team.\"\r\n  },\r\n  ERROR_LOGIN: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to log in.\"\r\n  },\r\n  ERROR_PLATFORM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update platform.\"\r\n  },\r\n  ERROR_PUSH: {\r\n    status: \"ERROR\",\r\n    message: \"An error ocurred while attempting to subscribe to push notifications.\"\r\n  },\r\n  ERROR_REGISTER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to register.\"\r\n  },\r\n  ERROR_RESET_PASSWORD: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to reset password.\"\r\n  },\r\n  ERROR_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to find the requested team.\"\r\n  },\r\n  ERROR_TEAM_STATS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to get team statistics.\"\r\n  },\r\n  ERROR_UNBLOCK_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error has occurred while attempting to unblock a user.\"\r\n  },\r\n  ERROR_UPDATE_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error has occurred while attempting to update map.\"\r\n  },\r\n  ERROR_UPDATE_PASSWORD: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update password.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_MMR: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team mmr.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_NAME: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team name.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_PLATFORM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team platform.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_STATUS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team status.\"\r\n  },\r\n  ERROR_UPDATE_USER_STATUS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update the status of the provided user.\"\r\n  },\r\n  ERROR_USERNAME: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update username.\"\r\n  },\r\n  ERROR_VIEW_BLOCKED_USERS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view blocked users.\"\r\n  },\r\n  ERROR_VIEW_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view the requested map.\"\r\n  },\r\n  ERROR_VIEW_STRATEGIES: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view strategies.\"\r\n  },\r\n  ERROR_VIEW_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view team.\"\r\n  }\r\n}\r\n","/* data.js */\r\n\r\nmodule.exports = {\r\n  MAP_NAMES: [\"BANK\", \"BORDER\", \"CHALET\", \"CLUBHOUSE\", \"COASTLINE\", \"CONSULATE\", \"KAFE DOSTOYEVSKY\", \"KANAL\", \"OREGON\", \"SKYSCRAPER\", \"THEME PARK\", \"VILLA\"],\r\n  SITES: {\r\n    \"BANK\": [\"B Lockers/B CCTV Room\", \"1F Teller's Office/1F Archives\", \"1F Staff Room/1F Open Area\", \"2F Executive Lounge/2F CEO Office\"],\r\n    \"BORDER\": [\"1F Customs Inspection/1F Supply Room\", \"1F Ventilation Room/1F Workshop\", \"1F Bathroom/1F Tellers\", \"2F Armory Lockers/2F Archives\"],\r\n    \"CHALET\": [\"B Wine Cellar/B Snowmobile Garage\", \"1F Bar/1F Gaming Room\", \"1F Dining Room/1F Kitchen\", \"2F Master Bedroom/2F Office\"],\r\n    \"CLUBHOUSE\": [\"B Church/B Armory\", \"1F Bar/1F Stock Room\", \"2F Cash Room/2F CCTV\", \"2F Gym/2F Master Bedroom\"],\r\n    \"COASTLINE\": [\"1F Kitchen/1F Service Entrace\", \"1F Sunrise Bar/1F Blue Bar\", \"2F Hookah Lounge/2F Billiards Room\", \"2F Penthouse/2F Theater\"],\r\n    \"CONSULATE\": [\"B Garage/B Cafeteria\", \"B Archives/1F Tellers\", \"1F Lobby/1F Press Room\", \"2F Consul Office/2F Meeting Room\"],\r\n    \"KAFE DOSTOYEVSKY\": [\"1F Kitchen Cooking/1F Kitchen Service\", \"2F Fireplace Hall/2F Mining Room\", \"2F Fireplace Hall/2F Reading Room\", \"3F Cocktail Bar/3F Bar\"],\r\n    \"KANAL\": [\"B Supply Room/B Kayaks\", \"1F Coast Guard Meeting Room/1F Lounge\", \"1F Security Room/1F Maps Room\", \"2F Radar Room/2F Server Room\"],\r\n    \"OREGON\": [\"B Laundry/B Supply Room\", \"1F Kitchen/1F Dining Room\", \"1F Kitchen/1F Meeting Room\", \"2F Kid's Dorm/2F Dorms Main Hall\"],\r\n    \"SKYSCRAPER\": [\"1F Kitchen/1F BBQ\", \"1F Bedroom/1F Bathroom\", \"2F Tea Room/2F Karaoke\", \"2F Exhibition Room/2F Office\"],\r\n    \"THEME PARK\": [\"1F Armory Room/1F Throne Room\", \"1F Lab/1F Storage\", \"2F Office/2F Initiation Room\", \"2F Bunk/2F Day Care\"],\r\n    \"VILLA\": [\"1F Living Room/1F Library\", \"1F Kitchen/1F Dining Room\", \"2F Trophy Room/2F Statuary Room\", \"2F Aviator Room/2F Games Room\"]\r\n  },\r\n  FLOORS: {\r\n    \"BANK\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"BORDER\": [\"First Floor\", \"Second Floor\"],\r\n    \"CHALET\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"CLUBHOUSE\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"COASTLINE\": [\"First Floor\", \"Second Floor\"],\r\n    \"CONSULATE\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"KAFE DOSTOYEVSKY\": [\"First Floor\", \"Second Floor\", \"Third Floor\"],\r\n    \"KANAL\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"OREGON\": [\"Basement\", \"First Floor\", \"Second Floor\", \"Tier 3\"],\r\n    \"SKYSCRAPER\": [\"First Floor\", \"Second Floor\"],\r\n    \"THEME PARK\": [\"First Floor\", \"Second Floor\"],\r\n    \"VILLA\": [\"Basement\", \"First Floor\", \"Second Floor\"]\r\n  },\r\n  GADGETS: {\r\n    \"SLEDGE\": {\r\n      gadget: \"Sledgehammer\",\r\n      count: 25\r\n    },\r\n    \"THATCHER\": {\r\n      gadget: \"EMP Grenade\",\r\n      count: 3\r\n    },\r\n    \"SMOKE\": {\r\n      gadget: \"Remote Gas Grenade\",\r\n      count: 3\r\n    },\r\n    \"MUTE\": {\r\n      gadget: \"Signal Disruptor\",\r\n      count: 4\r\n    },\r\n    \"ASH\": {\r\n      gadget: \"Breaching Round\",\r\n      count: 3\r\n    },\r\n    \"THERMITE\": {\r\n      gadget: \"Exothermic Charge\",\r\n      count: 2\r\n    },\r\n    \"CASTLE\": {\r\n      gadget: \"Armored Panel\",\r\n      count: 3\r\n    },\r\n    \"PULSE\": {\r\n      gadget: \"Cardiac Sensor\",\r\n      count: 0\r\n    },\r\n    \"GLAS\": {\r\n      gadget: \"Flip Sight\",\r\n      count: 0\r\n    },\r\n    \"FUZE\": {\r\n      gadget: \"Cluster Charge\",\r\n      count: 4\r\n    },\r\n    \"KAPKAN\": {\r\n      gadget: \"Entry Denial Device\",\r\n      count: 5\r\n    },\r\n    \"TACHANKA\": {\r\n      gadget: \"Shumikha\",\r\n      count: 10\r\n    },\r\n    \"BLITZ\": {\r\n      gadget: \"Flash Shield\",\r\n      count: 0\r\n    },\r\n    \"IQ\": {\r\n      gadget: \"Electronics Detector\",\r\n      count: 0\r\n    },\r\n    \"JAGER\": {\r\n      gadget: \"Active Defense System\",\r\n      count: 3\r\n    },\r\n    \"BANDIT\": {\r\n      gadget: \"Shock Wire\",\r\n      count: 4\r\n    },\r\n    \"TWITCH\": {\r\n      gadget: \"Shock Drone\",\r\n      count: 2\r\n    },\r\n    \"MONTAGNE\": {\r\n      gadget: \"Extendable Shield\",\r\n      count: 0\r\n    },\r\n    \"DOC\": {\r\n      gadget: \"Stim Pistol\",\r\n      count: 0\r\n    },\r\n    \"ROOK\": {\r\n      gadget: \"Armor Pack\",\r\n      count: 0\r\n    },\r\n    \"FROST\": {\r\n      gadget: \"Welcome Mat\",\r\n      count: 3\r\n    },\r\n    \"BUCK\": {\r\n      gadget: \"Skeleton Key\",\r\n      count: 16\r\n    },\r\n    \"VALKYRIE\": {\r\n      gadget: \"Black Eye\",\r\n      count: 3\r\n    },\r\n    \"BLACKBEARD\": {\r\n      gadget: \"Rifle Shield\",\r\n      count: 0\r\n    },\r\n    \"CAPITAO\": {\r\n      gadget: \"Tactical Crossbolt\",\r\n      count: 4\r\n    },\r\n    \"CAVEIRA\": {\r\n      gadget: \"Silent Step\",\r\n      count: 0\r\n    },\r\n    \"ECHO\": {\r\n      gadget: \"Yokai Drone\",\r\n      count: 2\r\n    },\r\n    \"HIBANA\": {\r\n      gadget: \"X-Kairos Pellets\",\r\n      count: 9\r\n    },\r\n    \"JACKAL\": {\r\n      gadget: \"Eyenox Model III\",\r\n      count: 0\r\n    },\r\n    \"MIRA\": {\r\n      gadget: \"Black Mirror\",\r\n      count: 2\r\n    },\r\n    \"LESION\": {\r\n      gadget: \"Gu Mine\",\r\n      count: 8\r\n    },\r\n    \"YING\": {\r\n      gadget: \"Candela\",\r\n      count: 3\r\n    },\r\n    \"ELA\": {\r\n      gadget: \"Grzmot Mine\",\r\n      count: 3\r\n    },\r\n    \"ZOFIA\": {\r\n      gadget: \"KS79 Lifeline\",\r\n      count: 4\r\n    },\r\n    \"DOKKAEBI\": {\r\n      gadget: \"Logic Bomb\",\r\n      count: 0\r\n    },\r\n    \"VIGIL\": {\r\n      gadget: \"ERC-7\",\r\n      count: 0\r\n    },\r\n    \"FINKA\": {\r\n      gadget: \"Adrenal Surge\",\r\n      count: 0\r\n    },\r\n    \"LION\": {\r\n      gadget: \"EE-ONE-D\",\r\n      count: 0\r\n    },\r\n    \"ALIBI\": {\r\n      gadget: \"Prisma\",\r\n      count: 3\r\n    },\r\n    \"MAESTRO\": {\r\n      gadget: \"Evil Eye\",\r\n      count: 2\r\n    },\r\n    \"MAVERICK\": {\r\n      gadget: \"Breaching Torch\",\r\n      count: 0\r\n    },\r\n    \"CLASH\": {\r\n      gadget: \"CCE Shield\",\r\n      count: 0\r\n    },\r\n    \"KAID\": {\r\n      gadget: \"RTILA Electroclaw\",\r\n      count: 2\r\n    },\r\n    \"NOMAD\": {\r\n      gadget: \"Airjab\",\r\n      count: 3\r\n    },\r\n    \"GRIDLOCK\": {\r\n      gadget: \"Trax Stinger\",\r\n      count: 3\r\n    },\r\n    \"MOZZIE\": {\r\n      gadget: \"Pest\",\r\n      count: 3\r\n    },\r\n    \"WARDEN\": {\r\n      gadget: \"GLANCE SMART GLASSES\",\r\n      count: 0\r\n    },\r\n    \"NOKK\": {\r\n      gadget: \"Hel Presence Reduction\",\r\n      count: 0\r\n    },\r\n    \"GOYO\": {\r\n      gadget: \"Volcan Shield\",\r\n      count: 2\r\n    },\r\n    \"AMARU\": {\r\n      gadget: \"Garra Hook\",\r\n      count: 0\r\n    },\r\n    \"KALI\": {\r\n      gadget: \"LV Explosive Lance\",\r\n      count: 3\r\n    },\r\n    \"WAMAI\": {\r\n      gadget: \"Mag-net System\",\r\n      count: 4\r\n    },\r\n    \"IANA\": {\r\n      gadget: \"Gemini Replicator\",\r\n      count: 0\r\n    },\r\n    \"ORYX\": {\r\n      gadget: \"Remah Dash\",\r\n      count: 0\r\n    },\r\n    \"MELUSI\": {\r\n      gadget: \"Banshee Sonic Defense\",\r\n      count: 3\r\n    },\r\n    \"ACE\": {\r\n      gadget: \"SELMA Aqua Breacher\",\r\n      count: 3\r\n    },\r\n    \"ZERO\": {\r\n      gadget: \"Argus Launcher\",\r\n      count: 4\r\n    },\r\n    \"ARUNI\": {\r\n      gadget: \"Surya Gate\",\r\n      count: 3\r\n    },\r\n    \"FLORES\": {\r\n      gadget: \"RCE Ratero Charge\",\r\n      count: 2\r\n    }\r\n  },\r\n  ATTACKER_ROLES: [\"ROLE\", \"HARD BREACH\", \"SOFT BREACH\", \"ENTRY FRAG\", \"AREA DENIAL/FLANK WATCH\", \"INTEL\", \"UTILITY CLEAR\", \"SUPPORT\", \"ROAM CLEAR\"],\r\n  ATTACKER_OPERATORS: {\r\n    \"HARD BREACH\": [\"ACE\", \"HIBANA\", \"MAVERICK\", \"THERMITE\"],\r\n    \"SOFT BREACH\": [\"ASH\", \"BUCK\", \"SLEDGE\", \"ZOFIA\"],\r\n    \"ENTRY FRAG\": [\"AMARU\", \"ASH\", \"BLITZ\", \"FINKA\", \"IANA\", \"IQ\", \"MONTAGNE\", \"NOKK\", \"TWITCH\", \"ZOFIA\"],\r\n    \"AREA DENIAL/FLANK WATCH\": [\"CAPITAO\", \"GRIDLOCK\", \"NOMAD\", \"ZERO\"],\r\n    \"INTEL\": [\"DOKKAEBI\", \"FLORES\", \"IANA\", \"IQ\", \"LION\", \"MONTAGNE\", \"TWITCH\", \"ZERO\"],\r\n    \"UTILITY CLEAR\": [\"ASH\", \"FLORES\", \"FUZE\", \"KALI\", \"MAVERICK\", \"SLEDGE\", \"THATCHER\", \"TWITCH\"],\r\n    \"SUPPORT\": [\"ACE\", \"BLACKBEARD\", \"CAPITAO\", \"DOKKAEBI\", \"FINKA\", \"FLORES\", \"GLAZ\", \"IANA\", \"LION\", \"MAVERICK\", \"MONTAGNE\", \"YING\", \"ZERO\"],\r\n    \"ROAM CLEAR\": [\"DOKKAEBI\", \"JACKAL\", \"LION\", \"NOKK\", \"SLEDGE\", \"TWITCH\", \"ZOFIA\"]\r\n  },\r\n  ATTACKERS: [\"SLEDGE\", \"THATCHER\", \"ASH\", \"THERMITE\", \"TWITCH\", \"MONTAGNE\", \"GLAZ\", \"FUZE\", \"BLITZ\", \"IQ\", \"BUCK\", \"BLACKBEARD\", \"CAPITAO\", \"HIBANA\", \"JACKAL\", \"YING\", \"ZOFIA\", \"DOKKAEBI\", \"LION\", \"FINKA\", \"MAVERICK\", \"NOMAD\", \"GRIDLOCK\", \"NOKK\", \"AMARU\", \"KALI\", \"IANA\", \"ACE\", \"ZERO\", \"FLORES\"],\r\n  DEFENDER_ROLES: [\"ROLE\", \"HARD BREACH DENIAL\", \"INTEL DENIAL\", \"INTEL\", \"AREA DENIAL\", \"TRAPS\", \"UTILITY SOAK\", \"SUPPORT\", \"ROAM\"],\r\n  DEFENDER_OPERATORS: {\r\n    \"HARD BREACH DENIAL\": [\"BANDIT\", \"KAID\", \"MUTE\"],\r\n    \"INTEL DENIAL\": [\"MOZZIE\", \"MUTE\", \"VIGIL\"],\r\n    \"INTEL\": [\"ECHO\", \"MAESTRO\", \"MIRA\", \"MOZZIE\", \"PULSE\", \"VALKYRIE\"],\r\n    \"AREA DENIAL\": [\"ARUNI\", \"CLASH\", \"GOYO\", \"LESION\", \"MELUSI\", \"MIRA\", \"SMOKE\", \"TACHANKA\"],\r\n    \"TRAPS\": [\"ELA\", \"FROST\", \"KAPKAN\", \"LESION\", \"MELUSI\"],\r\n    \"UTILITY SOAK\": [\"ARUNI\", \"CASTLE\", \"GOYO\", \"JAGER\", \"WAMAI\"],\r\n    \"SUPPORT\": [\"CLASH\", \"DOC\", \"ECHO\", \"GOYO\", \"JAGER\", \"MAESTRO\", \"MIRA\", \"PULSE\", \"ROOK\", \"TACHANKA\", \"VALKYRIE\", \"WARDEN\"],\r\n    \"ROAM\": [\"ALIBI\", \"BANDIT\", \"CAVEIRA\", \"ELA\", \"JAGER\", \"KAPKAN\", \"LESION\", \"MELUSI\", \"MOZZIE\", \"ORYX\", \"VIGIL\", \"WARDEN\"]\r\n  },\r\n  DEFENDERS: [\"SMOKE\", \"MUTE\", \"CASTLE\", \"PULSE\", \"DOC\", \"ROOK\", \"KAPKAN\", \"TACHANKA\", \"JAGER\", \"BANDIT\", \"FROST\", \"VALKYRIE\", \"CAVEIRA\", \"ECHO\", \"MIRA\", \"LESION\", \"ELA\", \"VIGIL\", \"MAESTRO\", \"ALIBI\", \"CLASH\", \"KAID\", \"MOZZIE\", \"WARDEN\", \"GOYO\", \"WAMAI\", \"ORYX\", \"MELUSI\", \"ARUNI\"],\r\n  MAPS: [\"BANK\", \"BORDER\", \"CHALET\", \"CLUBHOUSE\", \"COASTLINE\", \"CONSULATE\", \"KAFE DOSTOYEVSKY\", \"KANAL\", \"OREGON\", \"OUTBACK\", \"THEME PARK\", \"VILLA\"],\r\n  UTILITY: {\r\n    attack: {\r\n      \"OPERATOR\": [\"BREACH CHARGES\", \"CLAYMORE\", \"FRAG GRENADES\", \"HARD BREACH CHARGE\", \"SMOKE GRENADES\", \"STUN GRENADES\"],\r\n      \"SLEDGE\": [\"FRAG GRENADES\", \"STUN GRENADES\"],\r\n      \"THATCHER\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"ASH\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"THERMITE\": [\"CLAYMORE\", \"STUN GRENADES\"],\r\n      \"TWITCH\": [\"CLAYMORE\", \"SMOKE GRENADES\"],\r\n      \"MONTAGNE\": [\"HARD BREACH CHARGE\", \"SMOKE GRENADES\"],\r\n      \"BLITZ\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"IQ\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"GLAZ\": [\"FRAG GRENADES\", \"SMOKE GRENADES\"],\r\n      \"FUZE\": [\"BREACH CHARGES\", \"HARD BREACH CHARGE\"],\r\n      \"BUCK\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"BLACKBEARD\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"CAPITAO\": [\"CLAYMORE\", \"HARD BREACH CHARGE\"],\r\n      \"HIBANA\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"JACKAL\": [\"CLAYMORE\", \"SMOKE GRENADES\"],\r\n      \"YING\": [\"HARD BREACH CHARGE\", \"SMOKE GRENADES\"],\r\n      \"ZOFIA\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"DOKKAEBI\": [\"SMOKE GRENADES\", \"STUN GRENADES\"],\r\n      \"LION\": [\"CLAYMORE\", \"STUN GRENADES\"],\r\n      \"FINKA\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"MAVERICK\": [\"CLAYMORE\", \"FRAG GRENADES\"],\r\n      \"NOMAD\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"GRIDLOCK\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"NOKK\": [\"HARD BREACH CHARGE\", \"FRAG GRENADES\"],\r\n      \"AMARU\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"KALI\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"IANA\": [\"FRAG GRENADES\", \"SMOKE GRENADES\"],\r\n      \"ACE\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"ZERO\": [\"CLAYMORE\", \"HARD BREACH CHARGE\"],\r\n      \"FLORES\": [\"CLAYMORE\", \"STUN GRENADES\"]\r\n    },\r\n    defense: {\r\n      \"OPERATOR\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\", \"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\", \"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"SMOKE\": [\"BARBED WIRE\", \"DEPLOYABLE SHIELD\"],\r\n      \"MUTE\": [\"BULLETPROOF CAMERA\", \"NITRO CELL\"],\r\n      \"CASTLE\": [\"BULLETPROOF CAMERA\", \"PROXIMITY ALARMS\"],\r\n      \"PULSE\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"DOC\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\"],\r\n      \"ROOK\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"KAPKAN\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"TACHANKA\": [\"BARBED WIRE\", \"PROXIMITY ALARMS\"],\r\n      \"JAGER\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\"],\r\n      \"BANDIT\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"FROST\": [\"BULLETPROOF CAMERA\", \"DEPLOYABLE SHIELD\"],\r\n      \"VALKYRIE\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"CAVEIRA\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"ECHO\": [\"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\"],\r\n      \"MIRA\": [\"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"LESION\": [\"BULLETPROOF CAMERA\", \"IMPACT GRENADES\"],\r\n      \"ELA\": [\"BARBED WIRE\", \"DEPLOYABLE SHIELD\"],\r\n      \"VIGIL\": [\"BULLETPROOF CAMERA\", \"IMPACT GRENADES\"],\r\n      \"MAESTRO\": [\"BARBED WIRE\", \"IMPACT GRENADES\"],\r\n      \"ALIBI\": [\"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\"],\r\n      \"CLASH\": [\"BARBED WIRE\", \"IMPACT GRENADES\"],\r\n      \"KAID\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"MOZZIE\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"WARDEN\": [\"DEPLOYABLE SHIELD\", \"NITRO CELL\"],\r\n      \"GOYO\": [\"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"WAMAI\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"ORYX\": [\"BARBED WIRE\", \"PROXIMITY ALARMS\"],\r\n      \"MELUSI\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"ARUNI\": [\"BULLETPROOF CAMERA\", \"BARBED WIRE\"]\r\n    }\r\n  },\r\n  UTILITY_GUIDE: {\r\n    \"BREACH CHARGES\": 3,\r\n    \"CLAYMORE\": 1,\r\n    \"FRAG GRENADES\": 2,\r\n    \"HARD BREACH CHARGE\": 1,\r\n    \"SMOKE GRENADES\": 2,\r\n    \"STUN GRENADES\": 3,\r\n    \"BARBED WIRE\": 2,\r\n    \"BULLETPROOF CAMERA\": 1,\r\n    \"DEPLOYABLE SHIELD\": 1,\r\n    \"IMPACT GRENADES\": 2,\r\n    \"NITRO CELL\": 1,\r\n    \"PROXIMITY ALARMS\": 2\r\n  },\r\n  CURRENT_SEASON: \"crimson_heist\",\r\n  RANKS: {\r\n    \"Silver III\": 2300,\r\n    \"Silver II\": 2400,\r\n    \"Silver I\": 2500,\r\n    \"Gold III\": 2600,\r\n    \"Gold II\": 2800,\r\n    \"Gold I\": 3000,\r\n    \"Platinum III\": 3200,\r\n    \"Platinum II\": 3600,\r\n    \"Platinum I\": 4000,\r\n    \"Diamond\": 4400\r\n  },\r\n  MMR_THRESHOLDS: {\r\n    0: \"None\",\r\n    2300: \"Silver III\",\r\n    2400: \"Silver II\",\r\n    2500: \"Silver I\",\r\n    2600: \"Gold III\",\r\n    2800: \"Gold II\",\r\n    3000: \"Gold I\",\r\n    3200: \"Platinum III\",\r\n    3600: \"Platinum II\",\r\n    4000: \"Platinum I\",\r\n    4400: \"Diamond\"\r\n  }\r\n}\r\n"],"sourceRoot":""}