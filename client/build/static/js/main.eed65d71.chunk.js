(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t){e.exports={ANNOUNCEMENT:{status:"Team Announcement",body:'#1{NAME}: "#2{ANNOUNCEMENT}"',email_body:'<div><h2>Team Announcement</h2><br/><p>#1{NAME}: "#{ANNOUNCEMENT}"'},EMAIL_UPDATED:{status:"Email Updated",body:"Your email has been updated to #1{NEW_EMAIL}.",email_body:"<div><h2>Your email has been updated to #1{NEW_EMAIL}.</h2><br/><p>The email associated with your Stratbook account has been updated. If you did not do this, login to your Stratbook account and change it back immediately.</p></div>"},MAP_ADDED:{status:"Map Added",body:"#1{NEW_MAP} has been added to your Stratbook.",email_body:"<div><h2>#1{NEW_MAP} has been added to your Stratbook.</h2><br/><p>A user has added a map to the Stratbook associated with your team.</p></div>"},MAP_DELETED:{status:"Map Deleted",body:"#1{MAP} has been removed from your Stratbook.",email_body:"<div><h2>#1{MAP} has been removed from your Stratbook.</h2><br/><p>A user has removed a map from the Stratbook associated with your team.</p></div>"},PASSWORD_RESET:{status:"Password Reset",body:"Your password has been reset.",email_body:"<div><h2>Your password has been reset.</h2><br/><p>The password for your Stratbook account has been reset. If you did not do this, login to your Stratbook account and reset your password immediately.</p></div>"},PASSWORD_UPDATED:{status:"Password Updated",body:"Your password has been updated.",email_body:"<div><h2>Your password has been updated.</h2><br/><p>The password for your Stratbook account has been updated. If you did not do this, login to your Stratbook account and reset your password immediately.</p></div>"},PLATFORM_UPDATED:{status:"Platform Updated",body:"Your platform has been updated.",email_body:"<div><h2>Your platform has been updated.</h2><br/><p>The platform associated with your account has been changed.</p></div>"},TEAM_CREATED:{status:"Team Created",body:"Your Stratbook team, #1{TEAM_NAME}, has been created.",email_body:"<div><h2>Your Stratbook team, #1{TEAM_NAME}, has been created.</h2><br/><p>Congratulations on creating a team on Stratbook. You may now send the join code to other members on the same platform as you to invite them to join your team. You and your team can create strategies for your own stratbook.</p></div>"},TEAM_DISBANDED:{status:"Team Disbanded",body:"Your Stratbook team, #1{TEAM_NAME}, has been disbanded.",email_body:"<div><h2>Your Stratbook team, #1{TEAM_NAME}, has been disbanded.</h2><br/><p>Due to the actions of an admin on the team, your Stratbook team has been disbanded. All associated data has been removed from the database.</p></div>"},TEAM_NAME_UPDATED:{status:"Team Name Updated",body:"Your team name has been updated to #1{NEW_NAME}.",email_body:"<div><h2>Your team name has been updated to #1{NEW_NAME}.</h2><br/><p>Your Stratbook team name has been updated. If you wish to undo this as an admin on the team, login and revert the change.</p></div>"},TEAM_STATUS_UPDATED:{status:"Team Status Updated",body:"Your team status has been changed to #1{NEW_STATUS}.",email_body:"<div><h2>Your team status has been updated to #1{NEW_STATUS}.</h2><br/><p>Changing your team status affects the ability of new members to join. If you think this was a mistake, you can update the team status under the manage page.</p></div>"},USER_AND_TEAM_DELETED:{status:"User and Team Deleted",body:"Your Stratbook account and team have been deleted.",email_body:"<div><h2>Your Stratbook account and team have been deleted.</h2><br/><p>All associated data has been deleted from the Stratbook databases. Since you were either the sole member or admin on a team, your team has been deleted as well.</p></div>"},USER_DELETED:{status:"User Deleted",body:"Your Stratbook account has been deleted.",email_body:"<div><h2>Your Stratbook account has been deleted.</h2><br/><p>All associated data has been deleted from the Stratbook databases. If you were a member of a team, you have been removed from the team.</p></div>"},USER_JOINED_TEAM:{status:"User Joined Team",body:"#1{USER} has joined your Stratbook team, #2{TEAM_NAME}.",email_body:"<div><h2>#1{USER} has joined your Stratbook team, #2{TEAM_NAME}.</h2></br><p>A user has joined your Stratbook team. Log in to Stratbook to see the new user and if needed, remove them.</p></div>"},USER_LEFT_TEAM:{status:"User Left Team",body:"#1{USER} has left your Stratbook team, #2{TEAM_NAME}.",email_body:"<div><h2>#1{USER} has left your Stratbook team, #2{TEAM_NAME}.</h2><br/><p>A user has left your Stratbook team.</p></div>"},USER_REGISTERED:{status:"User Registered",body:"You have created an account with Stratbook.",email_body:"<div><h2>Welcome to Stratbook</h2><br/><p>You have successfully created an account on Stratbook. Check your email for a verification link that will allow you to verify your account. Verifying your account allows you to create or join a team and make strategies.</p></div>"},USER_STATUS_UPDATED:{status:"User Status Updated",body:"Your status on your Stratbook team, #1{TEAM_NAME}, has been updated to #2{STATUS}.",email_body:"<div><h2>User Status Updated</h2><br/><p>The status of your membership on your Stratbook team, #{TEAM_NAME}, has been updated to #2{STATUS}.</p></div>"},USERNAME_UPDATED:{status:"Username Updated",body:"Your username has been updated.",email_body:"<div><h2>Your username has been updated</h2><br/><p>Your username has been updated.</p></div>"},VERIFY_ACCOUNT:{status:"Account Verified",body:"You have verified your Stratbook account.",email_body:"<div><h2>Your Stratbook Account is Verified!</h2><br/><p>Congratulations on successfully verifying your Stratbook account. You can now access the team and strategies features.</p></div>"}}},2:function(e,t){e.exports={MAP_NAMES:["BANK","BORDER","CHALET","CLUBHOUSE","COASTLINE","CONSULATE","KAFE DOSTOYEVSKY","KANAL","OREGON","SKYSCRAPER","THEME PARK","VILLA"],SITES:{BANK:["B Lockers/B CCTV Room","1F Teller's Office/1F Archives","1F Staff Room/1F Open Area","2F Executive Lounge/2F CEO Office"],BORDER:["1F Customs Inspection/1F Supply Room","1F Ventilation Room/1F Workshop","1F Bathroom/1F Tellers","2F Armory Lockers/2F Archives"],CHALET:["B Wine Cellar/B Snowmobile Garage","1F Bar/1F Gaming Room","1F Dining Room/1F Kitchen","2F Master Bedroom/2F Office"],CLUBHOUSE:["B Church/B Armory","1F Bar/1F Stock Room","2F Cash Room/2F CCTV","2F Gym/2F Master Bedroom"],COASTLINE:["1F Kitchen/1F Service Entrace","1F Sunrise Bar/1F Blue Bar","2F Hookah Lounge/2F Billiards Room","2F Penthouse/2F Theater"],CONSULATE:["B Garage/B Cafeteria","B Archives/1F Tellers","1F Lobby/1F Press Room","2F Consul Office/2F Meeting Room"],"KAFE DOSTOYEVSKY":["1F Kitchen Cooking/1F Kitchen Service","2F Fireplace Hall/2F Mining Room","2F Fireplace Hall/2F Reading Room","3F Cocktail Bar/3F Bar"],KANAL:["B Supply Room/B Kayaks","1F Coast Guard Meeting Room/1F Lounge","1F Security Room/1F Maps Room","2F Radar Room/2F Server Room"],OREGON:["B Laundry/B Supply Room","1F Kitchen/1F Dining Room","1F Kitchen/1F Meeting Room","2F Kid's Dorm/2F Dorms Main Hall"],SKYSCRAPER:["1F Kitchen/1F BBQ","1F Bedroom/1F Bathroom","2F Tea Room/2F Karaoke","2F Exhibition Room/2F Office"],"THEME PARK":["1F Armory Room/1F Throne Room","1F Lab/1F Storage","2F Office/2F Initiation Room","2F Bunk/2F Day Care"],VILLA:["1F Living Room/1F Library","1F Kitchen/1F Dining Room","2F Trophy Room/2F Statuary Room","2F Aviator Room/2F Games Room"]},FLOORS:{BANK:["Basement","First Floor","Second Floor"],BORDER:["First Floor","Second Floor"],CHALET:["Basement","First Floor","Second Floor"],CLUBHOUSE:["Basement","First Floor","Second Floor"],COASTLINE:["First Floor","Second Floor"],CONSULATE:["Basement","First Floor","Second Floor"],"KAFE DOSTOYEVSKY":["First Floor","Second Floor","Third Floor"],KANAL:["Basement","First Floor","Second Floor"],OREGON:["Basement","First Floor","Second Floor","Tier 3"],SKYSCRAPER:["First Floor","Second Floor"],"THEME PARK":["First Floor","Second Floor"],VILLA:["Basement","First Floor","Second Floor"]},GADGETS:{SLEDGE:{gadget:"Sledgehammer",count:25},THATCHER:{gadget:"EMP Grenade",count:3},SMOKE:{gadget:"Remote Gas Grenade",count:3},MUTE:{gadget:"Signal Disruptor",count:4},ASH:{gadget:"Breaching Round",count:3},THERMITE:{gadget:"Exothermic Charge",count:2},CASTLE:{gadget:"Armored Panel",count:3},PULSE:{gadget:"Cardiac Sensor",count:0},GLAS:{gadget:"Flip Sight",count:0},FUZE:{gadget:"Cluster Charge",count:4},KAPKAN:{gadget:"Entry Denial Device",count:5},TACHANKA:{gadget:"Shumikha",count:10},BLITZ:{gadget:"Flash Shield",count:0},IQ:{gadget:"Electronics Detector",count:0},JAGER:{gadget:"Active Defense System",count:3},BANDIT:{gadget:"Shock Wire",count:4},TWITCH:{gadget:"Shock Drone",count:2},MONTAGNE:{gadget:"Extendable Shield",count:0},DOC:{gadget:"Stim Pistol",count:0},ROOK:{gadget:"Armor Pack",count:0},FROST:{gadget:"Welcome Mat",count:3},BUCK:{gadget:"Skeleton Key",count:16},VALKYRIE:{gadget:"Black Eye",count:3},BLACKBEARD:{gadget:"Rifle Shield",count:0},CAPITAO:{gadget:"Tactical Crossbow",count:4},CAVEIRA:{gadget:"Silent Step",count:0},ECHO:{gadget:"Yokai Drone",count:2},HIBANA:{gadget:"X-Kairos Pellets",count:9},JACKAL:{gadget:"Eyenox Model III",count:0},MIRA:{gadget:"Black Mirror",count:2},LESION:{gadget:"Gu Mine",count:8},YING:{gadget:"Candela",count:3},ELA:{gadget:"Grzmot Mine",count:3},ZOFIA:{gadget:"KS79 Lifeline",count:4},DOKKAEBI:{gadget:"Logic Bomb",count:0},VIGIL:{gadget:"ERC-7",count:0},FINKA:{gadget:"Adrenal Surge",count:0},LION:{gadget:"EE-ONE-D",count:0},ALIBI:{gadget:"Prisma",count:3},MAESTRO:{gadget:"Evil Eye",count:2},MAVERICK:{gadget:"Breaching Torch",count:0},CLASH:{gadget:"CCE Shield",count:0},KAID:{gadget:"RTILA Electroclaw",count:2},NOMAD:{gadget:"Airjab",count:3},GRIDLOCK:{gadget:"Trax Stinger",count:3},MOZZIE:{gadget:"Pest",count:3},WARDEN:{gadget:"GLANCE SMART GLASSES",count:0},NOKK:{gadget:"Hel Presence Reduction",count:0},GOYO:{gadget:"Volcan Shield",count:2},AMARU:{gadget:"Garra Hook",count:0},KALI:{gadget:"LV Explosive Lance",count:3},WAMAI:{gadget:"Mag-net System",count:4},IANA:{gadget:"Gemini Replicator",count:0},ORYX:{gadget:"Remah Dash",count:0},MELUSI:{gadget:"Banshee Sonic Defense",count:3},ACE:{gadget:"SELMA Aqua Breacher",count:3},ZERO:{gadget:"Argus Launcher",count:4},ARUNI:{gadget:"Surya Gate",count:3},FLORES:{gadget:"RCE Ratero Charge",count:2}},ATTACKER_ROLES:{ACE:"HARD BREACH",AMARU:"ENTRY FRAG",ASH:"UTILITY CLEAR",BLACKBEARD:"SUPPORT",BLITZ:"ENTRY FRAG",BUCK:"SOFT BREACH",CAPITAO:"AREA DENIAL/FLANK WATCH",DOKKAEBI:"ROAM CLEAR",FINKA:"SUPPORT",FLORES:"INTEL",FUZE:"UTILITY CLEAR",GLAZ:"SUPPORT",GRIDLOCK:"AREA DENIAL/FLANK WATCH",HIBANA:"HARD BREACH",IANA:"INTEL",IQ:"INTEL",JACKAL:"ROAM CLEAR",KALI:"UTILITY CLEAR",LION:"ROAM CLEAR",MAVERICK:"HARD BREACH",MONTAGNE:"SUPPORT",NOKK:"ENTRY FRAG",NOMAD:"AREA DENIAL/FLANK WATCH",SLEDGE:"SOFT BREACH",THATCHER:"UTILITY CLEAR",THERMITE:"HARD BREACH",TWITCH:"UTILITY CLEAR",YING:"SUPPORT",ZERO:"INTEL",ZOFIA:"UTILITY CLEAR"},ATTACKERS:["ACE","AMARU","ASH","BLACKBEARD","BLITZ","BUCK","CAPITAO","DOKKAEBI","FINKA","FLORES","FUZE","GLAZ","GRIDLOCK","HIBANA","IANA","IQ","JACKAL","KALI","LION","MAVERICK","MONTAGNE","NOKK","NOMAD","SLEDGE","THATCHER","THERMITE","TWITCH","YING","ZERO","ZOFIA"],DEFENDER_ROLES:{ALIBI:"ROAM",ARUNI:"UTILITY SOAK",BANDIT:"HARD BREACH DENIAL",CASTLE:"UTILITY SOAK",CAVEIRA:"ROAM",CLASH:"AREA DENIAL",DOC:"SUPPORT",ECHO:"INTEL",ELA:"TRAPS",FROTS:"TRAPS",GOYO:"UTILITY SOAK",JAGER:"UTILITY SOAK",KAID:"HARD BREACH DENIAL",KAPKAN:"TRAPS",LESION:"TRAPS",MAESTRO:"INTEL",MELUSI:"AREA DENIAL",MIRA:"AREA DENIAL",MOZZIE:"INTEL DENIAL",MUTE:"INTEL DENIAL",ORYX:"ROAM",PULSE:"INTEL",ROOK:"SUPPORT",SMOKE:"AREA DENIAL",TACHANKA:"AREA DENIAL",VALKYRIE:"INTEL",VIGIL:"ROAM",WAMAI:"UTILITY SOAK",WARDEN:"SUPPORT"},DEFENDERS:["ALIBI","ARUNI","BANDIT","CASTLE","CAVEIRA","CLASH","DOC","ECHO","ELA","FROST","GOYO","JAGER","KAID","KAPKAN","LESION","MAESTRO","MELUSI","MIRA","MOZZIE","MUTE","ORYX","PULSE","ROOK","SMOKE","TACHANKA","VALKYRIE","VIGIL","WAMAI","WARDEN"],MAPS:["BANK","BORDER","CHALET","CLUBHOUSE","COASTLINE","CONSULATE","KAFE DOSTOYEVSKY","KANAL","OREGON","OUTBACK","THEME PARK","VILLA"],UTILITY:{attack:{OPERATOR:["BREACH CHARGES","CLAYMORE","FRAG GRENADES","HARD BREACH CHARGE","SMOKE GRENADES","STUN GRENADES"],SLEDGE:["FRAG GRENADES","STUN GRENADES"],THATCHER:["BREACH CHARGES","CLAYMORE"],ASH:["BREACH CHARGES","CLAYMORE"],THERMITE:["SMOKE GRENADES","STUN GRENADES"],TWITCH:["CLAYMORE","SMOKE GRENADES"],MONTAGNE:["HARD BREACH CHARGE","SMOKE GRENADES"],BLITZ:["BREACH CHARGES","SMOKE GRENADES"],IQ:["BREACH CHARGES","CLAYMORE"],GLAZ:["FRAG GRENADES","SMOKE GRENADES"],FUZE:["BREACH CHARGES","HARD BREACH CHARGE"],BUCK:["HARD BREACH CHARGE","STUN GRENADES"],BLACKBEARD:["BREACH CHARGES","STUN GRENADES"],CAPITAO:["CLAYMORE","HARD BREACH CHARGE"],HIBANA:["BREACH CHARGES","STUN GRENADES"],JACKAL:["CLAYMORE","SMOKE GRENADES"],YING:["HARD BREACH CHARGE","SMOKE GRENADES"],ZOFIA:["BREACH CHARGES","CLAYMORE"],DOKKAEBI:["SMOKE GRENADES","STUN GRENADES"],LION:["CLAYMORE","STUN GRENADES"],FINKA:["HARD BREACH CHARGE","STUN GRENADES"],MAVERICK:["CLAYMORE","FRAG GRENADES"],NOMAD:["BREACH CHARGES","STUN GRENADES"],GRIDLOCK:["BREACH CHARGES","SMOKE GRENADES"],NOKK:["HARD BREACH CHARGE","FRAG GRENADES"],AMARU:["HARD BREACH CHARGE","STUN GRENADES"],KALI:["BREACH CHARGES","CLAYMORE"],IANA:["FRAG GRENADES","SMOKE GRENADES"],ACE:["BREACH CHARGES","CLAYMORE"],ZERO:["CLAYMORE","HARD BREACH CHARGE"],FLORES:["CLAYMORE","STUN GRENADES"]},defense:{OPERATOR:["BARBED WIRE","BULLETPROOF CAMERA","DEPLOYABLE SHIELD","IMPACT GRENADES","NITRO CELL","PROXIMITY ALARMS"],SMOKE:["BARBED WIRE","DEPLOYABLE SHIELD"],MUTE:["BULLETPROOF CAMERA","NITRO CELL"],CASTLE:["BULLETPROOF CAMERA","PROXIMITY ALARMS"],PULSE:["BARBED WIRE","NITRO CELL"],DOC:["BARBED WIRE","BULLETPROOF CAMERA"],ROOK:["IMPACT GRENADES","PROXIMITY ALARMS"],KAPKAN:["IMPACT GRENADES","NITRO CELL"],TACHANKA:["BARBED WIRE","PROXIMITY ALARMS"],JAGER:["BARBED WIRE","BULLETPROOF CAMERA"],BANDIT:["BARBED WIRE","NITRO CELL"],FROST:["BULLETPROOF CAMERA","DEPLOYABLE SHIELD"],VALKYRIE:["IMPACT GRENADES","NITRO CELL"],CAVEIRA:["IMPACT GRENADES","PROXIMITY ALARMS"],ECHO:["DEPLOYABLE SHIELD","IMPACT GRENADES"],MIRA:["NITRO CELL","PROXIMITY ALARMS"],LESION:["BULLETPROOF CAMERA","IMPACT GRENADES"],ELA:["BARBED WIRE","DEPLOYABLE SHIELD"],VIGIL:["BULLETPROOF CAMERA","IMPACT GRENADES"],MAESTRO:["BARBED WIRE","IMPACT GRENADES"],ALIBI:["DEPLOYABLE SHIELD","IMPACT GRENADES"],CLASH:["BARBED WIRE","IMPACT GRENADES"],KAID:["BARBED WIRE","NITRO CELL"],MOZZIE:["BARBED WIRE","NITRO CELL"],WARDEN:["DEPLOYABLE SHIELD","NITRO CELL"],GOYO:["NITRO CELL","PROXIMITY ALARMS"],WAMAI:["IMPACT GRENADES","PROXIMITY ALARMS"],ORYX:["BARBED WIRE","PROXIMITY ALARMS"],MELUSI:["IMPACT GRENADES","NITRO CELL"],ARUNI:["BULLETPROOF CAMERA","BARBED WIRE"]}},UTILITY_GUIDE:{"BREACH CHARGES":3,CLAYMORE:1,"FRAG GRENADES":2,"HARD BREACH CHARGE":1,"SMOKE GRENADES":2,"STUN GRENADES":3,"BARBED WIRE":2,"BULLETPROOF CAMERA":1,"DEPLOYABLE SHIELD":1,"IMPACT GRENADES":2,"NITRO CELL":1,"PROXIMITY ALARMS":2},CURRENT_SEASON:"crimson_heist",RANKS:{"Silver III":2300,"Silver II":2400,"Silver I":2500,"Gold III":2600,"Gold II":2800,"Gold I":3e3,"Platinum III":3200,"Platinum II":3600,"Platinum I":4e3,Diamond:4400},MMR_THRESHOLDS:{0:"None",2300:"Silver III",2400:"Silver II",2500:"Silver I",2600:"Gold III",2800:"Gold II",3e3:"Gold I",3200:"Platinum III",3600:"Platinum II",4e3:"Platinum I",4400:"Diamond"},CANVAS_WIDTH:900,CANVAS_HEIGHT:480}},4:function(e,t){e.exports={ERROR_ADD_MAP:{status:"ERROR",message:"An error occurred while attempting to add map."},ERROR_ANNOUNCE:{status:"ERROR",message:"An error occurred while attempting to make announcement."},ERROR_ATTACKERS:{status:"ERROR",message:"An error occurred while attempting to set attackers."},ERROR_ATTACKER_ROLE:{status:"ERROR",message:"An error occurred while attempting to set attacker role."},ERROR_BLOCK_USER:{status:"ERROR",message:"An error occurred while attempting to block user."},ERROR_CREATE_TEAM:{status:"ERROR",message:"An error occurred while attempting to create a team."},ERROR_DEFENDERS:{status:"ERROR",message:"An error occurred while attempting to set defenders."},ERROR_DEFENDER_ROLE:{status:"ERROR",message:"An error occurred while attempting to set defender role."},ERROR_DELETE_MAP:{status:"ERROR",message:"An error occurred while attempting to delete map from Stratbook."},ERROR_DELETE_TEAM:{status:"ERROR",message:"An error occurred while attempting to delete team."},ERROR_DELETE_TEAM_AND_USER:{status:"ERROR",message:"An error occurred while attempting to delete user and associated team."},ERROR_DELETE_USER:{status:"ERROR",message:"An error occurred while attempting to delete user."},ERROR_EMAIL:{status:"ERROR",message:"An error occurred while attempting to update email."},ERROR_FORGOT_PASSWORD:{status:"Error",message:"An error occured while attempting to send a reset password email."},ERROR_JOIN_TEAM:{status:"ERROR",message:"An error occurred while attempting to join team."},ERROR_LEAVE_TEAM:{status:"ERROR",message:"An error occurred while attempting to leave team."},ERROR_LOGIN:{status:"ERROR",message:"An error occurred while attempting to log in."},ERROR_PLATFORM:{status:"ERROR",message:"An error occurred while attempting to update platform."},ERROR_PUSH:{status:"ERROR",message:"An error ocurred while attempting to subscribe to push notifications."},ERROR_REGISTER:{status:"ERROR",message:"An error occurred while attempting to register."},ERROR_RESET_PASSWORD:{status:"ERROR",message:"An error occurred while attempting to reset password."},ERROR_SHARED_STRATEGY:{status:"ERROR",message:"An error occurred while attempting to share strategy."},ERROR_TEAM:{status:"ERROR",message:"An error occurred while attempting to find the requested team."},ERROR_TEAM_STATS:{status:"ERROR",message:"An error occurred while attempting to get team statistics."},ERROR_UNBLOCK_USER:{status:"ERROR",message:"An error has occurred while attempting to unblock a user."},ERROR_UNSHARE_STRATEGY:{status:"ERROR",message:"An error has occurred while attempting to unshared a strategy."},ERROR_UPDATE_MAP:{status:"ERROR",message:"An error has occurred while attempting to update map."},ERROR_UPDATE_PASSWORD:{status:"ERROR",message:"An error occurred while attempting to update password."},ERROR_UPDATE_TEAM_MMR:{status:"ERROR",message:"An error occurred while attempting to update team mmr."},ERROR_UPDATE_TEAM_NAME:{status:"ERROR",message:"An error occurred while attempting to update team name."},ERROR_UPDATE_TEAM_PLATFORM:{status:"ERROR",message:"An error occurred while attempting to update team platform."},ERROR_UPDATE_TEAM_STATUS:{status:"ERROR",message:"An error occurred while attempting to update team status."},ERROR_UPDATE_USER_STATUS:{status:"ERROR",message:"An error occurred while attempting to update the status of the provided user."},ERROR_USERNAME:{status:"ERROR",message:"An error occurred while attempting to update username."},ERROR_VIEW_BLOCKED_USERS:{status:"ERROR",message:"An error occurred while attempting to view blocked users."},ERROR_VIEW_MAP:{status:"ERROR",message:"An error occurred while attempting to view the requested map."},ERROR_VIEW_SHARED_STRATEGY:{status:"ERROR",message:"An error occurred while attempting to view the requested shared strategy."},ERROR_VIEW_STRATEGIES:{status:"ERROR",message:"An error occurred while attempting to view strategies."},ERROR_VIEW_TEAM:{status:"ERROR",message:"An error occurred while attempting to view team."}}},40:function(e,t,a){e.exports=a(70)},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(37),o=a.n(n),i=a(10),l=a(5),c=a(6),d=a(1),m=a(8),u=a(7),h=a(12),p=a(11),E=a(3),g=a.n(E),f=function(e){return r.a.createElement("header",{className:"header",style:{background:'url("../media/min/header_background.jpg")',backgroundSize:"cover",backgroundPosition:"center"}},r.a.createElement("div",{className:"header__overlay"},r.a.createElement("h1",{className:"header__title"},e.title),r.a.createElement("h2",{className:"header__subtitle"},e.subtitle)))},A=function(){return r.a.createElement("div",{className:"page",id:"home"},r.a.createElement(f,{title:"Welcome to Stratbook",subtitle:"Not an app, Never will be."}))},b=a(13),v=a(9),S=a(4),R=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("svg",{className:"circular",viewBox:"25 25 50 50"},r.a.createElement("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"})))},_=function(e){return r.a.createElement("form",{className:"form",id:"login-form",onSubmit:e.onSubmit},r.a.createElement("h4",{className:"form__heading"},"Login Form"),r.a.createElement("fieldset",{className:"form__fieldset",id:"email-field"},r.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.email?"":" form__input--error"),value:e.email,id:"email",type:"email",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.email:""),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.user:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password?"":" form__input--error"),value:e.password,id:"password",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password:""),r.a.createElement(h.b,{to:"/forgot-password"},"Forgot Password?")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Login"))},T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={email:"",password:"",errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),g.a.post("/api/users/login",{email:this.state.email,password:this.state.password}).then((function(e){switch(e.data.status){case v.TOKEN_ISSUED.status:t.setState({loading:!1}),t.props.login(e.data.token,e.data.expiresIn,e.data.user);break;default:t.setState({loading:!1,errors:e.data.errors}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_LOGIN.message,S.ERROR_LOGIN.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"LoginAPI"},r.a.createElement(_,{onSubmit:this.onSubmit,onChange:this.onChange,email:this.state.email,password:this.state.password,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),y=function(e){return r.a.createElement("div",{className:"page",id:"login"},r.a.createElement(T,{login:e.login,alert:e.alert}))},O=function(e){return e.logout(),r.a.createElement("div",{className:"page",id:"logout"})},N=a(14),I=function(e){return r.a.createElement("form",{className:"form",id:"register-form",onSubmit:e.onSubmit},r.a.createElement("h4",{className:"form__heading"},"Register Form"),r.a.createElement("fieldset",{className:"form__fieldset",id:"username-field"},r.a.createElement("label",{className:"form__label",htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.username?"":" form__input--error"),value:e.username,id:"username",type:"name",required:!0}),r.a.createElement("span",{className:"form__description"},"Must match platform"),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.username:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"email-field"},r.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.email?"":" form__input--error"),value:e.email,id:"email",type:"email",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.email:""),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.user:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"platform-field"},r.a.createElement("label",{className:"form__label",htmlFor:"platform"},"Platform"),r.a.createElement("select",{onChange:e.onChange,className:"form__select"+(e.errors&&null==e.errors.platform?"":" form__input--error"),value:e.platform,id:"platform",required:!0},r.a.createElement("option",null,"XBOX"),r.a.createElement("option",null,"PC"),r.a.createElement("option",null,"PS4")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.platform:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password1-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password1"},"Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password1?"":" form__input--error"),value:e.password1,id:"password1",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password1:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password2-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password2?"":" form__input--error"),value:e.password2,id:"password2",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password2:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Register"))},k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={username:"",email:"",password1:"",password2:"",platform:"XBOX",errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),g.a.post("/api/users/register",{username:this.state.username,email:this.state.email,platform:this.state.platform,password1:this.state.password1,password2:this.state.password2}).then((function(e){switch(e.data.status){case N.USER_REGISTERED.status:t.setState({loading:!1,redirect:"/login"});break;default:t.setState({loading:!1,errors:e.data.errors}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_REGISTER.message,S.ERROR_REGISTER.status)}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{id:"RegisterAPI"},r.a.createElement(I,{onSubmit:this.onSubmit,onChange:this.onChange,email:this.state.email,password1:this.state.password1,password2:this.state.platform2,platform:this.state.platform,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),C=function(e){return r.a.createElement("div",{className:"page",id:"register"},r.a.createElement(k,{alert:e.alert}))},D=function(e){return r.a.createElement("form",{className:"form",id:"update-platform-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Platform"),r.a.createElement("fieldset",{className:"form__fieldset",id:"platform-field"},r.a.createElement("label",{className:"form__label"},"Platform"),r.a.createElement("select",{onChange:e.onChange,className:"form__select"+(e.errors&&null==e.errors.platform?"":" form__input--error"),value:e.platform,id:"platform",required:!0},r.a.createElement("option",null,"XBOX"),r.a.createElement("option",null,"PC"),r.a.createElement("option",null,"PS4")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.platform:"")))},L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={platform:s.props.platform,errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value),this.onSubmit)}},{key:"onSubmit",value:function(){var e=this,t=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/update-platform",{platform:this.state.platform}).then((function(a){switch(a.data.status){case N.PLATFORM_UPDATED.status:t.setState({loading:!1}),t.props.alert("Your platform has been updated.","SUCCESS"),e.props.updateAuthToken();break;default:t.setState({loading:!1,errors:a.data.errors}),t.props.alert(a.data.message,a.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_PLATFORM.message,S.ERROR_PLATFORM.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"update",id:"UpdatePlatformAPI"},r.a.createElement(D,{onChange:this.onChange,platform:this.state.platform,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),P=function(e){return r.a.createElement("form",{className:"form",id:"update-username-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Username"),r.a.createElement("fieldset",{className:"form__fieldset",id:"username-field"},r.a.createElement("label",{className:"form__label",htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.username?"":" form__input--error"),value:e.username,id:"username",type:"name",required:!0}),r.a.createElement("span",{className:"form__description"},"Must match platform"),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.username:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))},M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={username:s.props.username,errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/update-username",{username:this.state.username}).then((function(e){switch(e.data.status){case N.USERNAME_UPDATED.status:a.setState({loading:!1}),a.props.alert("Your username has been updated.","SUCCESS"),t.props.updateAuthToken();break;default:a.setState({loading:!1,errors:e.data.errors}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.props.alert(S.ERROR_USERNAME.message,S.ERROR_USERNAME.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"update",id:"UpdateUsernameAPI"},r.a.createElement(P,{onSubmit:this.onSubmit,onChange:this.onChange,username:this.state.username,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),U=function(e){return r.a.createElement("form",{className:"form",id:"update-email-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Email"),r.a.createElement("fieldset",{className:"form__fieldset",id:"email-field"},r.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.email?"":" form__input--error"),value:e.email,id:"email",type:"email",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.email:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))},w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={email:s.props.email,errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/update-email",{email:this.state.email}).then((function(e){switch(e.data.status){case N.EMAIL_UPDATED.status:a.setState({loading:!1}),a.props.alert("Your email has been updated.","SUCCESS"),t.props.updateAuthToken();break;default:a.setState({loading:!1,errors:e.data.errors}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.props.alert(S.ERROR_EMAIL.message,S.ERROR_EMAIL.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"update",id:"UpdateEmailAPI"},r.a.createElement(U,{onSubmit:this.onSubmit,onChange:this.onChange,email:this.state.email,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),x=function(e){return r.a.createElement("form",{className:"form",id:"update-password-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Password"),r.a.createElement("fieldset",{className:"form__fieldset",id:"password1-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password1"},"New Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password1?"":" form__input--error"),value:e.password1,id:"password1",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password1:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password2-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password2"},"Confirm New Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password2?"":" form__input--error"),value:e.password2,id:"password2",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password2:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))},j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={password1:"",password2:"",errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/update-password",{password1:this.state.password1,password2:this.state.password2}).then((function(e){switch(e.data.status){case N.PASSWORD_UPDATED.status:a.setState({loading:!1}),a.props.alert("Your password has been updated.","SUCCESS"),t.props.updateAuthToken();break;default:a.setState({loading:!1,errors:e.data.errors}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.props.alert(S.ERROR_UPDATE_PASSWORD.message,S.ERROR_UPDATE_PASSWORD.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"update",id:"UpdateUsernameAPI"},r.a.createElement(x,{onSubmit:this.onSubmit,onChange:this.onChange,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),F=function(e){return r.a.createElement("form",{className:"form",id:"set-attacker-role-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"attacker-role-field"},r.a.createElement("label",{className:"form__label",htmlFor:"attacker_role"},"Primary Attacker Role"),r.a.createElement("select",{onChange:e.onChange,className:"form__select"+(e.errors&&e.errors.role?" form__input--error":""),value:e.attacker_role,id:"attacker_role",required:!0},r.a.createElement("option",null,"NONE"),r.a.createElement("option",null,"HARD BREACH"),r.a.createElement("option",null,"SOFT BREACH"),r.a.createElement("option",null,"ENTRY FRAG"),r.a.createElement("option",null,"AREA DENIAL/FLANK WATCH"),r.a.createElement("option",null,"INTEL"),r.a.createElement("option",null,"UTILITY CLEAR"),r.a.createElement("option",null,"SUPPORT"),r.a.createElement("option",null,"ROAM CLEAR")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.role:"")))},G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1,attacker_role:s.props.attacker_role},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value),this.onSubmit)}},{key:"onSubmit",value:function(){var e=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/set-attacker-role",{role:this.state.attacker_role}).then((function(t){switch(t.data.status){case v.ATTACKER_ROLE_SET.status:e.setState({loading:!1}),e.props.updateAuthToken();break;default:e.setState({loading:!1,errors:t.data.errors}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.props.alert(S.ERROR_ATTACKER_ROLE.message,S.ERROR_ATTACKER_ROLE.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetAttackerRoleAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement(F,{attacker_role:this.state.attacker_role,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),H=a(2),B=function(e){var t=H.ATTACKERS.map((function(t,a){return r.a.createElement("div",{className:"attackers-form__attacker",key:a},r.a.createElement("input",{onChange:function(){e.onChange(t)},className:"attackers-form__input "+(e.attackers.indexOf(t)>=0?"attackers-form__input--checked":""),type:"checkbox",id:"attackers-form__input--"+t.toLowerCase(),checked:e.attackers.indexOf(t)>=0,key:a}),r.a.createElement("label",{className:"attackers-form__label",htmlFor:"attackers-form__input--"+t.toLowerCase()},r.a.createElement("img",{className:"attackers-form__image",alt:t+" Image",src:"../../media/min/operators/".concat(t.toLowerCase(),".png")})))}));return r.a.createElement("form",{className:"form",id:"set-attackers-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"attackers-field"},r.a.createElement("div",null,r.a.createElement("p",{className:"form__label"},"Preferred Attackers"),t,r.a.createElement("span",{className:"form__error"},e.errors?e.errors.attackers:""),r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))))},K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1,attackers:s.props.attackers},s}return Object(c.a)(a,[{key:"onChange",value:function(e){var t=this.state.attackers.indexOf(e);if(t<0)this.setState({attackers:[].concat(Object(i.a)(this.state.attackers),[e])});else{var a=Object(i.a)(this.state.attackers);a.splice(t,1),this.setState({attackers:a})}}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/set-attackers",{attackers:this.state.attackers}).then((function(e){switch(e.data.status){case v.ATTACKERS_SET.status:t.setState({loading:!1}),t.props.updateAuthToken();break;default:t.setState({loading:!1,errors:e.data.errors}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_ATTACKERS.message,S.ERROR_ATTACKERS.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetAttackersAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement(B,{attackers:this.state.attackers,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),Y=function(e){return r.a.createElement("form",{className:"form",id:"set-defender-role-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"defender-role-field"},r.a.createElement("label",{className:"form__label",htmlFor:"defender_role"},"Primary Defender Role"),r.a.createElement("select",{onChange:e.onChange,className:"form__select"+(e.errors&&e.errors.role?" form__input--error":""),value:e.defender_role,id:"defender_role",required:!0},r.a.createElement("option",null,"NONE"),r.a.createElement("option",null,"HARD BREACH DENIAL"),r.a.createElement("option",null,"INTEL DENIAL"),r.a.createElement("option",null,"INTEL"),r.a.createElement("option",null,"AREA DENIAL"),r.a.createElement("option",null,"TRAPS"),r.a.createElement("option",null,"UTILITY SOAK"),r.a.createElement("option",null,"SUPPORT"),r.a.createElement("option",null,"ROAM")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.role:"")))},V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1,defender_role:s.props.defender_role},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value),this.onSubmit)}},{key:"onSubmit",value:function(){var e=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/set-defender-role",{role:this.state.defender_role}).then((function(t){switch(t.data.status){case v.DEFENDER_ROLE_SET.status:e.setState({loading:!1}),e.props.updateAuthToken();break;default:e.setState({loading:!1,errors:t.data.errors}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.props.alert(S.ERROR_DEFENDER_ROLE.message,S.ERROR_DEFENDER_ROLE.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetDefenderRoleAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement(Y,{defender_role:this.state.defender_role,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),W=function(e){var t=H.DEFENDERS.map((function(t,a){return r.a.createElement("div",{className:"defenders-form__defender",key:a},r.a.createElement("input",{onChange:function(){e.onChange(t)},className:"defenders-form__input "+(e.defenders.indexOf(t)>=0?"defenders-form__input--checked":""),type:"checkbox",id:"defenders-form__defender--"+t.toLowerCase(),checked:e.defenders.indexOf(t)>=0}),r.a.createElement("label",{className:"defenders-form__label",htmlFor:"defenders-form__defender--"+t.toLowerCase()},r.a.createElement("img",{className:"defenders-form__image",alt:t+" Image",src:"../../media/min/operators/".concat(t.toLowerCase(),".png")})))}));return r.a.createElement("form",{className:"form",id:"set-defenders-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"defenders-field"},r.a.createElement("div",null,r.a.createElement("p",{className:"form__label"},"Preferred Defenders"),t,r.a.createElement("span",{className:"form__error"},e.errors?e.errors.defenders:""),r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))))},z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1,defenders:s.props.defenders},s}return Object(c.a)(a,[{key:"onChange",value:function(e){var t=this.state.defenders.indexOf(e);if(t<0)this.setState({defenders:[].concat(Object(i.a)(this.state.defenders),[e])});else{var a=Object(i.a)(this.state.defenders);a.splice(t,1),this.setState({defenders:a})}}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/set-defenders",{defenders:this.state.defenders}).then((function(e){switch(e.data.status){case v.DEFENDERS_SET.status:t.setState({loading:!1}),t.props.updateAuthToken();break;default:t.setState({loading:!1,errors:e.data.errors}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_DEFENDERS.message,S.ERROR_DEFENDERS.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetDefendersAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement(W,{defenders:this.state.defenders,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),q=a(39);a.n(q).a.config();var X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).urlBase64ToUint8Array=s.urlBase64ToUint8Array.bind(Object(d.a)(s)),s.sendSubscription=s.sendSubscription.bind(Object(d.a)(s)),s.subscribeUser=s.subscribeUser.bind(Object(d.a)(s)),s.state={loading:!1},s}return Object(c.a)(a,[{key:"urlBase64ToUint8Array",value:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(t),s=new Uint8Array(a.length),r=0;r<a.length;++r)s[r]=a.charCodeAt(r);return s}},{key:"sendSubscription",value:function(e){var t=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=t.props.getAuthToken(),g.a.post("/api/push/subscribe",{subscription:JSON.stringify(e)}).then((function(e){switch(e.data.status){case v.PUSH_SUBSCRIBE.status:t.setState({loading:!1}),t.props.alert(v.PUSH_SUBSCRIBE.message,"SUCCESS");break;default:t.setState({loading:!1}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_PUSH.message,S.ERROR_PUSH.status)}))}},{key:"subscribeUser",value:function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){if(!t.pushManager)return e.props.alert("Push manager unavailable.");Notification.requestPermission().then((function(a){"granted"===a&&t.pushManager.getSubscription().then((function(a){null===a?t.pushManager.subscribe({applicationServerKey:"BKe8OGW20LmKc386UPPLHqXoFr-hWJQL6GeI83RNt1vPTTdZgau_H_KGc96zzV0h-U1xuN72WzSAEVLEyj07gLY",userVisibleOnly:!0}).then((function(t){e.sendSubscription(t)})).catch((function(t){"granted"!==Notification.permission?e.props.alert("Notification permissions are required to receive push notifications.","ERROR"):(console.log(t),e.props.alert("An error occurred while attempting to subscribe to push notifications.","ERROR"))})):e.sendSubscription(a)}))}))})).catch((function(t){console.error("An error ocurred during Service Worker registration.",t),e.props.alert("An error occurred while attempting to register for push notifications.","ERROR")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"PushNotificationsAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.subscribeUser},"Get Push Notifications")))}}]),a}(r.a.Component),J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1},s}return Object(c.a)(a,[{key:"onSubmit",value:function(){var e=this;if(window.confirm("Confirming this dialogue will permanently delete your account and all associated data including teams of which you are the sole member, editor, or admin. This cannot be undone.")){var t=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.delete("/api/users/delete").then((function(a){switch(a.data.status){case N.USER_DELETED.status:t.setState({loading:!1}),t.props.alert("Your account has been deleted.","SUCCESS"),e.props.logout();case N.USER_AND_TEAM_DELETED.status:t.setState({loading:!1}),t.props.alert("Your account and associated team have been deleted.","SUCCESS"),e.props.logout();break;default:t.setState({loading:!1}),t.props.alert(a.data.message,a.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_DELETE_USER.message,S.ERROR_DELETE_USER.status)}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"DeleteUserAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("p",null,"Warning: this action is permanent and cannot be undone."),r.a.createElement("button",{id:"deleteAccount",className:"button button--danger",onClick:this.onSubmit},"Delete Account")))}}]),a}(r.a.Component),Z=function(e){return r.a.createElement("div",{className:"page",id:"user"},r.a.createElement("div",{className:"account-section"},r.a.createElement("h3",null,"Preferences"),r.a.createElement("div",{className:"role"},r.a.createElement("h4",null,"Roles"),r.a.createElement(G,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,attacker_role:e.attacker_role,alert:e.alert}),r.a.createElement(V,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,defender_role:e.defender_role,alert:e.alert})),r.a.createElement("div",{className:"operators"},r.a.createElement("h4",null,"Operators"),r.a.createElement(K,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,attackers:e.attackers,alert:e.alert}),r.a.createElement(z,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,defenders:e.defenders,alert:e.alert}))),r.a.createElement("div",{className:"account-section",id:"account-info"},r.a.createElement("h3",null,"Account Information"),r.a.createElement(L,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,platform:e.platform,alert:e.alert}),r.a.createElement(M,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,username:e.username,alert:e.alert}),r.a.createElement(w,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,email:e.email,alert:e.alert}),r.a.createElement(j,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert})),r.a.createElement("div",{className:"account-section",id:"notifications"},r.a.createElement("h3",null,"Notification Preferences"),r.a.createElement(X,{getAuthToken:e.getAuthToken,alert:e.alert,subscription:e.subscription})),r.a.createElement("div",{className:"account-section account-section--danger"},r.a.createElement("h3",null,"Manage Account"),r.a.createElement(J,{getAuthToken:e.getAuthToken,logout:e.logout,alert:e.alert,updateAuthToken:e.getAuthToken})))},Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).count=s.count.bind(Object(d.a)(s)),s.state={value:0,counted:!1},s}return Object(c.a)(a,[{key:"count",value:function(){this.state.value<this.props.value?this.setState({value:this.state.value+.05*this.props.value}):this.setState({value:this.props.value,counted:!0})}},{key:"componentDidMount",value:function(){this.state.counted||(this.counter=setInterval(this.count,50))}},{key:"render",value:function(){return r.a.createElement("div",{className:"progress-circle"},r.a.createElement("p",null,this.props.label),r.a.createElement("p",{className:"progress-circle__value"},Math.floor(100*this.state.value)/100))}}]),a}(r.a.Component),$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStats=s.fetchStats.bind(Object(d.a)(s)),s.state={stats:void 0,loading:!0,hasLoaded:!1},s}return Object(c.a)(a,[{key:"fetchStats",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/statistics/general").then((function(t){switch(t.data.status){case v.GENERAL_STATS_FOUND.status:e.setState({loading:!1,hasLoaded:!0,stats:t.data.stats});break;default:e.setState({loading:!1,hasLoaded:!0}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,hasLoaded:!0}),e.props.alert("An error has occurred while attempting to get general statistics","ERROR")}))}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStats()}},{key:"render",value:function(){return r.a.createElement("div",{id:"GeneralStatisticsAPI",className:"statistics-api"},r.a.createElement("h2",{className:"statistics-title"},"Overview"),this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,this.state.stats?r.a.createElement("div",{className:"statistics-container"},r.a.createElement("img",{className:"user-image",alt:"User",src:this.state.stats.avatar_url_256}),r.a.createElement("h3",{className:"stats-grid__heading"},"General"),r.a.createElement("div",{className:"stats-grid"},r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Progression"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement(Q,{label:"Level",value:this.state.stats.progression.level})),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Playtime"),r.a.createElement("span",{className:"stat__value"},Math.floor(this.state.stats.stats.general.playtime/3600)," Hrs")),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Games Played"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.games_played))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Personal Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement(Q,{label:"K/D",value:this.state.stats.stats.general.kd})),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Kills"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.kills)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Deaths"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.deaths)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Headshot %"),r.a.createElement("span",{className:"stat__value"},Math.round(this.state.stats.stats.general.headshots/this.state.stats.stats.general.kills*100),"%"))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Team Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement(Q,{label:"W/L",value:this.state.stats.stats.general.wl})),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Wins"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.wins)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Losses"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.losses)))),r.a.createElement("h3",{className:"stats-grid__heading"},"Ranked"),r.a.createElement("div",{className:"stats-grid"},r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Progression"),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Playtime"),r.a.createElement("span",{className:"stat__value"},Math.floor(this.state.stats.stats.queue.ranked.playtime/3600)," Hrs")),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Games Played"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.games_played))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Personal Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement(Q,{label:"K/D",value:this.state.stats.stats.queue.ranked.kd})),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Kills"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.kills)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Deaths"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.deaths))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Team Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement(Q,{label:"W/L",value:this.state.stats.stats.queue.ranked.wl})),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Wins"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.wins)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Losses"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.losses))))):r.a.createElement("p",{className:"text-error"},"Unable to load statistics. Make sure your username matches the account for the platform you signed up with.")))}}]),a}(r.a.Component),ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStats=s.fetchStats.bind(Object(d.a)(s)),s.state={stats:void 0,loading:!0,hasLoaded:!1},s}return Object(c.a)(a,[{key:"fetchStats",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/statistics/seasonal").then((function(t){switch(t.data.status){case v.SEASONAL_STATS_FOUND.status:e.setState({loading:!1,hasLoaded:!0,stats:t.data.stats});break;default:e.setState({loading:!1,hasLoaded:!0}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,hasLoaded:!0}),e.props.alert("An error has occurred while attempting to get seasonal statistics.","ERROR")}))}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStats()}},{key:"render",value:function(){var e=H.CURRENT_SEASON.split("_"),t=e[0].charAt(0).toUpperCase()+e[0].slice(1)+" "+e[1].charAt(0).toUpperCase()+e[1].slice(1);return r.a.createElement("div",{id:"SeasonalStatisticsAPI",className:"statistics-api"},r.a.createElement("div",{id:"seasonal-stats-inside"},r.a.createElement("h2",{className:"statistics-title"},"Operation ",t),r.a.createElement("h3",{className:"statistics-title"},"Seasonal Performance"),this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,this.state.stats?r.a.createElement("div",{className:"statistics"},r.a.createElement("div",{className:"stat--main"},r.a.createElement("h3",{className:"stat__value"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].rank_text),r.a.createElement("p",{className:"stat__label"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].mmr," MMR"),r.a.createElement("p",{className:"stat__label stat__label--secondary"},"MMR Change: ",this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].last_match_mmr_change)),r.a.createElement("div",{className:"stat"},r.a.createElement("h3",{className:"stat__value--main"},Math.floor(this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].kills/this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].deaths*100)/100," KD"),r.a.createElement("p",{className:"stat__label"},"Kills"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].kills),r.a.createElement("p",{className:"stat__label"},"Deaths"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].deaths),r.a.createElement("p",{className:"stat__label"},"K/D Spread"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].kills-this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].deaths)),r.a.createElement("div",{className:"stat"},r.a.createElement("h3",{className:"stat__value--main"},Math.floor(this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].wins/this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].losses*100)/100," WL"),r.a.createElement("p",{className:"stat__label"},"Wins"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].wins),r.a.createElement("p",{className:"stat__label"},"Losses"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].losses),r.a.createElement("p",{className:"stat__label"},"W/L Spread"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].wins-this.state.stats.seasons[H.CURRENT_SEASON].regions.ncsa[0].losses))):r.a.createElement("p",{className:"statistics-failure"},"Unable to load statistics. Make sure your username matches the account for the platform you signed up with."))))}}]),a}(r.a.Component),te=a(22),ae=function(e){return r.a.createElement("div",{className:"operator-statistics"},r.a.createElement("div",{className:"operator-info"},r.a.createElement("img",{className:"operator-info__image",alt:"Operator",src:e.image}),r.a.createElement("h3",{className:"operator-info__name"},e.name)),r.a.createElement("div",{className:"operator-stats"},r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"K/D"),r.a.createElement("span",{className:"operator-stats__value"},e.kd)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Kills"),r.a.createElement("span",{className:"operator-stats__value"},e.kills)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Deaths"),r.a.createElement("span",{className:"operator-stats__value"},e.deaths)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"W/L"),r.a.createElement("span",{className:"operator-stats__value"},e.wl)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Wins"),r.a.createElement("span",{className:"operator-stats__value"},e.wins)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Losses"),r.a.createElement("span",{className:"operator-stats__value"},e.losses)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Playtime"),r.a.createElement("span",{className:"operator-stats__value"},Math.floor(e.playtime/3600)," Hrs")),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Headshot %"),r.a.createElement("span",{className:"operator-stats__value"},Math.round(100*e.hsp*100)/100,"%"))))},se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStats=s.fetchStats.bind(Object(d.a)(s)),s.sortOperators=s.sortOperators.bind(Object(d.a)(s)),s.searchOperators=s.searchOperators.bind(Object(d.a)(s)),s.toggleRows=s.toggleRows.bind(Object(d.a)(s)),s.state={stats:void 0,loading:!0,hasLoaded:!1,search:"",rows:!1},s}return Object(c.a)(a,[{key:"fetchStats",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/statistics/operators").then((function(t){switch(t.data.status){case v.OPERATOR_STATS_FOUND.status:e.setState({loading:!1,hasLoaded:!0,stats:t.data.stats,operators:t.data.stats.operators});break;default:e.setState({loading:!1,hasLoaded:!0})}})).catch((function(t){console.log(t),e.setState({loading:!1,hasLoaded:!0}),e.props.alert("An error has occurred while attempting to get operator statistics.","ERROR")}))}},{key:"sortOperators",value:function(e){var t=Object(i.a)(this.state.stats.operators);switch(e.target.id.toUpperCase()){case"RELEASE":t=t;break;case"NAME":t=t.sort((function(e,t){return e.name>t.name?1:-1}));break;case"KD":t=t.sort((function(e,t){return e.kd>t.kd?-1:1}));break;case"PLAYTIME":t=t.sort((function(e,t){return e.playtime>t.playtime?-1:1}))}this.setState({operators:t})}},{key:"searchOperators",value:function(e){e.preventDefault(),this.setState({search:e.target.value})}},{key:"toggleRows",value:function(){this.setState({rows:!this.state.rows})}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStats()}},{key:"render",value:function(){var e=this,t=[];return this.state.stats&&this.state.operators.map((function(a,s){a.name.includes("Recruit")||""!==e.state.search&&!Object(te.clean)(a.name.toUpperCase()).includes(e.state.search.toUpperCase())||t.push(r.a.createElement(ae,{image:"../media/min/operators/".concat(Object(te.clean)(a.name.toLowerCase()),".png"),name:a.name,kd:Math.round(100*a.kd)/100,kills:a.kills,deaths:a.deaths,wl:Math.round(100*a.wl)/100,wins:a.wins,losses:a.losses,playtime:Math.round(100*a.playtime)/100,hsp:Math.round(a.headshots/a.kills*100)/100,key:s}))})),r.a.createElement("div",{id:"OperatorStatisticsAPI",className:"statistics-api"+(this.state.rows?" statistics-api--rows":"")},r.a.createElement("h2",{className:"statistics-title"},"Operators"),this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,this.state.stats?r.a.createElement("div",{className:"statistics"},r.a.createElement("div",{className:"controls"},r.a.createElement("input",{onChange:this.searchOperators,value:this.state.search,placeholder:"Search By Name"}),r.a.createElement("button",{onClick:this.sortOperators,id:"release"},"Sort By Release"),r.a.createElement("button",{onClick:this.sortOperators,id:"name"},"Sort By Name"),r.a.createElement("button",{onClick:this.sortOperators,id:"kd"},"Sort By KD"),r.a.createElement("button",{onClick:this.sortOperators,id:"playtime"},"Sort By Playtime"),r.a.createElement("button",{onClick:this.toggleRows,id:"rows"},this.state.rows?"Display Cards":"Display Rows")),t):r.a.createElement("p",null,"Unable to load statistics. Make sure your username matches the account for the platform you signed up with.")))}}]),a}(r.a.Component),re=function(e){return r.a.createElement("div",{className:"page",id:"dashboard"},r.a.createElement("h1",null,"Dashboard"),r.a.createElement($,{getAuthToken:e.getAuthToken,alert:e.alert}),r.a.createElement(ee,{getAuthToken:e.getAuthToken,alert:e.alert}),r.a.createElement(se,{getAuthToken:e.getAuthToken,alert:e.alert}))},ne=function(e){return r.a.createElement("form",{className:"form",id:"create-team-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"name-field"},r.a.createElement("label",{className:"form__label",htmlFor:"name"},"Team Name"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.name?"":" form__input--error"),value:e.name,id:"name",type:"text",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.name:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit button",type:"submit"},"Create Team"))},oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={name:"",errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.post("/api/teams/create-team",{name:this.state.name}).then((function(e){switch(e.data.status){case N.TEAM_CREATED.status:a.setState({loading:!1}),a.props.alert("Your team has been created.","SUCCESS"),t.props.updateAuthToken();break;default:a.setState({loading:!1,errors:e.data.errors}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.props.alert(S.ERROR_CREATE_TEAM.message,S.ERROR_CREATE_TEAM.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"CreateTeamAPI"},r.a.createElement("h3",null,"Create a Team"),r.a.createElement(ne,{onSubmit:this.onSubmit,onChange:this.onChange,errors:this.state.errors,loading:this.state.loading,name:this.state.name}))}}]),a}(r.a.Component),ie=function(e){return r.a.createElement("form",{className:"form",id:"join-team-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"join-code-field"},r.a.createElement("label",{className:"form__label",htmlFor:"join_code"},"Team Code"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.join_code?"":" form__input--error"),value:e.join_code,id:"join_code",type:"text",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.join_code:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit button button--secondary",type:"submit"},"Join Team"))},le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={join_code:"",errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/join-team",{join_code:this.state.join_code}).then((function(e){switch(e.data.status){case v.TEAM_JOINED.status:a.setState({loading:!1}),a.props.alert("You have joined the team.","SUCCESS"),t.props.updateAuthToken();break;default:a.setState({loading:!1,errors:e.data.errors}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.props.alert(S.ERROR_JOIN_TEAM.message,S.ERROR_JOIN_TEAM.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"JoinTeamAPI"},r.a.createElement("h3",null,"Join a Team"),r.a.createElement(ie,{onSubmit:this.onSubmit,onChange:this.onChange,errors:this.state.errors,loading:this.state.loading,join_code:this.state.join_code}))}}]),a}(r.a.Component),ce=function(){return r.a.createElement("div",{className:"error-loading"},r.a.createElement("div",{className:"error-loading__modal"},r.a.createElement("h3",null,"Unable to load data"),r.a.createElement("p",null,"Stratbook was unable to load the data required for this page to function. This typically happens when the client (your device) is unable to contact the servers, so check your network connection and refresh the page.",r.a.createElement("br",null),r.a.createElement("br",null),"If you have a network connection and are still unable to retrieve the necessary data, there is likely a bug or other problem with the servers. If you suspect this is the case, please email the lead developer at",r.a.createElement("a",{id:"email",target:"_blank",rel:"noopener noreferrer",href:"mailto:cameron@burkholderwd.com"},"cameron@burkholderwd.com"),"."),r.a.createElement("a",{id:"refresh",href:"/"},"Refresh")))},de=function(e){var t=e.attackers.map((function(e,t){return r.a.createElement("div",{className:"attacker",key:t},r.a.createElement("img",{className:"attacker__image",alt:e,src:"../media/min/operators/".concat(e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),".png")}))})),a=e.defenders.map((function(e,t){return r.a.createElement("div",{className:"defender",key:t},r.a.createElement("img",{className:"defender__image",alt:e,src:"../media/min/operators/".concat(e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),".png")}))}));return r.a.createElement("div",{className:"team-member"},r.a.createElement("h4",{className:"team-member__username"},e.username),r.a.createElement("p",{className:"team-member__status"},e.status),r.a.createElement("p",{className:"team-member__quality"},e.attacker_role),r.a.createElement("p",{className:"team-member__quality"},e.defender_role),t.length>0?r.a.createElement("div",{className:"attackers"},r.a.createElement("p",{className:"team-member__attackers"},"Preferred Attackers"),t):"",a.length>0?r.a.createElement("div",{className:"defenders"},r.a.createElement("p",{className:"team-member__defenders"},"Preferred Defenders"),a):"")},me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamData=s.fetchTeamData.bind(Object(d.a)(s)),s.state={team:{},loading:!0},s}return Object(c.a)(a,[{key:"fetchTeamData",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/teams/view-team").then((function(t){switch(t.data.status){case v.TEAM_FOUND.status:e.setState({loading:!1,team:t.data.team_data});break;default:e.setState({loading:!1}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,error:!0}),e.props.alert(S.ERROR_VIEW_TEAM.message,S.ERROR_VIEW_TEAM.status)}))}},{key:"componentDidMount",value:function(){this.state.team.name||this.fetchTeamData()}},{key:"render",value:function(){var e;if(!this.state.loading)if(this.state.error)e=r.a.createElement(ce,null);else{var t=[],a=0;this.state.team?(this.state.team.admins.map((function(e){t.push(r.a.createElement(de,{username:e.username,status:e.status,attacker_role:e.attacker_role,attackers:e.attackers,defender_role:e.defender_role,defenders:e.defenders,key:a++}))})),this.state.team.editors.map((function(e){t.push(r.a.createElement(de,{username:e.username,status:e.status,attacker_role:e.attacker_role,attackers:e.attackers,defender_role:e.defender_role,defenders:e.defenders,key:a++}))})),this.state.team.members.map((function(e){t.push(r.a.createElement(de,{username:e.username,status:e.status,attacker_role:e.attacker_role,attackers:e.attackers,defender_role:e.defender_role,defenders:e.defenders,key:a++}))})),e=r.a.createElement("div",{className:"team"},r.a.createElement("h2",{className:"team-name"},this.state.team.name),r.a.createElement("h3",{className:"team-description"},this.state.team.platform," - ",this.state.team.join_code),r.a.createElement("div",{className:"roster"},r.a.createElement("h3",null,"Roster"),t))):e=r.a.createElement(ce,null)}return r.a.createElement("div",{id:"ViewTeamAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,e))}}]),a}(r.a.Component),ue=function(e){return r.a.createElement("div",{className:"team-member-stats"},r.a.createElement("h4",{className:"team-member-stats__username"},e.username),r.a.createElement("p",{className:"team-member-stats__stat"},e.mmr," MMR"),r.a.createElement("p",{className:"team-member-stats__stat"},e.kd," K/D"),r.a.createElement("p",{className:"team-member-stats__stat"},"Level ",e.level),r.a.createElement("p",{className:"team-member-stats__stat"},"+/-",e.mmrchange," MMR"),r.a.createElement("p",{className:"team-member-stats__stat"},e.wl," W/L"))},he=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamData=s.fetchTeamStats.bind(Object(d.a)(s)),s.state={stats:void 0,loading:!0},s}return Object(c.a)(a,[{key:"fetchTeamStats",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/statistics/team").then((function(t){switch(t.data.status){case v.TEAM_STATS_FOUND.status:e.setState({loading:!1,stats:{team:t.data.team,kd:t.data.kd,wl:t.data.wl,mmr:t.data.mmr,mmrchange:t.data.mmrchange,level:t.data.level}});break;default:e.setState({loading:!1}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,error:!0}),e.props.alert(S.ERROR_TEAM_STATS.message,S.ERROR_TEAM_STATS.status)}))}},{key:"componentDidMount",value:function(){this.state.stats||this.fetchTeamStats()}},{key:"render",value:function(){var e;if(this.state.loading)e=r.a.createElement(R,null);else if(this.state.error)e=r.a.createElement(ce,null);else if(this.state.stats.team){var t=this.state.stats.team.map((function(e){return r.a.createElement(ue,{username:e.username,kd:e.kd,wl:e.wl,mmr:e.mmr,mmrchange:e.mmrchange,level:e.level})}));e=r.a.createElement("div",{className:"team-statistics"},r.a.createElement("h2",null,"Statistics"),r.a.createElement("div",{className:"overview"},r.a.createElement("h3",{className:"overview-label"},"Team Performance"),r.a.createElement(Q,{value:this.state.stats.kd,label:"K/D"}),r.a.createElement(Q,{value:this.state.stats.wl,label:"W/L"}),r.a.createElement(Q,{value:this.state.stats.mmr,label:"MMR"}),r.a.createElement("p",{className:"team-stat-label"},r.a.createElement("span",{className:"stat-label"},"MMR +/-")," ",this.state.stats.mmrchange)),r.a.createElement("div",{className:"member-statistics"},r.a.createElement("h3",{className:"overview-label"},"Individual Performances"),t))}else e=r.a.createElement(ce,null);return r.a.createElement("div",{id:"ViewTeamStatisticsAPI"},r.a.createElement("div",null,e))}}]),a}(r.a.Component),pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1},s}return Object(c.a)(a,[{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),window.confirm("Are you sure you want to leave the team?")){var a=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/leave-team").then((function(e){switch(e.data.status){case v.TEAM_LEFT.status:a.setState({loading:!1}),a.props.alert("You have left the team.","SUCCESS"),t.props.updateAuthToken();break;default:a.setState({loading:!1}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.props.alert(S.ERROR_LEAVE_TEAM.message,S.ERROR_LEAVE_TEAM.status)}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"LeaveTeamAPI"},r.a.createElement("button",{onClick:this.onSubmit,className:"button--danger"},"Leave Team"))}}]),a}(r.a.Component),Ee=function(e){return r.a.createElement("div",{className:"page",id:"team"},r.a.createElement("h1",null,"Team"),e.team_code?r.a.createElement("div",{className:"hasTeam"},"ADMIN"===e.status?r.a.createElement(h.b,{className:"button",to:"/team/manage"},"Manage Team"):"",r.a.createElement(me,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert}),r.a.createElement(he,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert}),r.a.createElement(pe,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert})):r.a.createElement("div",{className:"hasNoTeam"},r.a.createElement("h2",null,"You do not have a team"),r.a.createElement("p",null,"It appears that you do not belong to a team. In order to use all the features of Stratbook, make or join one here."),r.a.createElement("div",{className:"team-grid"},r.a.createElement(oe,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,name:e.name,alert:e.alert}),r.a.createElement(le,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert}))))},ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamName=s.fetchTeamName.bind(Object(d.a)(s)),s.onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!0,currentName:"",newName:""},s}return Object(c.a)(a,[{key:"fetchTeamName",value:function(){var e=this;g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/teams/view-team").then((function(t){switch(t.data.status){case v.TEAM_FOUND.status:e.setState({loading:!1,currentName:t.data.team_data.name});break;default:e.setState({loading:!1}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1}),e.props.alert(S.ERROR_VIEW_TEAM.message,S.ERROR_VIEW_TEAM.status)}))}},{key:"onChange",value:function(e){this.setState({newName:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/update-name",{name:this.state.newName}).then((function(e){switch(e.data.status){case N.TEAM_NAME_UPDATED.status:t.setState({loading:!1,currentName:t.state.newName}),t.props.alert("Team name has been updated.","SUCCESS");break;default:t.setState({loading:!1}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1}),t.props.alert(S.ERROR_UPDATE_TEAM_NAME.message,S.ERROR_UPDATE_TEAM_NAME.status)}))}},{key:"componentDidMount",value:function(){this.state.loading&&this.fetchTeamName()}},{key:"render",value:function(){return r.a.createElement("div",{id:"UpdateTeamNameAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("h3",{className:"current-name"},"Team Name"),r.a.createElement("div",{className:"update-name-group"},r.a.createElement("input",{className:"team-name-input form__input",onChange:this.onChange,id:"newName",type:"text",value:this.state.newName,placeholder:this.state.currentName}),r.a.createElement("button",{className:"team-name-button button",onClick:this.onSubmit},"Update Name"))))}}]),a}(r.a.Component),fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1,message:""},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState({message:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.post("/api/teams/announce",{announcement:this.state.message}).then((function(e){switch(e.data.status){case v.ANNOUNCEMENT_SENT.status:t.setState({loading:!1,message:""}),t.props.alert(v.ANNOUNCEMENT_SENT.message,"SUCCESS");break;default:t.setState({loading:!1}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1}),t.props.alert(S.ERROR_ANNOUNCE.message,S.ERROR_ANNOUNCE.status)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"TeamAnnouncementAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("h3",null,"Make Announcement"),r.a.createElement("div",{className:"announcement-input"},r.a.createElement("textarea",{onChange:this.onChange,type:"text",value:this.state.message,rows:5}),r.a.createElement("button",{onClick:this.onSubmit},"Send"))))}}]),a}(r.a.Component),Ae=function(e){return r.a.createElement("div",{className:"manage-team-member"},r.a.createElement("h4",{className:"manage-team-member__username"},e.username),"ADMIN"===e.status?r.a.createElement("p",{className:"manage-team-member__status"},e.status):r.a.createElement("select",{className:"manage-team-member__input form__select",onChange:function(t){e.updateUserStatus(e.username,t.target.value)},value:e.status},r.a.createElement("option",null,"MEMBER"),r.a.createElement("option",null,"EDITOR"),r.a.createElement("option",null,"ADMIN")),"ADMIN"===e.status?"":r.a.createElement("button",{onClick:function(){e.blockUser(e.username)},className:"manage-team-member__button button button--warning"},"Block User"))},be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamData=s.fetchTeamData.bind(Object(d.a)(s)),s.updateUserStatus=s.updateUserStatus.bind(Object(d.a)(s)),s.blockUser=s.blockUser.bind(Object(d.a)(s)),s.updateTeamStatus=s.updateTeamStatus.bind(Object(d.a)(s)),s.onChange=s.onChange.bind(Object(d.a)(s)),s.changeTeamPlatform=s.changeTeamPlatform.bind(Object(d.a)(s)),s.changeTeamMMR=s.changeTeamMMR.bind(Object(d.a)(s)),s.state={team:{},loading:!0},s}return Object(c.a)(a,[{key:"fetchTeamData",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/teams/view-team").then((function(t){switch(t.data.status){case v.TEAM_FOUND.status:e.setState({loading:!1,team:t.data.team_data,status:t.data.team_data.open?"Allow New Members":"No New Members",platform:t.data.team_data.platform,mmr:t.data.team_data.mmr});break;default:e.setState({loading:!1}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,error:!0}),e.props.alert(S.ERROR_TEAM.message,S.ERROR_TEAM.status)}))}},{key:"componentDidMount",value:function(){this.state.team.name||this.fetchTeamData()}},{key:"updateUserStatus",value:function(e,t){var a=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/users/update-user-status",{username:e,status:t}).then((function(e){switch(console.log(e.data),e.data.status){case N.USER_STATUS_UPDATED.status:a.setState({loading:!1}),a.fetchTeamData();break;default:a.setState({loading:!1}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.setState({loading:!1}),a.props.alert(S.ERROR_UPDATE_USER_STATUS.message,S.ERROR_UPDATE_USER_STATUS.status)}))}},{key:"blockUser",value:function(e){if(window.confirm("You are about to block ".concat(e," from the team. Are you sure?"))){var t=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/block-user",{username:e}).then((function(e){switch(e.data.status){case v.USER_BLOCKED.status:t.setState({loading:!1}),t.props.alert("SUCCESS","User has been blocked successfully."),t.fetchTeamData();break;default:t.setState({loading:!1}),t.props.alert(e.data.message,e.data.status)}setTimeout((function(){window.location.reload(!1)}),500)})).catch((function(e){console.log(e),t.setState({loading:!1}),t.props.alert(S.ERROR_BLOCK_USER.message,S.ERROR_BLOCK_USER.status)}))}}},{key:"updateTeamStatus",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/update-team-status",{status:"Allow New Members"===e.state.status}).then((function(t){switch(t.data.status){case N.TEAM_STATUS_UPDATED.status:e.setState({loading:!1,status:t.data.open?"Allow New Members":"No New Members"});break;default:e.setState({loading:!1}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,error:!0}),e.props.alert(S.ERROR_UPDATE_TEAM_STATUS.message,S.ERROR_UPDATE_TEAM_STATUS.status)}))}},{key:"onChange",value:function(e){this.setState({status:e.target.value},this.updateTeamStatus)}},{key:"changeTeamPlatform",value:function(e){var t=this;this.setState({loading:!0,platform:e.target.value}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/update-team-platform",{platform:e.target.value}).then((function(e){switch(e.data.status){case v.TEAM_PLATFORM_UPDATED.status:t.setState({loading:!1});break;default:t.setState({loading:!1}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1,error:!0}),t.props.alert(S.ERROR_UPDATE_TEAM_PLATFORM.message,S.ERROR_UPDATE_TEAM_PLATFORM.status)}))}},{key:"changeTeamMMR",value:function(e){var t=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/update-team-mmr",{mmr:H.RANKS[e.target.value]}).then((function(e){switch(e.data.status){case v.TEAM_MMR_UPDATED.status:t.setState({loading:!1}),t.props.alert("Your team MMR threshold has been updated.","SUCCESS"),t.fetchTeamData();break;default:t.setState({loading:!1}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1,error:!0}),t.props.alert(S.ERROR_UPDATE_TEAM_MMR.message,S.ERROR_UPDATE_TEAM_MMR.status)}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(R,null);if(!this.state.loading)if(this.state.error)t=r.a.createElement(ce,null);else{var a=[],s=0;this.state.team.admins.forEach((function(t){a.push(r.a.createElement(Ae,{username:t.username,status:t.status,updateUserStatus:e.updateUserStatus,blockUser:e.blockUser,key:s++}))})),this.state.team.editors.forEach((function(t){a.push(r.a.createElement(Ae,{username:t.username,status:t.status,updateUserStatus:e.updateUserStatus,blockUser:e.blockUser,key:s++}))})),this.state.team.members.forEach((function(t){a.push(r.a.createElement(Ae,{username:t.username,status:t.status,updateUserStatus:e.updateUserStatus,blockUser:e.blockUser,key:s++}))})),t=r.a.createElement("div",{className:"team"},a)}return r.a.createElement("div",{id:"ManageTeamAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("h3",null,"Roster"),t,r.a.createElement("div",{className:"team-status"},r.a.createElement("p",null,"Team Status"),r.a.createElement("select",{onChange:this.onChange,value:this.state.status},r.a.createElement("option",null,"Allow New Members"),r.a.createElement("option",null,"No New Members"))),r.a.createElement("div",{className:"team-platform"},r.a.createElement("p",null,"Team Platform"),r.a.createElement("select",{onChange:this.changeTeamPlatform,value:this.state.platform},r.a.createElement("option",null,"XBOX"),r.a.createElement("option",null,"PC"),r.a.createElement("option",null,"PS4"))),r.a.createElement("div",{className:"team-mmr"},r.a.createElement("p",null,"MMR Threshold"),r.a.createElement("select",{onChange:this.changeTeamMMR,value:H.MMR_THRESHOLDS[this.state.mmr]},r.a.createElement("option",null,"None"),r.a.createElement("option",null,"Silver III"),r.a.createElement("option",null,"Silver II"),r.a.createElement("option",null,"Silver I"),r.a.createElement("option",null,"Gold III"),r.a.createElement("option",null,"Gold II"),r.a.createElement("option",null,"Gold I"),r.a.createElement("option",null,"Platinum III"),r.a.createElement("option",null,"Platinum II"),r.a.createElement("option",null,"Platinum I"),r.a.createElement("option",null,"Diamond")))))}}]),a}(r.a.Component),ve=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={loading:!1},s}return Object(c.a)(a,[{key:"onSubmit",value:function(e){if(e.preventDefault(),window.confirm("Deleting your team is a permanent action that cannot be undone. All data associated with this team will be purged from the Stratbook databases. Are you sure you want to do this?")){var t=this;g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.delete("/api/teams/delete-team").then((function(e){switch(e.data.status){case v.TEAM_DELETED.status:t.setState({loading:!1}),t.props.alert("Your team has been deleted.","SUCCESS"),t.props.updateAuthToken();break;default:t.setState({loading:!1}),t.props.updateAuthToken(),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1}),t.props.alert(S.ERROR_DELETE_TEAM.message,S.ERROR_DELETE_TEAM.status)}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"DeleteTeamAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("button",{onClick:this.onSubmit,className:"form__button form__button--submit button button--danger",id:"DeleteTeamAPI"},"Delete Team"))}}]),a}(r.a.Component),Se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchBlockedUsers=s.fetchBlockedUsers.bind(Object(d.a)(s)),s.unblockUser=s.unblockUser.bind(Object(d.a)(s)),s.state={blocked_users:void 0,loading:!0},s}return Object(c.a)(a,[{key:"fetchBlockedUsers",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/teams/view-blocked-users").then((function(t){switch(t.data.status){case v.BLOCKED_USERS_FOUND.status:e.setState({loading:!1,blocked_users:t.data.blocked_users});break;default:e.setState({loading:!1}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,error:!0}),e.props.alert(S.ERROR_VIEW_BLOCKED_USERS.message,S.ERROR_VIEW_BLOCKED_USERS.status)}))}},{key:"componentDidMount",value:function(){this.state.blocked_users||this.fetchBlockedUsers()}},{key:"unblockUser",value:function(e,t){if(window.confirm("You are about to unblock ".concat(e,". He/she will be able to join the team if he/she has the join code. Are you sure?"))){var a=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/teams/unblock-user",{_id:t}).then((function(e){switch(e.data.status){case"USER_UNBLOCKED":a.setState({loading:!1}),a.props.alert("User has been unblocked successfully.","SUCCESS"),a.fetchBlockedUsers();break;default:a.setState({loading:!1}),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.setState({loading:!1}),a.props.alert("An error has occurred while attempting to unblock user.","ERROR")}))}}},{key:"render",value:function(){var e=this,t=r.a.createElement(R,null);return this.state.error?t=r.a.createElement(ce,null):this.state.blocked_users&&(t=this.state.blocked_users.length>0?this.state.blocked_users.map((function(t){return r.a.createElement("div",{className:"blocked-user"},r.a.createElement("h4",null,t.username),r.a.createElement("button",{className:"button button--secondary",onClick:function(){e.unblockUser(t.username,t._id)}},"Unblock"))})):"No users have been blocked."),r.a.createElement("div",{id:"BlockedUsersAPI"},this.state.loading?r.a.createElement(R,null):r.a.createElement("div",null,r.a.createElement("h3",null,"Blocked Users"),t))}}]),a}(r.a.Component),Re=function(e){return r.a.createElement("div",{className:"page",id:"manage-team"},r.a.createElement("h1",null,"Manage Team"),r.a.createElement(h.b,{className:"button",to:"/team"},"Back to Team"),r.a.createElement("div",{id:"TeamControls"},r.a.createElement(ge,{getAuthToken:e.getAuthToken,alert:e.alert}),r.a.createElement(fe,{getAuthToken:e.getAuthToken,alert:e.alert})),r.a.createElement(be,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert}),r.a.createElement(Se,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert}),r.a.createElement(ve,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,alert:e.alert}))},_e=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).changeName=s.changeName.bind(Object(d.a)(s)),s.updateName=s.updateName.bind(Object(d.a)(s)),s.updateStrategyName=s.updateStrategyName.bind(Object(d.a)(s)),s.toggleStrategyNavigation=s.toggleStrategyNavigation.bind(Object(d.a)(s)),s.state={strategy:""!==s.props.strategy?s.props.strategy:"Unnamed",active:!1,nav:!1},s}return Object(c.a)(a,[{key:"changeName",value:function(){"Editor"===this.props.function&&this.setState({active:!this.state.active})}},{key:"updateName",value:function(e){this.setState({strategy:e.target.value})}},{key:"updateStrategyName",value:function(){""!==this.state.strategy&&" "!==this.state.strategy?(this.props.updateStrategyName(this.state.strategy),this.setState({active:!1})):this.props.alert("Strategy name cannot be empty.")}},{key:"toggleStrategyNavigation",value:function(){this.setState({nav:!this.state.nav})}},{key:"componentDidUpdate",value:function(e,t){this.props.strategy===this.state.strategy||this.state.active||this.setState({strategy:this.props.strategy})}},{key:"render",value:function(){var e,t=this,a=this.props.sites.map((function(e,a){return r.a.createElement("option",{className:a===t.props.siteIndex?"site--active":"",key:a},e)}));"SharedViewer"!==this.props.function&&(e=this.props.strategies.map((function(e,a){return r.a.createElement("button",{onClick:function(){t.props.selectStrategy(a)},className:a===t.props.strategyIndex?"strategy--active":"",key:a},e.name)})));var s="Editor"===this.props.function?"/strategies/edit":"/strategies";return r.a.createElement("div",{className:"toolbar"+(this.state.nav?" toolbar--active":"")},"SharedViewer"!==this.props.function?r.a.createElement("button",{onClick:this.toggleStrategyNavigation,className:"toolbar__navigation-button"+(this.state.nav?" toolbar__navigation-button--active":"")},"\u2630"):"",this.state.active?r.a.createElement("div",{className:"strategy__name-input"},r.a.createElement("input",{className:"strategy__input",onChange:this.updateName,value:this.state.strategy}),r.a.createElement("button",{onClick:this.updateStrategyName},"\u2713")):r.a.createElement("h4",{className:"toolbar__strategy",onClick:this.changeName},this.state.strategy),"ATTACK"===this.props.type?r.a.createElement("div",{className:"action-container"},r.a.createElement("div",{className:"action",onClick:function(){"Editor"===t.props.function&&t.props.insertDrone()}},r.a.createElement("img",{className:"action__img",src:"../../media/min/drone.png",alt:"Drone"}),r.a.createElement("p",null,"Drones (",this.props.drones.length,"/",10,")")),r.a.createElement("div",{className:"action",onClick:function(){"Editor"===t.props.function&&t.props.insertBreach()}},r.a.createElement("img",{className:"action__img",src:"../../media/min/breach.png",alt:"Breach"}),r.a.createElement("p",null,"Breaches (",this.props.breaches.length,")"))):r.a.createElement("div",{className:"action-container"},r.a.createElement("div",{className:"action",onClick:function(){"Editor"===t.props.function&&t.props.insertReinforcement()}},r.a.createElement("img",{className:"action__img",src:"../../media/min/reinforcement.png",alt:"Reinforcement"}),r.a.createElement("p",null,"Reinforcements (",this.props.reinforcements.length,"/",10,")")),r.a.createElement("div",{className:"action",onClick:function(){"Editor"===t.props.function&&t.props.insertRotate()}},r.a.createElement("img",{className:"action__img",src:"../../media/min/rotate.png",alt:"Rotate"}),r.a.createElement("p",null,"Rotates (",this.props.rotates.length,")"))),r.a.createElement("h4",{className:"toolbar__label"},"Viewing in ",this.props.function),"SharedViewer"!==this.props.function?r.a.createElement("div",{className:"toolbar__navigation"+(this.state.nav?" toolbar__navigation--active":"")},r.a.createElement("h3",null,this.props.map.name),"Editor"===this.props.function?r.a.createElement("button",{className:"button toolbar__button",onClick:this.props.save},"Save"):"","SharedViewer"!==this.props.function?r.a.createElement(h.b,{to:s,onClick:function(){t.props.updated||t.props.fetchStrategies()},id:"showMaps"},"Back to Maps"):"",r.a.createElement("div",{className:"strategy__navigation"},r.a.createElement("h4",null,"Mode"),r.a.createElement("select",{className:"type-selector",onChange:function(e){t.props.updateType(e.target.value)}},r.a.createElement("option",null,"ATTACK"),r.a.createElement("option",null,"DEFENSE")),r.a.createElement("div",{className:"site-container"},r.a.createElement("h4",null,"Site"),r.a.createElement("select",{onChange:function(e){t.props.selectSite(t.props.sites.indexOf(e.target.value))},value:this.props.sites[this.props.siteIndex]},a)),r.a.createElement("h4",null,"Strategies"),r.a.createElement("div",{className:"strategy-selector"},e,"Editor"===this.props.function?r.a.createElement("div",{className:"strategy-control"},r.a.createElement("button",{onClick:this.props.addStrategy},"Add Strategy"),r.a.createElement("button",{onClick:this.props.removeStrategy},"Remove Strategy")):""))):"")}}]),a}(r.a.Component),Te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"toggle"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:!(!this.props.active||""===this.props.active),onChange:function(){e.props.active?e.props.activeAction():e.props.inactiveAction()}}),r.a.createElement("span",{className:"slider round"})),r.a.createElement("p",null,this.props.active?this.props.activeState:this.props.inactiveState),this.props.link&&""!==this.props.link?r.a.createElement("a",{className:"toggle__link",rel:"noopener noreferrer",href:this.props.link,target:"_blank"},"view"):"",this.props.link&&""!==this.props.link?r.a.createElement("button",{className:"toggle__button",onClick:function(){var t=document.createElement("textarea");t.value=e.props.link,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t),e.props.alert("The link to your shared strategy has been copied.","Strategy Link Copied")}},"\ud83d\udccb"):"")}}]),a}(r.a.Component),ye=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).changeName=s.changeName.bind(Object(d.a)(s)),s.updateName=s.updateName.bind(Object(d.a)(s)),s.toggleSidebar=s.toggleSidebar.bind(Object(d.a)(s)),s.state={index:0,name:"",active:!1,showSidebar:!1},s}return Object(c.a)(a,[{key:"changeName",value:function(e,t){e&&e.stopPropagation(),this.state.active?""!==this.state.name&&(this.props.updateSceneName(this.state.name,this.state.index),this.setState({index:0,name:"",active:!1})):this.setState({index:t,name:this.props.scenes[t].name,active:!0})}},{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"toggleSidebar",value:function(){this.setState({showSidebar:!this.state.showSidebar})}},{key:"render",value:function(){var e,t=this,a=(this.props.sites.map((function(e,a){return r.a.createElement("div",{className:"site"+(t.props.siteIndex===a?" site--active":""),onClick:function(){t.props.selectSite(a)},key:a},r.a.createElement("span",{className:"site__number"},"Site ",a+1),r.a.createElement("p",{className:"site__name"},e))})),this.props.scenes.map((function(e,a){return r.a.createElement("div",{className:"scene"+(t.props.sceneIndex===a?" scene--active":""),onClick:function(){t.state.active||t.props.selectScene(a)},key:a},r.a.createElement("span",{className:"scene__number"},"Scene ",a+1),t.state.active&&t.state.index===a?r.a.createElement("div",{className:"scene__name-input"},r.a.createElement("input",{className:"scene__input",onChange:t.updateName,value:t.state.name}),r.a.createElement("button",{onClick:t.changeName},"\u2713")):r.a.createElement("p",{className:"scene__name",onClick:function(e){"Editor"===t.props.function&&t.changeName(e,a)}},e.name))})));return"SharedViewer"!==this.props.function&&(e=this.props.strategies.map((function(e,a){return r.a.createElement("div",{className:"strategy"+(t.props.strategyIndex===a?" strategy--active":""),onClick:function(){t.props.selectStrategy(a)},key:a},r.a.createElement("p",{className:"strategy__name"},e.name))}))),r.a.createElement("div",{className:"sidebar"+(this.state.showSidebar?" sidebar--active":"")},r.a.createElement("button",{onClick:this.toggleSidebar},"\u2192"),r.a.createElement("div",{className:"sidebar-body"},r.a.createElement("div",{className:"strategy-container"},r.a.createElement("h3",{className:"strategy-container__heading"},this.props.map,": ",this.props.type),r.a.createElement("h4",{className:"strategy-container__subtitle"},this.props.sites[this.props.siteIndex]),"Editor"!==this.props.function&&this.props.shared?r.a.createElement("div",{className:"viewer-toggle"},r.a.createElement("label",{className:"switch"},r.a.createElement("span",{className:"slider slider--active round"})),r.a.createElement("p",null,"Shared"),r.a.createElement("a",{className:"toggle__link",rel:"noopener noreferrer",href:this.props.shared?window.location.protocol+"//"+window.location.host+"/shared/"+this.props.shared_key:"",target:"_blank"},"view"),r.a.createElement("button",{className:"toggle__button",onClick:function(){var e=document.createElement("textarea");e.value=window.location.protocol+"//"+window.location.host+"/shared/"+t.props.shared_key,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(e),t.props.alert("The link to your shared strategy has been copied.","Strategy Link Copied")}},"\ud83d\udccb")):"","Editor"===this.props.function?r.a.createElement(Te,{inactiveState:"Private",activeState:"Shared",activeAction:this.props.unshare,inactiveAction:this.props.share,active:this.props.shared,link:this.props.shared?window.location.protocol+"//"+window.location.host+"/shared/"+this.props.shared_key:"",alert:this.props.alert}):"","SharedViewer"!==this.props.function?r.a.createElement("div",null,r.a.createElement("h3",{className:"strategy-container__heading"},"Strategies"),r.a.createElement("div",{className:"select-container"},e)):""),r.a.createElement("div",{className:"scene-container"},r.a.createElement("h3",{className:"scene-container__heading"},"Scenes"),r.a.createElement("div",{className:"select-container"},a)),"Editor"===this.props.function?r.a.createElement("div",{className:"scene-controls"},r.a.createElement("button",{onClick:this.props.addScene},"Add Scene"),r.a.createElement("button",{onClick:this.props.removeScene},"Remove Scene")):""))}}]),a}(r.a.Component),Oe=function(e){var t=e.floors.map((function(e,t){return r.a.createElement("option",{key:t},e)}));return r.a.createElement("select",{onChange:e.onChange,className:"form__select",value:e.floor},t)},Ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"zoom-selector"},r.a.createElement("p",null,"Zoom Level: ",this.props.zoom,"X"),r.a.createElement("input",{onChange:this.props.onChange,value:this.props.zoom,type:"range",min:"1",max:"3",step:"0.1"}))}}]),a}(r.a.Component),Ie=function(e){return r.a.createElement("div",{className:"pagination"},r.a.createElement("button",{className:"pagination__button",onClick:function(){e.index-1>=0&&e.onChange(e.index-1)}}," < "),r.a.createElement("p",{className:"pagination__title"},e.activeLabel),r.a.createElement("button",{className:"pagination__button",onClick:function(){e.index+1<e.labels.length&&e.onChange(e.index+1)}}," > "))},ke=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).removeItem=s.removeItem.bind(Object(d.a)(s)),s.state={drag:!1,x:s.props.x,y:s.props.y,selected:s.props.selected&&s.props.type===s.props.selected.type&&s.props.index===s.props.selected.index&&(!s.props.selected.gi||s.props.selected.gi&&s.props.gi===s.props.selected.gi)},s}return Object(c.a)(a,[{key:"removeItem",value:function(){"OPERATOR"===this.props.type&&this.props.removeOperator(this.props.index),"GADGET"===this.props.type&&this.props.removeGadget(this.props.index,this.props.gi),"UTILITY"===this.props.type&&this.props.removeUtility(this.props.index,this.props.gi),"DRONE"===this.props.type&&this.props.removeDrone(this.props.index),"BREACH"===this.props.type&&this.props.removeBreach(this.props.index),"REINFORCEMENT"===this.props.type&&this.props.removeReinforcement(this.props.index),"ROTATE"===this.props.type&&this.props.removeRotate(this.props.index)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.selected&&this.props.type===this.props.selected.type&&this.props.index===this.props.selected.index&&(!this.props.selected.gi||this.props.selected.gi&&this.props.gi===this.props.selected.gi);this.state.selected!==a&&this.setState({selected:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{top:this.props.y?this.props.y:0,left:this.props.x?this.props.x:0,backgroundImage:"url(".concat(this.props.url,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"drag-item"+" drag-".concat(this.props.type.toLowerCase())+(this.props.drag?" drag":"")+(this.state.selected?" drag-item--selected":""),onClick:function(e){e.preventDefault(),e.stopPropagation()},onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),e.setState({drag:!0},(function(){"GADGET"===e.props.type||"UTILITY"===e.props.type?e.props.selectElement(e.props.index,e.props.type,e.props.gi):e.props.selectElement(e.props.index,e.props.type)}))},onTouchStart:function(t){t.preventDefault(),t.stopPropagation(),e.setState({drag:!0},(function(){"GADGET"===e.props.type||"UTILITY"===e.props.type?e.props.selectElement(e.props.index,e.props.type,e.props.gi):e.props.selectElement(e.props.index,e.props.type)}))},"data-type":this.props.type},this.props.labels?r.a.createElement("span",null,"GADGET"===this.props.type||"UTILITY"===this.props.type||"OPERATOR"===this.props.type?this.props.value.replace("_"," ").replace("_"," ").toUpperCase():""):"",this.state.selected?r.a.createElement("button",{className:"drag-item__button",onClick:this.removeItem},"X"):"")}}]),a}(r.a.Component),Ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).selectElement=s.selectElement.bind(Object(d.a)(s)),s.deselectElement=s.deselectElement.bind(Object(d.a)(s)),s.translateElement=s.translateElement.bind(Object(d.a)(s)),s.onMouseMove=s.onMouseMove.bind(Object(d.a)(s)),s.onMouseUp=s.onMouseUp.bind(Object(d.a)(s)),s.onTouchMove=s.onTouchMove.bind(Object(d.a)(s)),s.onDrag=s.onDrag.bind(Object(d.a)(s)),s.onDragTouch=s.onDragTouch.bind(Object(d.a)(s)),s.detectChange=s.detectChange.bind(Object(d.a)(s)),s.innerSelector=r.a.createRef(),s.state={index:0,type:"",operatorPositions:s.props.operatorPositions?Object(i.a)(s.props.operatorPositions):[],gadgetPositions:s.props.gadgetPositions?Object(i.a)(s.props.gadgetPositions):[],utilityPositions:s.props.utilityPositions?Object(i.a)(s.props.utilityPositions):[],drones:s.props.drones?Object(i.a)(s.props.drones):[],rotates:s.props.rotates?Object(i.a)(s.props.rotates):[],reinforcements:s.props.reinforcements?Object(i.a)(s.props.reinforcements):[],breaches:s.props.breaches?Object(i.a)(s.props.breaches):[],style:JSON.parse(JSON.stringify(s.props.style)),selected:{}},s}return Object(c.a)(a,[{key:"selectElement",value:function(e,t,a){var s=this;this.setState({index:e,drag:!0,type:t,gi:a,selected:{type:t,index:e,gi:a}},(function(){document.addEventListener("mousemove",s.onMouseMove),document.addEventListener("mouseup",s.onMouseUp),document.addEventListener("touchmove",s.onTouchMove),document.addEventListener("touchend",s.onMouseUp),document.addEventListener("keydown",s.translateElement)}))}},{key:"deselectElement",value:function(){this.setState({selected:{}}),document.removeEventListener("keydown",this.translateElement)}},{key:"translateElement",value:function(e){if(37<=e.keyCode<=40){var t,a,s,r;switch(e.preventDefault(),this.state.selected.type){case"OPERATOR":t=Object(i.a)(this.state.operatorPositions);break;case"DRONE":t=Object(i.a)(this.state.drones);break;case"GADGET":t=Object(i.a)(this.state.gadgetPositions)[this.state.selected.index];break;case"UTILITY":t=Object(i.a)(this.state.utilityPositions)[this.state.selected.index];break;case"ROTATE":t=Object(i.a)(this.state.rotates);break;case"REINFORCEMENT":t=Object(i.a)(this.state.reinforcements);break;case"BREACH":t=Object(i.a)(this.state.breaches)}if("GADGET"===this.state.selected.type||"UTILITY"===this.state.selected.type?(a=t[this.state.selected.gi].x,s=t[this.state.selected.gi].y):(a=t[this.state.selected.index].x,s=t[this.state.selected.index].y),37===e.keyCode)a-=2;else if(38===e.keyCode)s-=2;else if(39===e.keyCode)a+=2;else{if(40!==e.keyCode)return this.deselectElement();s+=2}switch("GADGET"===this.state.selected.type||"UTILITY"===this.state.selected.type?(t[this.state.selected.gi].x=a,t[this.state.selected.gi].y=s):(t[this.state.selected.index].x=a,t[this.state.selected.index].y=s),this.state.selected.type){case"OPERATOR":this.setState({operatorPositions:t});break;case"DRONE":this.setState({drones:t});break;case"GADGET":(r=Object(i.a)(this.state.gadgetPositions))[this.state.selected.index]=t,this.setState({gadgetPositions:r});break;case"UTILITY":(r=Object(i.a)(this.state.utilityPositions))[this.state.selected.index]=t,this.setState({utilityPositions:r});break;case"ROTATE":this.setState({rotates:t});break;case"REINFORCEMENT":this.setState({reinforcements:t});break;case"BREACH":this.setState({breaches:t})}}}},{key:"onDrag",value:function(e){this.props.onDragStart(e),this.deselectElement()}},{key:"onDragTouch",value:function(e){this.props.onDragTouch(e),this.deselectElement()}},{key:"onMouseMove",value:function(e){var t;switch(this.state.type){case"OPERATOR":t=Object(i.a)(this.state.operatorPositions);break;case"DRONE":t=Object(i.a)(this.state.drones);break;case"GADGET":t=Object(i.a)(this.state.gadgetPositions)[this.state.index];break;case"UTILITY":t=Object(i.a)(this.state.utilityPositions)[this.state.index];break;case"ROTATE":t=Object(i.a)(this.state.rotates);break;case"REINFORCEMENT":t=Object(i.a)(this.state.reinforcements);break;case"BREACH":t=Object(i.a)(this.state.breaches)}var a,s=e.pageX-this.state.bounds.left,r=e.pageY-this.state.bounds.top;if(this.props.zoom>1){var n=this.state.bounds.width/2,o=this.state.bounds.height/2;s=s>n?n/this.props.zoom+(s-n)/this.props.zoom:n/this.props.zoom-(n-s)/this.props.zoom,r=r>o?o/this.props.zoom+(r-o)/this.props.zoom:o/this.props.zoom-(o-r)/this.props.zoom}switch(r-=15,(s-=15)<0?s=0:s>this.props.bounds.width-30?s=this.props.bounds.width-30:r<0?r=0:r>this.props.bounds.height-30&&(r=this.props.bounds.height-30),"GADGET"===this.state.type||"UTILITY"===this.state.type?(t[this.state.gi].x=s,t[this.state.gi].y=r):(t[this.state.index].x=s,t[this.state.index].y=r),this.state.type){case"OPERATOR":this.setState({operatorPositions:t});break;case"DRONE":this.setState({drones:t});break;case"GADGET":(a=Object(i.a)(this.state.gadgetPositions))[this.state.index]=t,this.setState({gadgetPositions:a});break;case"UTILITY":(a=Object(i.a)(this.state.utilityPositions))[this.state.index]=t,this.setState({utilityPositions:a});break;case"ROTATE":this.setState({rotates:t});break;case"REINFORCEMENT":this.setState({reinforcements:t});break;case"BREACH":this.setState({breaches:t})}}},{key:"onTouchMove",value:function(e){var t;switch(this.state.type){case"OPERATOR":t=Object(i.a)(this.state.operatorPositions);break;case"DRONE":t=Object(i.a)(this.state.drones);break;case"GADGET":t=Object(i.a)(this.state.gadgetPositions)[this.state.index];break;case"UTILITY":t=Object(i.a)(this.state.utilityPositions)[this.state.index];break;case"ROTATE":t=Object(i.a)(this.state.rotates);break;case"REINFORCEMENT":t=Object(i.a)(this.state.reinforcements);break;case"BREACH":t=Object(i.a)(this.state.breaches)}var a,s=e.touches[0].pageX-this.state.bounds.left,r=e.touches[0].pageY-this.state.bounds.top;if(this.props.zoom>1){var n=this.state.bounds.width/2,o=this.state.bounds.height/2;s=s>n?n/this.props.zoom+(s-n)/this.props.zoom:n/this.props.zoom-(n-s)/this.props.zoom,r=r>o?o/this.props.zoom+(r-o)/this.props.zoom:o/this.props.zoom-(o-r)/this.props.zoom}switch(r-=15,(s-=15)<0?s=0:s>this.props.bounds.width-30&&(s=this.props.bounds.width-30),r<0?r=0:r>this.props.bounds.height-30&&(r=this.props.bounds.height-30),"GADGET"===this.state.type||"UTILITY"===this.state.type?(t[this.state.gi].x=s,t[this.state.gi].y=r):(t[this.state.index].x=s,t[this.state.index].y=r),this.state.type){case"OPERATOR":this.setState({operatorPositions:t});break;case"DRONE":this.setState({drones:t});break;case"GADGET":(a=Object(i.a)(this.state.gadgetPositions))[this.state.index]=t,this.setState({gadgetPositions:a});break;case"UTILITY":(a=Object(i.a)(this.state.utilityPositions))[this.state.index]=t,this.setState({utilityPositions:a});break;case"ROTATE":this.setState({rotates:t});break;case"REINFORCEMENT":this.setState({reinforcements:t});break;case"BREACH":this.setState({breaches:t})}}},{key:"onMouseUp",value:function(e){var t=this;document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onMouseUp),this.setState({drag:!1},(function(){switch(t.state.type){case"OPERATOR":t.props.updateOperatorPositions(t.state.operatorPositions);break;case"DRONE":t.props.updateDronePositions(t.state.drones);break;case"GADGET":t.props.updateGadgetPositions(t.state.gadgetPositions);break;case"UTILITY":t.props.updateUtilityPositions(t.state.utilityPositions);break;case"ROTATE":t.props.updateRotatePositions(t.state.rotates);break;case"REINFORCEMENT":t.props.updateReinforcementPositions(t.state.reinforcements);break;case"BREACH":t.props.updateBreachPositions(t.state.breaches)}t.setState({type:void 0,gi:void 0})}))}},{key:"detectChange",value:function(e,t){var a=!1;return e===this.props&&e.zoom===this.props.zoom&&JSON.stringify(e)===JSON.stringify(this.props)||(a=!0),a}},{key:"componentDidMount",value:function(){if(!this.state.bounds){var e=this.innerSelector.current.getBoundingClientRect(),t={top:e.top+window.pageYOffset,left:e.left+window.pageXOffset,x:e.x+window.pageXOffset,y:e.y+window.pageYOffset,width:e.width,height:e.height};this.setState({bounds:t})}}},{key:"componentDidUpdate",value:function(e,t){if(this.detectChange(e,t)){var a;if(this.props.zoom!==e.zoom||this.props.offsetX!==e.offsetX||this.props.offsetY!==e.offsetY){var s=this.innerSelector.current.getBoundingClientRect();a={top:s.top+window.pageYOffset,left:s.left+window.pageXOffset,x:s.x+window.pageXOffset,y:s.y+window.pageYOffset,width:s.width,height:s.height}}else a=this.state.bounds;this.setState({index:0,type:"",operatorPositions:this.props.operatorPositions?Object(i.a)(this.props.operatorPositions):[],gadgetPositions:this.props.gadgetPositions?Object(i.a)(this.props.gadgetPositions):[],utilityPositions:this.props.utilityPositions?Object(i.a)(this.props.utilityPositions):[],drones:this.props.drones?Object(i.a)(this.props.drones):[],rotates:this.props.rotates?Object(i.a)(this.props.rotates):[],reinforcements:this.props.reinforcements?Object(i.a)(this.props.reinforcements):[],breaches:this.props.breaches?Object(i.a)(this.props.breaches):[],bounds:a})}}},{key:"render",value:function(){var e=this,t=[];this.state.breaches.map((function(a,s){if(a.floor===e.props.floorIndex){t.push(r.a.createElement(ke,{url:"../../media/min/breach.png",x:a.x,y:a.y,selectElement:e.selectElement,index:s,key:s,drag:e.state.drag,type:"BREACH",bounds:e.state.bounds,labels:e.props.labels,removeOperator:e.props.removeOperator,removeGadget:e.props.removeGadget,removeUtility:e.props.removeUtility,removeDrone:e.props.removeDrone,removeBreach:e.props.removeBreach,removeRotate:e.props.removeRotate,removeReinforcement:e.props.removeReinforcement,selected:e.state.selected}))}}));var a=[];this.state.reinforcements.map((function(t,s){if(t.floor===e.props.floorIndex){a.push(r.a.createElement(ke,{url:"../../media/min/reinforcement.png",x:t.x,y:t.y,selectElement:e.selectElement,index:s,key:s,drag:e.state.drag,type:"REINFORCEMENT",bounds:e.state.bounds,labels:e.props.labels,removeOperator:e.props.removeOperator,removeGadget:e.props.removeGadget,removeUtility:e.props.removeUtility,removeDrone:e.props.removeDrone,removeBreach:e.props.removeBreach,removeRotate:e.props.removeRotate,removeReinforcement:e.props.removeReinforcement,selected:e.state.selected}))}}));var s=[];this.state.rotates.map((function(t,a){if(t.floor===e.props.floorIndex){s.push(r.a.createElement(ke,{url:"../../media/min/rotate.png",x:t.x,y:t.y,selectElement:e.selectElement,index:a,key:a,drag:e.state.drag,type:"ROTATE",bounds:e.state.bounds,labels:e.props.labels,removeOperator:e.props.removeOperator,removeGadget:e.props.removeGadget,removeUtility:e.props.removeUtility,removeDrone:e.props.removeDrone,removeBreach:e.props.removeBreach,removeRotate:e.props.removeRotate,removeReinforcement:e.props.removeReinforcement,selected:e.state.selected}))}}));var n=[];this.state.drones.map((function(t,a){if(t.floor!==e.props.floorIndex)return"";n.push(r.a.createElement(ke,{url:"../../media/min/drone.png",x:t.x,y:t.y,selectElement:e.selectElement,index:a,key:a,drag:e.state.drag,type:"DRONE",bounds:e.state.bounds,labels:e.props.labels,removeOperator:e.props.removeOperator,removeGadget:e.props.removeGadget,removeUtility:e.props.removeUtility,removeDrone:e.props.removeDrone,removeBreach:e.props.removeBreach,removeRotate:e.props.removeRotate,removeReinforcement:e.props.removeReinforcement,selected:e.state.selected}))}));var o=[];this.state.utilityPositions.map((function(t,a){t.forEach((function(t,s){if(t.floor===e.props.floorIndex&&e.props.utility[a]){var n="../../media/min/utility/".concat(e.props.utility[a].replace(" ","_").replace(" ","_"),".png");o.push(r.a.createElement(ke,{url:n,x:t.x,y:t.y,selectElement:e.selectElement,index:a,gi:s,key:s*a+s,drag:e.state.drag,type:"UTILITY",bounds:e.state.bounds,value:e.props.utility[a],labels:e.props.labels,removeOperator:e.props.removeOperator,removeGadget:e.props.removeGadget,removeUtility:e.props.removeUtility,removeDrone:e.props.removeDrone,removeBreach:e.props.removeBreach,removeRotate:e.props.removeRotate,removeReinforcement:e.props.removeReinforcement,selected:e.state.selected}))}}))}));var i=[];this.state.gadgetPositions.map((function(t,a){t.forEach((function(t,s){if(t.floor===e.props.floorIndex&&e.props.gadgets[a]){var n=e.props.gadgets[a].gadget.replace(" ","_").replace(" ","_").toUpperCase(),o="../../media/min/gadgets/".concat(n,".png");i.push(r.a.createElement(ke,{url:o,x:t.x,y:t.y,selectElement:e.selectElement,index:a,gi:s,key:s*a+s,drag:e.state.drag,type:"GADGET",bounds:e.state.bounds,value:e.props.gadgets[a].gadget,labels:e.props.labels,removeOperator:e.props.removeOperator,removeGadget:e.props.removeGadget,removeUtility:e.props.removeUtility,removeDrone:e.props.removeDrone,removeBreach:e.props.removeBreach,removeRotate:e.props.removeRotate,removeReinforcement:e.props.removeReinforcement,selected:e.state.selected}))}}))}));var l=this.state.operatorPositions.map((function(t,a){if(t.floor===e.props.floorIndex){var s="../../media/min/operators/".concat(e.props.operators[a].toLowerCase(),".png");return r.a.createElement(ke,{url:s,x:t.x,y:t.y,selectElement:e.selectElement,index:a,key:a,drag:e.state.drag,type:"OPERATOR",bounds:e.state.bounds,value:e.props.operators[a],labels:e.props.labels,removeOperator:e.props.removeOperator,removeGadget:e.props.removeGadget,removeUtility:e.props.removeUtility,removeDrone:e.props.removeDrone,removeBreach:e.props.removeBreach,removeRotate:e.props.removeRotate,removeReinforcement:e.props.removeReinforcement,selected:e.state.selected})}return""}));return r.a.createElement("div",{className:"position-overlay",style:this.props.style,ref:this.innerSelector,onMouseDown:this.onDrag,onTouchStart:this.onDragTouch},a,s,t,n,o,i,l)}}]),a}(r.a.Component),De=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onDragStart=s.onDragStart.bind(Object(d.a)(s)),s.onDragTouch=s.onDragTouch.bind(Object(d.a)(s)),s.onDrag=s.onDrag.bind(Object(d.a)(s)),s.onDragStop=s.onDragStop.bind(Object(d.a)(s)),s.selector=r.a.createRef(),s.state={offsetX:0,offsetY:0},s}return Object(c.a)(a,[{key:"onDragStart",value:function(e){var t=this;this.setState({startX:e.clientX,startY:e.clientY,move:!0},(function(){document.addEventListener("mousemove",t.onDrag),document.addEventListener("mouseup",t.onDragStop)}))}},{key:"onDragTouch",value:function(e){var t=this;this.setState({startX:e.touches[0].clientX,startY:e.touches[0].clientY,move:!0},(function(){document.addEventListener("touchmove",t.onDrag),document.addEventListener("touchend",t.onDragStop)}))}},{key:"onDrag",value:function(e){var t=e.clientX-this.state.startX,a=e.clientY-this.state.startY;if(e.touches&&(t=e.touches[0].clientX-this.state.startX,a=e.touches[0].clientY-this.state.startY),this.state.isMobile)t+=this.state.mobileOffset;else{var s=this.props.zoom*((this.props.zoom*this.state.bounds.width-this.state.bounds.width)/2),r=this.props.zoom*((this.state.bounds.width-this.props.zoom*this.state.bounds.width)/2),n=this.props.zoom*((this.props.zoom*this.state.bounds.height-this.state.bounds.height)/2),o=this.props.zoom*((this.state.bounds.height-this.props.zoom*this.state.bounds.height)/2);t>s&&(t=s),t<r&&(t=r),a>n&&(a=n),a<o&&(a=o)}this.setState({offsetX:t,offsetY:a})}},{key:"onDragStop",value:function(e){document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("mouseup",this.onDragStop),document.removeEventListener("touchmove",this.onDrag),document.addEventListener("touchend",this.onDragStop)}},{key:"componentDidMount",value:function(){var e=this;if(!this.state.bounds){var t=this.selector.current.getBoundingClientRect(),a=!(Math.abs(t.width-H.CANVAS_WIDTH)<20&&Math.abs(t.height-H.CANVAS_HEIGHT)<20);t.width=H.CANVAS_WIDTH,t.height=H.CANVAS_HEIGHT,this.setState({bounds:t,isMobile:a},(function(){if(e.state.isMobile){var t=e.selector.current.getBoundingClientRect(),a=-(e.state.bounds.width/2-t.width/2);e.setState({offsetX:a,mobileOffset:a})}}))}}},{key:"render",value:function(){var e="../../media/min/maps/".concat(this.props.map.replace(" ","_"),"-").concat(this.props.floor.toUpperCase().replace(" ","_"),".jpg"),t={backgroundImage:"url(".concat(e,")"),backgroundPosition:"center",backgroundSize:"cover",transform:"scale(".concat(parseFloat(this.props.zoom),") translate(").concat(this.state.offsetX,"px, ").concat(this.state.offsetY,"px)")};return r.a.createElement("div",{className:"blueprint-form",ref:this.selector},r.a.createElement(Ce,{style:t,operators:this.props.operators,operatorPositions:this.props.operatorPositions,removeOperator:this.props.removeOperator,gadgets:this.props.gadgets,gadgetPositions:this.props.gadgetPositions,removeGadget:this.props.removeGadget,utility:this.props.utility,utilityPositions:this.props.utilityPositions,removeUtility:this.props.removeUtility,drones:this.props.drones,removeDrone:this.props.removeDrone,rotates:this.props.rotates,removeRotate:this.props.removeRotate,reinforcements:this.props.reinforcements,removeReinforcement:this.props.removeReinforcement,floorIndex:this.props.floorIndex,breaches:this.props.breaches,removeBreach:this.props.removeBreach,updateOperatorPositions:this.props.updateOperatorPositions,updateGadgetPositions:this.props.updateGadgetPositions,updateDronePositions:this.props.updateDronePositions,updateUtilityPositions:this.props.updateUtilityPositions,updateRotatePositions:this.props.updateRotatePositions,updateReinforcementPositions:this.props.updateReinforcementPositions,updateBreachPositions:this.props.updateBreachPositions,type:this.props.type,zoom:this.props.zoom,bounds:this.state.bounds,onDragStart:this.onDragStart,onDragTouch:this.onDragTouch,offsetX:this.state.offsetX,offsetY:this.state.offsetY,labels:this.props.labels}))}}]),a}(r.a.Component),Le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.state={newObj:""},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState({newObj:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.objectives.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("div",null,r.a.createElement("p",null,t),r.a.createElement("button",{onClick:function(){e.props.removeObjective(a)}},"X")))}));return r.a.createElement("div",{className:"objectives"},r.a.createElement("h3",null,"Objectives: ",this.props.scenes[this.props.sceneIndex].name),r.a.createElement("input",{onChange:this.onChange,value:this.state.newObj,placeholder:"New Objective"}),r.a.createElement("button",{onClick:function(){e.props.addObjective(e.state.newObj),e.setState({newObj:""})}},"Add"),r.a.createElement("ul",null,t),r.a.createElement("h3",null,"Notes: ",this.props.scenes[this.props.sceneIndex].name),r.a.createElement("textarea",{value:this.props.notes,onChange:this.props.updateNotes,rows:7}),r.a.createElement("h3",null,"Video Link"),r.a.createElement("input",{onChange:this.props.updateVideo,value:this.props.video}))}}]),a}(r.a.Component),Pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).updateZoom=s.updateZoom.bind(Object(d.a)(s)),s.toggleLabels=s.toggleLabels.bind(Object(d.a)(s)),s.state={zoom:1,labels:!1},s}return Object(c.a)(a,[{key:"toggleLabels",value:function(){this.setState({labels:!this.state.labels})}},{key:"updateZoom",value:function(e){this.setState({zoom:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"canvas"},r.a.createElement("div",{className:"canvas__controls"},r.a.createElement(Oe,{onChange:this.props.updateFloor,floors:this.props.floors,floor:this.props.floor}),r.a.createElement(Ne,{onChange:this.updateZoom,zoom:this.state.zoom}),r.a.createElement("div",{className:"labels"},r.a.createElement("span",null,"Show Labels"),r.a.createElement("input",{type:"checkbox",onChange:this.toggleLabels,checked:this.state.labels})),r.a.createElement(Ie,{onChange:this.props.selectScene,index:this.props.sceneIndex,labels:this.props.scenes,activeLabel:this.props.scenes[this.props.sceneIndex].name})),r.a.createElement(De,{type:this.props.type,operators:this.props.operators,operatorPositions:this.props.operatorPositions,removeOperator:this.props.removeOperator,gadgets:this.props.gadgets,gadgetPositions:this.props.gadgetPositions,removeGadget:this.props.removeGadget,utility:this.props.utility,utilityPositions:this.props.utilityPositions,removeUtility:this.props.removeUtility,drones:this.props.drones,removeDrone:this.props.removeDrone,rotates:this.props.rotates,removeRotate:this.props.removeRotate,reinforcements:this.props.reinforcements,removeReinforcement:this.props.removeReinforcement,map:this.props.map,site:this.props.site,floorIndex:this.props.floorIndex,breaches:this.props.breaches,removeBreach:this.props.removeBreach,floor:this.props.floor,updateOperatorPositions:this.props.updateOperatorPositions,updateGadgetPositions:this.props.updateGadgetPositions,updateDronePositions:this.props.updateDronePositions,updateUtilityPositions:this.props.updateUtilityPositions,updateRotatePositions:this.props.updateRotatePositions,updateReinforcementPositions:this.props.updateReinforcementPositions,updateBreachPositions:this.props.updateBreachPositions,zoom:this.state.zoom,labels:this.state.labels}),r.a.createElement("div",{className:"canvas__body"},r.a.createElement(Le,{objectives:this.props.objectives,addObjective:this.props.addObjective,removeObjective:this.props.removeObjective,notes:this.props.notes,updateNotes:this.props.updateNotes,scenes:this.props.scenes,sceneIndex:this.props.sceneIndex,video:this.props.video,updateVideo:this.props.updateVideo})))}}]),a}(r.a.Component),Me=(H.ATTACKER_ROLES,H.DEFENDER_ROLES,H.UTILITY),Ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).toggleLineup=s.toggleLineup.bind(Object(d.a)(s)),s.state={active:!1},s}return Object(c.a)(a,[{key:"toggleLineup",value:function(){this.setState({active:!this.state.active})}},{key:"render",value:function(){var e=this,t="ATTACK"===this.props.type?H.ATTACKERS:H.DEFENDERS,a=("ATTACK"===this.props.type?H.ATTACKER_ROLES:H.DEFENDER_ROLES,this.props.operators.map((function(a,s){var n=s,o=t.map((function(t,a){if(e.props.operators.indexOf(t)<0||e.props.operators.indexOf(t)===n)return r.a.createElement("option",{key:a},t.toUpperCase())})),i="ATTACK"===e.props.type?Me.attack[e.props.operators[s]].map((function(e,t){return r.a.createElement("option",{key:t},e)})):Me.defense[e.props.operators[s]].map((function(e,t){return r.a.createElement("option",{key:t},e)}));return r.a.createElement("div",{className:"role"+(e.props.activeOperator===s?" role--active":""),key:s},r.a.createElement("div",{className:"role__head"},e.props.activeOperator===s?r.a.createElement("div",{className:"role__options"},"Editor"===e.props.function?r.a.createElement("select",{className:"form__select",onChange:function(t){e.props.updateOperators(t,s)},value:e.props.operators[s]},r.a.createElement("option",null,"OPERATOR"),o):"",r.a.createElement("div",{className:"role__utility"},"Editor"===e.props.function?r.a.createElement("select",{className:"form__select",onChange:function(t){e.props.updateUtility(t,s)},value:e.props.utility[s]},r.a.createElement("option",null,"UTILITY"),i):"")):r.a.createElement("div",{className:"role__options"}),r.a.createElement("div",{className:"role__image",onClick:function(){e.props.selectOperator(s)}},r.a.createElement("p",null,e.props.operators[s]),r.a.createElement("img",{className:"role__image",src:"../../media/min/operators/".concat(Object(te.clean)(e.props.operators[s].toLowerCase()),".png"),alt:"Operator",onClick:function(){e.props.activeOperator===s&&"Editor"===e.props.function?e.props.insertOperator(e.props.activeOperator):e.props.selectOperator(s)}}),e.props.activeOperator===s&&"Editor"===e.props.function?r.a.createElement("p",{style:{fontSize:"8pt"}},"Click to insert"):"")),e.props.activeOperator===s?r.a.createElement("div",{className:"role__body"},r.a.createElement("div",null,e.props.gadgets[s].gadget&&0!==e.props.gadgets[s].count?r.a.createElement("div",{className:"role__gadget"},r.a.createElement("p",null,e.props.gadgets[s].gadget," (",e.props.gadgets[s].count-e.props.gadgetPositions[s].length,")"),r.a.createElement("img",{className:"role__gadget-image",src:"../../media/min/gadgets/".concat(e.props.gadgets[s].gadget.toUpperCase().replace(" ","_").replace(" ","_"),".png"),alt:"Operator Gadget",onClick:function(){"Editor"===e.props.function&&e.props.gadgets[s].count-e.props.gadgetPositions[s].length>0&&e.props.insertGadget(s)}}),"Editor"===e.props.function?r.a.createElement("p",{style:{fontSize:"8pt",textTransform:"none"}},"Click to insert"):""):""),r.a.createElement("div",null,e.props.utility[s]&&"UTILITY"!==e.props.utility[s]?r.a.createElement("div",{className:"role__utility"},r.a.createElement("p",null,e.props.utility[s]," (",H.UTILITY_GUIDE[e.props.utility[s]]-e.props.utilityPositions[s].length,")"),r.a.createElement("img",{className:"role__utility-image",src:"../../media/min/utility/".concat(e.props.utility[s].toUpperCase().replace(" ","_").replace(" ","_"),".png"),alt:"Operator Utility",onClick:function(){"Editor"===e.props.function&&H.UTILITY_GUIDE[e.props.utility[s]]-e.props.utilityPositions[s].length&&e.props.insertUtility(s)}}),"Editor"===e.props.function?r.a.createElement("p",{style:{fontSize:"8pt",textTransform:"none"}},"Click to insert"):""):"")):"")})));return r.a.createElement("div",{className:"lineup"+(this.state.active?" lineup--active":"")},r.a.createElement("button",{onClick:this.toggleLineup},"\u2192"),r.a.createElement("div",{className:"lineup-body"},r.a.createElement("h3",null,"Lineup"),a))}}]),a}(r.a.Component),we=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;if(Object(l.a)(this,a),(s=t.call(this,e)).selectSite=s.selectSite.bind(Object(d.a)(s)),s.updateType=s.updateType.bind(Object(d.a)(s)),s.updateName=s.updateName.bind(Object(d.a)(s)),s.updateFloor=s.updateFloor.bind(Object(d.a)(s)),s.save=s.save.bind(Object(d.a)(s)),s.share=s.share.bind(Object(d.a)(s)),s.unshare=s.unshare.bind(Object(d.a)(s)),s.addStrategy=s.addStrategy.bind(Object(d.a)(s)),s.removeStrategy=s.removeStrategy.bind(Object(d.a)(s)),s.selectStrategy=s.selectStrategy.bind(Object(d.a)(s)),s.selectScene=s.selectScene.bind(Object(d.a)(s)),s.addScene=s.addScene.bind(Object(d.a)(s)),s.removeScene=s.removeScene.bind(Object(d.a)(s)),s.updateSceneName=s.updateSceneName.bind(Object(d.a)(s)),s.updateOperators=s.updateOperators.bind(Object(d.a)(s)),s.updateOperatorPositions=s.updateOperatorPositions.bind(Object(d.a)(s)),s.selectOperator=s.selectOperator.bind(Object(d.a)(s)),s.insertOperator=s.insertOperator.bind(Object(d.a)(s)),s.removeOperator=s.removeOperator.bind(Object(d.a)(s)),s.updateDronePositions=s.updateDronePositions.bind(Object(d.a)(s)),s.insertDrone=s.insertDrone.bind(Object(d.a)(s)),s.removeDrone=s.removeDrone.bind(Object(d.a)(s)),s.updateGadgetPositions=s.updateGadgetPositions.bind(Object(d.a)(s)),s.insertGadget=s.insertGadget.bind(Object(d.a)(s)),s.removeGadget=s.removeGadget.bind(Object(d.a)(s)),s.updateUtility=s.updateUtility.bind(Object(d.a)(s)),s.updateUtilityPositions=s.updateUtilityPositions.bind(Object(d.a)(s)),s.insertUtility=s.insertUtility.bind(Object(d.a)(s)),s.removeUtility=s.removeUtility.bind(Object(d.a)(s)),s.updateRotatePositions=s.updateRotatePositions.bind(Object(d.a)(s)),s.insertRotate=s.insertRotate.bind(Object(d.a)(s)),s.removeRotate=s.removeRotate.bind(Object(d.a)(s)),s.updateReinforcementPositions=s.updateReinforcementPositions.bind(Object(d.a)(s)),s.insertReinforcement=s.insertReinforcement.bind(Object(d.a)(s)),s.removeReinforcement=s.removeReinforcement.bind(Object(d.a)(s)),s.updateBreachPositions=s.updateBreachPositions.bind(Object(d.a)(s)),s.insertBreach=s.insertBreach.bind(Object(d.a)(s)),s.removeBreach=s.removeBreach.bind(Object(d.a)(s)),s.addObjective=s.addObjective.bind(Object(d.a)(s)),s.removeObjective=s.removeObjective.bind(Object(d.a)(s)),s.updateNotes=s.updateNotes.bind(Object(d.a)(s)),s.updateVideo=s.updateVideo.bind(Object(d.a)(s)),s.handleScroll=s.handleScroll.bind(Object(d.a)(s)),"Editor"===s.props.function||"Viewer"===s.props.function){var r,n,o,i,c,m,u,h=H.FLOORS[s.props.map.name],p=H.SITES[s.props.map.name];s.props.position?(u=s.props.position.type,r=s.props.position.siteIndex,n=s.props.position.sceneIndex,o=s.props.position.strategyIndex,m=s.props.position.floorIndex,"ATTACK"===s.props.position.type?(c=s.props.map.attack[H.SITES[s.props.map.name][r]],i=s.props.map.attack[H.SITES[s.props.map.name][r]][o].scenes):(c=s.props.map.defense[H.SITES[s.props.map.name][r]],i=s.props.map.defense[H.SITES[s.props.map.name][r]][o].scenes)):(o=0,n=0,m="B"===p[r=0][0]?0:parseInt(p[r][0]),u="ATTACK",i=s.props.map.attack[H.SITES[s.props.map.name][0]][0].scenes,c=s.props.map.attack[H.SITES[s.props.map.name][0]]),s.state={activeOperator:0,map:s.props.map,sites:p,site:H.SITES[s.props.map.name][r],siteIndex:r,strategyIndex:o,strategies:c,sceneIndex:n,scenes:i,floors:h,floorIndex:m,type:u,mounted:!1}}else s.state={activeOperator:0,sites:H.SITES[s.props.strategy.map],site:H.SITES[s.props.strategy.map][s.props.strategy.siteIndex],siteIndex:s.props.strategy.siteIndex,sceneIndex:0,scenes:s.props.strategy.scenes,floors:H.FLOORS[s.props.strategy.map],floorIndex:s.props.strategy.floorIndex,strategy:s.props.strategy,type:s.props.strategy.type,mounted:!1};return s}return Object(c.a)(a,[{key:"selectSite",value:function(e){var t,a=this.state.sites;t="B"===a[e][0]?0:parseInt(a[e][0]),this.setState({site:this.state.sites[e],siteIndex:e,sceneIndex:0,scenes:"ATTACK"===this.state.type?this.state.map.attack[this.state.sites[e]][0].scenes:this.state.map.defense[this.state.sites[e]][0].scenes,strategyIndex:0,strategies:"ATTACK"===this.state.type?this.state.map.attack[this.state.sites[e]]:this.state.map.defense[this.state.sites[e]],floorIndex:t})}},{key:"updateType",value:function(e){"ATTACK"===e?this.setState({type:"ATTACK",site:this.state.sites[0],siteIndex:0,strategies:this.state.map.attack[this.state.sites[0]],strategyIndex:0,scenes:this.state.map.attack[this.state.sites[0]][0].scenes,sceneIndex:0,floorIndex:0}):this.setState({type:"DEFENSE",site:this.state.sites[0],siteIndex:0,strategies:this.state.map.defense[this.state.sites[0]],strategyIndex:0,scenes:this.state.map.defense[this.state.sites[0]][0].scenes,sceneIndex:0,floorIndex:0})}},{key:"updateName",value:function(e){var t=this.state.map;"ATTACK"===this.state.type?t.attack[this.state.site][this.state.strategyIndex].name=e:t.defense[this.state.site][this.state.strategyIndex].name=e,this.setState({map:t})}},{key:"updateFloor",value:function(e){this.setState({floorIndex:this.state.floors.indexOf(e.target.value)})}},{key:"selectOperator",value:function(e){this.setState({activeOperator:e})}},{key:"save",value:function(){var e={siteIndex:this.state.siteIndex,strategyIndex:this.state.strategyIndex,sceneIndex:this.state.sceneIndex,floorIndex:this.state.floorIndex,type:this.state.type};this.props.save(JSON.stringify(this.state.map),e)}},{key:"share",value:function(){var e,t,a=this,s=this.state.map;if(!("ATTACK"===this.state.type?!0===s.attack[this.state.site][this.state.strategyIndex].shared:!0===s.defense[this.state.site][this.state.strategyIndex].shared)){"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].shared=!0,e=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].shared=!0,e=s.defense[this.state.site]),(t=e[this.state.strategyIndex]).type=this.state.type,t.map=this.state.map.name,t.floorIndex=this.state.floorIndex,t.siteIndex=this.state.siteIndex;var r={siteIndex:this.state.siteIndex,strategyIndex:this.state.strategyIndex,sceneIndex:this.state.sceneIndex,floorIndex:this.state.floorIndex,type:this.state.type};this.setState({map:s,strategies:e},(function(){a.props.shareStrategy(t,s,r)}))}}},{key:"unshare",value:function(){var e,t,a=this,s=this.state.map;if("ATTACK"===this.state.type?!0===s.attack[this.state.site][this.state.strategyIndex].shared:!0===s.defense[this.state.site][this.state.strategyIndex].shared){"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].shared=void 0,t=s.attack[this.state.site][this.state.strategyIndex].shared_key,e=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].shared=void 0,t=s.defense[this.state.site][this.state.strategyIndex].shared_key,e=s.defense[this.state.site]);var r={siteIndex:this.state.siteIndex,strategyIndex:this.state.strategyIndex,sceneIndex:this.state.sceneIndex,floorIndex:this.state.floorIndex,type:this.state.type};this.setState({map:s,strategies:e},(function(){a.props.unshareStrategy(t,s,r)}))}}},{key:"addStrategy",value:function(){var e,t=this.state.map;if("ATTACK"===this.state.type){var a={name:"Unnamed",operators:["OPERATOR","OPERATOR","OPERATOR","OPERATOR","OPERATOR"],utility:["UTILITY","UTILITY","UTILITY","UTILITY","UTILITY"],gadgets:["","","","",""],video:"",scenes:[{objectives:[],operatorPositions:[{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2}],drones:[],breaches:[],utilityPositions:[[],[],[],[],[]],gadgetPositions:[[],[],[],[],[]],notes:"",name:"Unnamed"}]};t.attack[this.state.sites[this.state.siteIndex]].push(a),e=t.attack[this.state.sites[this.state.siteIndex]]}else{var s={name:"Unnamed",operators:["OPERATOR","OPERATOR","OPERATOR","OPERATOR","OPERATOR"],utility:["UTILITY","UTILITY","UTILITY","UTILITY","UTILITY"],gadgets:["","","","",""],reinforcements:[],rotates:[],utilityPositions:[[],[],[],[],[]],gadgetPositions:[[],[],[],[],[]],video:"",scenes:[{objectives:[],operatorPositions:[{x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2)},{x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2)},{x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2)},{x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2)},{x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2)}],notes:"",name:"Unnamed"}]};t.defense[this.state.sites[this.state.siteIndex]].push(s),e=t.defense[this.state.sites[this.state.siteIndex]]}this.setState({map:t,strategies:e,strategyIndex:this.state.strategyIndex+1})}},{key:"removeStrategy",value:function(){if(1!==this.state.strategies.length&&window.confirm("You are about to remove ".concat(this.state.strategies[this.state.strategyIndex].name," from your Stratbook. If you wish to continue, please confirm."))){var e=Object(i.a)(this.state.strategies);e.splice(this.state.strategyIndex,1);var t=this.state.map;"ATTACK"===this.state.type?t.attack[this.state.sites[this.state.siteIndex]]=e:t.defense[this.state.sites[this.state.siteIndex]]=e,this.setState({map:t,strategyIndex:this.state.strategyIndex-1>=0?this.state.strategyIndex-1:0,strategies:e})}}},{key:"selectStrategy",value:function(e){this.setState({strategyIndex:e})}},{key:"addScene",value:function(){var e,t=this.state.map;if("ATTACK"===this.state.type){e=Object(i.a)(t.attack[this.state.site][this.state.strategyIndex].scenes);var a=JSON.parse(JSON.stringify(e[e.length-1]));a.notes="",a.objectives=[],a.name="Unnamed",e.push(a),t.attack[this.state.site][this.state.strategyIndex].scenes=e}else{e=Object(i.a)(t.defense[this.state.site][this.state.strategyIndex].scenes);var s=JSON.parse(JSON.stringify(e[e.length-1]));s.notes="",s.objectives=[],s.name="Unnamed",e.push(s),t.defense[this.state.site][this.state.strategyIndex].scenes=e}this.setState({scenes:e,map:t,sceneIndex:this.state.sceneIndex+1})}},{key:"removeScene",value:function(){if(this.state.sceneIndex-1>=0){var e,t=this.state.map;"ATTACK"===this.state.type?((e=Object(i.a)(t.attack[this.state.site][this.state.strategyIndex].scenes)).splice(this.state.sceneIndex,1),t.attack[this.state.site][this.state.strategyIndex].scenes=e):((e=Object(i.a)(t.defense[this.state.site][this.state.strategyIndex].scenes)).splice(this.state.sceneIndex,1),t.defense[this.state.site][this.state.strategyIndex].scenes=e),this.setState({scenes:e,map:t,sceneIndex:this.state.sceneIndex-1})}}},{key:"selectScene",value:function(e){this.setState({sceneIndex:e})}},{key:"updateSceneName",value:function(e,t){var a,s,r=this.state.map;"ATTACK"===this.state.type?(r.attack[this.state.site][this.state.strategyIndex].scenes[t].name=e,a=r.attack[this.state.site][this.state.strategyIndex].scenes,s=r.attack[this.state.site]):(r.defense[this.state.site][this.state.strategyIndex].scenes[t].name=e,a=r.defense[this.state.site][this.state.strategyIndex].scenes,s=r.defense[this.state.site]),this.setState({map:r,scenes:a,strategies:s})}},{key:"insertOperator",value:function(e){var t=this.state.map;if("ATTACK"===this.state.type){t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].floor=this.state.floorIndex;t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e];t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].x=Math.floor(H.CANVAS_WIDTH/2),t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].y=Math.floor(H.CANVAS_HEIGHT/2)}else{t.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].floor=this.state.floorIndex;t.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e];t.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].x=Math.floor(H.CANVAS_WIDTH/2),t.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].y=Math.floor(H.CANVAS_HEIGHT/2)}this.setState({map:t})}},{key:"removeOperator",value:function(e){var t=this.state.map;"ATTACK"===this.state.type?t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].floor=void 0:t.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[e].floor=void 0,this.setState({map:t})}},{key:"updateOperators",value:function(e,t){var a=this.state.map;"ATTACK"===this.state.type?(a.attack[this.state.site][this.state.strategyIndex].operators[t]=e.target.value,a.attack[this.state.site][this.state.strategyIndex].gadgets[t]=H.GADGETS[e.target.value],a.attack[this.state.site][this.state.strategyIndex].utility[t]="UTILITY"):(a.defense[this.state.site][this.state.strategyIndex].operators[t]=e.target.value,a.defense[this.state.site][this.state.strategyIndex].gadgets[t]=H.GADGETS[e.target.value],a.defense[this.state.site][this.state.strategyIndex].utility[t]="UTILITY"),this.setState({map:a})}},{key:"updateOperatorPositions",value:function(e){var t,a,s=this.state.map;"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions=e,t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions=e,t=s.defense[this.state.site][this.state.strategyIndex].scenes,a=s.defense[this.state.site]),this.setState({map:s,scenes:t,strategies:a})}},{key:"insertDrone",value:function(){if(this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].drones.length+1<=10){var e={x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2),floor:this.state.floorIndex},t=this.state.map;this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].drones.push(e),this.setState({map:t})}}},{key:"removeDrone",value:function(e){if(this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].drones.length-1>=0){var t=this.state.map;this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].drones.splice(e,1),this.setState({map:t})}}},{key:"updateDronePositions",value:function(e){var t,a,s=this.state.map;s.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].drones=e,a=s.attack[this.state.site],t=s.attack[this.state.site][this.state.strategyIndex].scenes,this.setState({map:s,scenes:t,strategies:a})}},{key:"insertGadget",value:function(e){var t=this.state.map,a={x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2),floor:this.state.floorIndex};"ATTACK"===this.state.type?t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions[e].push(a):t.defense[this.state.site][this.state.strategyIndex].gadgetPositions[e].push(a),this.setState({map:t})}},{key:"removeGadget",value:function(e,t){var a=this.state.map;"ATTACK"===this.state.type?a.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions[e].splice(t,1):a.defense[this.state.site][this.state.strategyIndex].gadgetPositions[e].splice(t,1),this.setState({map:a})}},{key:"updateGadgetPositions",value:function(e){var t,a,s=this.state.map;"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions=e,t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions=e,t=s.defense[this.state.site][this.state.strategyIndex].scenes,a=s.defense[this.state.site]),this.setState({map:s,scenes:t,strategies:a})}},{key:"updateUtility",value:function(e,t){var a=this.state.map;"ATTACK"===this.state.type?a.attack[this.state.site][this.state.strategyIndex].utility[t]=e.target.value:a.defense[this.state.site][this.state.strategyIndex].utility[t]=e.target.value,this.setState({map:a})}},{key:"updateUtilityPositions",value:function(e){var t,a,s=this.state.map;"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions=e,t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].utilityPositions=e,t=s.defense[this.state.site][this.state.strategyIndex].scenes,a=s.defense[this.state.site]),this.setState({map:s,scenes:t,strategies:a})}},{key:"insertUtility",value:function(e){var t=this.state.map,a={x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2),floor:this.state.floorIndex};"ATTACK"===this.state.type?t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions[e].length+1<=H.UTILITY_GUIDE[t.attack[this.state.site][this.state.strategyIndex].utility[e]]&&t.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions[e].push(a):t.defense[this.state.site][this.state.strategyIndex].utilityPositions[e].length+1<=H.UTILITY_GUIDE[t.defense[this.state.site][this.state.strategyIndex].utility[e]]&&t.defense[this.state.site][this.state.strategyIndex].utilityPositions[e].push(a),this.setState({map:t})}},{key:"removeUtility",value:function(e,t){var a=this.state.map;"ATTACK"===this.state.type?a.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions[e].splice(t,1):a.defense[this.state.site][this.state.strategyIndex].utilityPositions[e].splice(t,1),this.setState({map:a})}},{key:"updateRotatePositions",value:function(e){var t,a=this.state.map;a.defense[this.state.site][this.state.strategyIndex].rotates=e,t=a.defense[this.state.site],this.setState({map:a,strategies:t})}},{key:"insertRotate",value:function(){var e=this.state.map,t={x:Math.floor(H.CANVAS_HEIGHT/2),y:Math.floor(H.CANVAS_HEIGHT/2),floor:this.state.floorIndex};e.defense[this.state.site][this.state.strategyIndex].rotates.push(t),this.setState({map:e})}},{key:"removeRotate",value:function(e){var t=this.state.map;t.defense[this.state.site][this.state.strategyIndex].rotates.splice(e,1),this.setState({map:t})}},{key:"updateReinforcementPositions",value:function(e){var t,a=this.state.map;a.defense[this.state.site][this.state.strategyIndex].reinforcements=e,t=a.defense[this.state.site],this.setState({map:a,strategies:t})}},{key:"insertReinforcement",value:function(){if(this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements.length+1<=10){var e=this.state.map,t={x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2),floor:this.state.floorIndex};e.defense[this.state.site][this.state.strategyIndex].reinforcements.push(t),this.setState({map:e})}}},{key:"removeReinforcement",value:function(e){var t=this.state.map;t.defense[this.state.site][this.state.strategyIndex].reinforcements.splice(e,1),this.setState({map:t})}},{key:"updateBreachPositions",value:function(e){var t,a,s=this.state.map;this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].breaches=e,t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site],this.setState({map:s,scenes:t,strategies:a})}},{key:"insertBreach",value:function(){if(this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].breaches.length+1<=10){var e,t,a={x:Math.floor(H.CANVAS_WIDTH/2),y:Math.floor(H.CANVAS_HEIGHT/2),floor:this.state.floorIndex},s=this.state.map;this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].breaches.push(a),e=s.attack[this.state.site][this.state.strategyIndex].scenes,t=s.attack[this.state.site],this.setState({map:s,scenes:e,strategies:t})}}},{key:"removeBreach",value:function(e){if(this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].breaches.length-1>=0){var t,a,s=this.state.map;this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].breaches.splice(e,1),t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site],this.setState({map:s,scenes:t,strategies:a})}}},{key:"addObjective",value:function(e){var t,a,s=this.state.map;"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.push(e),t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.push(e),t=s.defense[this.state.site][this.state.strategyIndex].scenes,a=s.defense[this.state.site]),this.setState({map:s,scenes:t,strategies:a})}},{key:"removeObjective",value:function(e){var t,a,s=this.state.map;"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.splice(e,1),t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.splice(e,1),t=s.defense[this.state.site][this.state.strategyIndex].scenes,a=s.defense[this.state.site]),this.setState({map:s,scenes:t,strategies:a})}},{key:"updateNotes",value:function(e){var t,a,s=this.state.map;"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes=e.target.value,t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes=e.target.value,t=s.defense[this.state.site][this.state.strategyIndex].scenes,a=s.defense[this.state.site]),this.setState({map:s,scenes:t,strategies:a})}},{key:"updateVideo",value:function(e){var t,a,s=this.state.map;"ATTACK"===this.state.type?(s.attack[this.state.site][this.state.strategyIndex].video=e.target.value,t=s.attack[this.state.site][this.state.strategyIndex].scenes,a=s.attack[this.state.site]):(s.defense[this.state.site][this.state.strategyIndex].video=e.target.value,t=s.defense[this.state.site][this.state.strategyIndex].scenes,a=s.defense[this.state.site]),this.setState({map:s,scenes:t,strategies:a})}},{key:"componentDidMount",value:function(){this.state.mounted||(window.addEventListener("scroll",this.handleScroll),this.setState({mounted:!0}))}},{key:"handleScroll",value:function(e){var t=document.querySelector("nav.nav"),a=document.querySelector("div.toolbar"),s=document.querySelector("main"),r=document.querySelector("div.sidebar"),n=document.querySelector("div.lineup");window.scrollY>t.offsetTop+t.offsetHeight?(a.classList.add("toolbar--scroll"),r.classList.add("sidebar--scroll"),n.classList.add("lineup--scroll"),s.style.marginTop=a.offsetHeight+"px"):(a.classList.remove("toolbar--scroll"),r.classList.remove("sidebar--scroll"),n.classList.remove("lineup--scroll"),s.style.marginTop=0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e={},t={},a={},s={};return"Editor"===this.props.function&&(e.updateStrategyName=this.updateName,e.insertDrone=this.insertDrone,e.insertRotate=this.insertRotate,e.insertReinforcement=this.insertReinforcement,e.insertBreach=this.insertBreach,e.addStrategy=this.addStrategy,e.removeStrategy=this.removeStrategy,e.save=this.save,t.addScene=this.addScene,t.removeScene=this.removeScene,t.updateSceneName=this.updateSceneName,t.share=this.share,t.unshare=this.unshare,a.removeOperator=this.removeOperator,a.removeGadget=this.removeGadget,a.removeUtility=this.removeUtility,a.removeDrone=this.removeDrone,a.removeRotate=this.removeRotate,a.removeReinforcement=this.removeReinforcement,a.removeBreach=this.removeBreach,a.updateOperatorPositions=this.updateOperatorPositions,a.updateGadgetPositions=this.updateGadgetPositions,a.updateUtilityPositions=this.updateUtilityPositions,a.updateDronePositions=this.updateDronePositions,a.updateBreachPositions=this.updateBreachPositions,a.updateRotatePositions=this.updateRotatePositions,a.updateReinforcementPositions=this.updateReinforcementPositions,a.addObjective=this.addObjective,a.removeObjective=this.removeObjective,a.updateNotes=this.updateNotes,a.updateVideo=this.updateVideo,s.updateOperators=this.updateOperators,s.insertOperator=this.insertOperator,s.updateUtility=this.updateUtility,s.insertOperator=this.insertOperator,s.insertUtility=this.insertUtility,s.insertGadget=this.insertGadget),"Editor"===this.props.function||"Viewer"===this.props.function?(e.strategy="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].name:this.state.map.defense[this.state.site][this.state.strategyIndex].name,e.showMaps=this.showMaps,e.map=this.state.map,e.strategies=this.state.strategies,e.strategyIndex=this.state.strategyIndex,e.selectStrategy=this.selectStrategy,e.updateType=this.updateType,e.siteIndex=this.state.siteIndex,e.sites=this.state.sites,e.selectSite=this.selectSite,e.drones="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].drones:void 0,e.rotates="ATTACK"===this.state.type?void 0:this.state.map.defense[this.state.site][this.state.strategyIndex].rotates,e.reinforcements="ATTACK"===this.state.type?void 0:this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements,e.breaches="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].breaches:void 0,t.strategies=this.state.strategies,t.selectStrategy=this.selectStrategy,t.strategyIndex=this.state.strategyIndex,t.shared=this.state.strategies[this.state.strategyIndex].shared,t.shared_key=this.state.strategies[this.state.strategyIndex].shared_key,a.map=e.map.name,a.operators="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].operators:this.state.map.defense[this.state.site][this.state.strategyIndex].operators,a.operatorPositions="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions:this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions,a.gadgets="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].gadgets:this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets,a.gadgetPositions="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions:this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions,a.utility="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].utility:this.state.map.defense[this.state.site][this.state.strategyIndex].utility,a.utilityPositions="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions:this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions,a.drones="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].drones:void 0,a.rotates="ATTACK"===this.state.type?void 0:this.state.map.defense[this.state.site][this.state.strategyIndex].rotates,a.reinforcements="ATTACK"===this.state.type?void 0:this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements,a.breaches="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].breaches:void 0,a.objectives="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives:this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives,a.notes="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes:this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes,a.video="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].video:this.state.map.defense[this.state.site][this.state.strategyIndex].video,s.operators="ATTACK"===this.state.type?this.state.map.attack[this.state.site][this.state.strategyIndex].operators:this.state.map.defense[this.state.site][this.state.strategyIndex].operators,s.gadgetPositions=a.gadgetPositions):(e.strategy=this.state.strategy.name,e.map=this.state.strategy.map,e.drones="ATTACK"===this.state.type?this.state.strategy.scenes[this.state.sceneIndex].drones:void 0,e.rotates="ATTACK"===this.state.type?void 0:this.state.strategy.rotates,e.reinforcements="ATTACK"===this.state.type?void 0:this.state.strategy.reinforcements,e.breaches="ATTACK"===this.state.type?this.state.strategy.scenes[this.state.sceneIndex].breaches:void 0,e.utility=this.state.strategy.utility,e.sites=this.state.sites,t.map=e.map,a.operators=this.state.strategy.operators,a.operatorPositions=this.state.strategy.scenes[this.state.sceneIndex].operatorPositions,a.gadgets=this.state.strategy.gadgets,a.gadgetPositions=this.state.strategy.scenes[this.state.sceneIndex].gadgetPositions,a.utility=this.state.strategy.utility,a.utilityPositions=this.state.strategy.scenes[this.state.sceneIndex].utilityPositions,a.drones="ATTACK"===this.state.type?this.state.strategy.scenes[this.state.sceneIndex].drones:void 0,a.rotates="ATTACK"===this.state.type?void 0:this.state.strategy.rotates,a.reinforcements="ATTACK"===this.state.type?void 0:this.state.strategy.reinforcements,a.breaches="ATTACK"===this.state.type?this.state.strategy.scenes[this.state.sceneIndex].breaches:void 0,a.map=this.state.strategy.map,a.objectives=this.state.strategy.scenes[this.state.sceneIndex].objectives,a.notes=this.state.strategy.scenes[this.state.sceneIndex].notes,a.video=this.state.strategy.video,s.utility=this.state.strategy.utility,s.utilityPositions=a.utilityPositions,s.gadgetPositions=a.gadgetPositions),r.a.createElement("div",{id:this.props.function},r.a.createElement(_e,Object.assign({type:this.state.type,alert:this.props.alert,fetchStrategies:this.props.fetchStrategies,function:this.props.function},e)),r.a.createElement("main",null,r.a.createElement(ye,Object.assign({map:e.map.name,strategy:e.strategy,sites:this.state.sites,selectSite:this.selectSite,siteIndex:this.state.siteIndex,scenes:this.state.scenes,selectScene:this.selectScene,sceneIndex:this.state.sceneIndex,type:this.state.type,alert:this.props.alert,function:this.props.function},t)),r.a.createElement(Pe,Object.assign({type:this.state.type,site:this.state.site,floorIndex:this.state.floorIndex,floor:this.state.floors[this.state.floorIndex],updateFloor:this.updateFloor,floors:this.state.floors,scenes:this.state.scenes,sceneIndex:this.state.sceneIndex,selectScene:this.selectScene,function:this.props.function},a)),r.a.createElement(Ue,Object.assign({type:this.state.type,selectOperator:this.selectOperator,activeOperator:this.state.activeOperator,operators:a.operators,gadgets:a.gadgets,gadgetPositions:a.gadgetPositions,utility:a.utility,utilityPositions:a.utilityPositions,function:this.props.function},s))))}}]),a}(r.a.Component),xe=function(e){return r.a.createElement("div",{className:"loading-modal"},r.a.createElement("div",{className:"loader"},r.a.createElement("svg",{className:"circular",viewBox:"25 25 50 50"},r.a.createElement("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"}))),e.message?e.message:"Fetching Data")},je=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStrategies=s.fetchStrategies.bind(Object(d.a)(s)),s.fetchMap=s.fetchMap.bind(Object(d.a)(s)),s.state={map_name:s.props.map,loading:!0,hasLoaded:!1,errors:{}},s}return Object(c.a)(a,[{key:"fetchStrategies",value:function(){var e=this;this.setState({loading:!0,add:!1}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/strategies/view").then((function(t){switch(t.data.status){case v.STRATEGIES_FOUND.status:Object.keys(t.data.maps).filter((function(e){return H.MAP_NAMES.indexOf(e)>=0}));e.setState({loading:!1,hasLoaded:!0,maps:t.data.maps,map:void 0,map_name:void 0});break;default:e.setState({loading:!1,hasLoaded:!0}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,hasLoaded:!0}),e.props.alert(S.ERROR_VIEW_STRATEGIES.message,S.ERROR_VIEW_STRATEGIES.status)}))}},{key:"fetchMap",value:function(e){var t=this;this.setState({loading:!0});var a=e||this.state.map_name;g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/strategies/view/".concat(a.toLowerCase().replace(" ","_"))).then((function(e){switch(e.data.status){case v.MAP_FOUND.status:t.setState({loading:!1,hasLoaded:!0,map_name:a,map:e.data[a.toLowerCase()]});break;default:t.setState({loading:!1,hasLoaded:!0}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1,hasLoaded:!0}),t.props.alert(S.ERROR_VIEW_MAP.message,S.ERROR_VIEW_MAP.status)}))}},{key:"componentDidMount",value:function(){this.state.hasLoaded||(this.state.map_name?this.fetchMap():this.fetchStrategies())}},{key:"render",value:function(){var e,t=this;if(this.state.loading)e=r.a.createElement(xe,{message:"Fetching Strategies"});else if(this.state.map_name)e=this.state.hasLoaded&&this.state.map?r.a.createElement(we,{function:"Viewer",map:this.state.map,alert:this.props.alert,fetchStrategies:this.fetchStrategies}):"Waiting for server";else{var a=this.state.maps.map((function(e,a){return r.a.createElement(h.b,{to:"/strategies/".concat(e),className:"map-option",key:a,style:{backgroundImage:"url(../../media/min/maps/".concat(e.toUpperCase().replace(" ","_"),".png)")},onClick:function(){t.fetchMap(e)}},r.a.createElement("div",{className:"map-overlay"},e.toUpperCase().replace("_"," ")))}));e=r.a.createElement("div",{className:"view-container"},r.a.createElement("h1",null,"View Strategies"),"EDITOR"===this.props.status||"ADMIN"===this.props.status?r.a.createElement(h.b,{className:"button",to:"/strategies/edit"},"Edit Strategies"):"",r.a.createElement("div",{className:"map-selector"},a.length>0?a:"No maps to show."))}return r.a.createElement("div",{id:"ViewStrategiesAPI"},e)}}]),a}(r.a.Component),Fe=function(e){return r.a.createElement("div",{className:"page",id:"strategies"},r.a.createElement(je,{team_code:e.team_code,getAuthToken:e.getAuthToken,alert:e.alert,map:e.map,status:e.status}))},Ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).selectMap=s.selectMap.bind(Object(d.a)(s)),s.addMap=s.addMap.bind(Object(d.a)(s)),s.state={maps:H.MAP_NAMES.filter((function(e){return s.props.maps.indexOf(e.toLowerCase().replace(" ","_"))<0}))},s}return Object(c.a)(a,[{key:"selectMap",value:function(e){if(H.MAP_NAMES.indexOf(e)>=0){var t={name:e},a={},s={};H.SITES[e].map((function(e){s[e]=[{name:"Unnamed",operators:["OPERATOR","OPERATOR","OPERATOR","OPERATOR","OPERATOR"],utility:["UTILITY","UTILITY","UTILITY","UTILITY","UTILITY"],gadgets:["","","","",""],reinforcements:[],rotates:[],utilityPositions:[[],[],[],[],[]],gadgetPositions:[[],[],[],[],[]],video:"",scenes:[{objectives:[],operatorPositions:[{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2}],notes:"",name:"Unnamed"}]}],a[e]=[{name:"Unnamed",operators:["OPERATOR","OPERATOR","OPERATOR","OPERATOR","OPERATOR"],utility:["UTILITY","UTILITY","UTILITY","UTILITY","UTILITY"],gadgets:["","","","",""],video:"",scenes:[{objectives:[],operatorPositions:[{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2},{x:H.CANVAS_WIDTH/2,y:H.CANVAS_HEIGHT/2}],drones:[],breaches:[],utilityPositions:[[],[],[],[],[]],gadgetPositions:[[],[],[],[],[]],notes:"",name:"Unnamed"}]}]})),t.defense=s,t.attack=a,this.setState({map:t},this.addMap)}}},{key:"addMap",value:function(){var e=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.post("/api/strategies/add/".concat(this.state.map.name.toLowerCase().replace(" ","_")),{map:JSON.stringify(this.state.map)}).then((function(t){switch(t.data.status){case v.MAP_ADDED.status:e.setState({loading:!1}),e.props.alert("You have successfully added a map to your Stratbook.","SUCCESS"),e.props.fetchStrategies();break;default:e.setState({loading:!1},e.props.fetchStrategies),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,hasLoaded:!0}),e.props.alert(S.ERROR_ADD_MAP.message,S.ERROR_ADD_MAP.status)}))}},{key:"render",value:function(){var e=this,t=this.state.maps.map((function(t,a){return r.a.createElement("div",{className:"map-option",key:a,style:{backgroundImage:"url(../../media/min/maps/".concat(t.toUpperCase().replace(" ","_"),".png)")},onClick:function(){e.selectMap(t.toUpperCase())}},r.a.createElement("div",{className:"map-overlay"},t))}));return r.a.createElement("div",{id:"CreateStrategiesAPI"},this.state.loading?r.a.createElement(xe,{message:"Adding Map to Stratbook"}):r.a.createElement("div",{className:"add-map"},r.a.createElement("h1",null,"Create Strategy"),r.a.createElement("h4",null,"Add a map to your Stratbook"),r.a.createElement("div",{className:"map-selector"},t.length>0?t:r.a.createElement("p",null,"There are no maps to add to your Stratbook. Your Stratbook contains all the available maps."))))}}]),a}(r.a.Component),He=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).addMap=s.addMap.bind(Object(d.a)(s)),s.fetchStrategies=s.fetchStrategies.bind(Object(d.a)(s)),s.fetchMap=s.fetchMap.bind(Object(d.a)(s)),s.updateStrategy=s.updateStrategy.bind(Object(d.a)(s)),s.deleteMap=s.deleteMap.bind(Object(d.a)(s)),s.shareStrategy=s.shareStrategy.bind(Object(d.a)(s)),s.unshareStrategy=s.unshareStrategy.bind(Object(d.a)(s)),s.state={map_name:s.props.map,loading:!0,hasLoaded:!1,add:!1,errors:{}},s}return Object(c.a)(a,[{key:"addMap",value:function(){this.setState({add:!this.state.add})}},{key:"fetchStrategies",value:function(){var e=this;this.setState({loading:!0,add:!1}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/strategies/view").then((function(t){switch(t.data.status){case v.STRATEGIES_FOUND.status:e.setState({loading:!1,hasLoaded:!0,maps:t.data.maps,map:void 0,map_name:void 0});break;default:e.setState({loading:!1,hasLoaded:!0}),e.props.alert(t.data.message,t.data.status)}})).catch((function(t){console.log(t),e.setState({loading:!1,hasLoaded:!0}),e.props.alert(S.ERROR_VIEW_STRATEGIES.message,S.ERROR_VIEW_STRATEGIES.status)}))}},{key:"fetchMap",value:function(e){var t=this;this.setState({loading:!0,position:void 0});var a=e||this.state.map_name;g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.get("/api/strategies/view/".concat(a.toLowerCase().replace(" ","_"))).then((function(e){switch(e.data.status){case v.MAP_FOUND.status:t.setState({loading:!1,hasLoaded:!0,map_name:a,map:e.data[a.toLowerCase()]});break;default:t.setState({loading:!1,hasLoaded:!0}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1,hasLoaded:!0}),t.props.alert(S.ERROR_VIEW_MAP.message,S.ERROR_VIEW_MAP.status)}))}},{key:"updateStrategy",value:function(e,t){var a=this;this.setState({loading:!0,position:t}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/strategies/update/".concat(this.state.map.name.toLowerCase().replace(" ","_")),{map:e}).then((function(e){switch(e.data.status){case v.MAP_UPDATED.status:a.setState({loading:!1});break;default:a.setState({loading:!1},a.props.fetchStrategies),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.setState({loading:!1,hasLoaded:!0}),a.props.alert(S.ERROR_UPDATE_MAP.message,S.ERROR_UPDATE_MAP.status)}))}},{key:"shareStrategy",value:function(e,t,a){var s=this,r=this;this.setState({loading:!0,position:a}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.post("/api/strategies/share",{strategy:e}).then((function(e){switch(e.data.status){case v.STRATEGY_SHARED.status:r.setState({loading:!1},(function(){"ATTACK"===a.type?t.attack[H.SITES[t.name][a.siteIndex]][a.strategyIndex].shared_key=e.data.shared_key:t.defense[H.SITES[t.name][a.siteIndex]][a.strategyIndex].shared_key=e.data.shared_key,s.updateStrategy(JSON.stringify(t),a)}));break;default:r.setState({loading:!1},r.props.fetchStrategies),r.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),r.setState({loading:!1,hasLoaded:!0}),r.props.alert(S.ERROR_SHARED_STRATEGY.message,S.ERROR_SHARED_STRATEGY.status)}))}},{key:"unshareStrategy",value:function(e,t,a){var s=this,r=this;this.setState({loading:!0,position:a}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.patch("/api/strategies/unshare",{shared_key:e}).then((function(e){switch(e.data.status){case v.STRATEGY_UNSHARED.status:r.setState({loading:!1},(function(){s.updateStrategy(JSON.stringify(t),a)}));break;default:r.setState({loading:!1},r.props.fetchStrategies),r.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),r.setState({loading:!1,hasLoaded:!0}),r.props.alert(S.ERROR_UNSHARE_STRATEGY.message,S.ERROR_UNSHARE_STRATEGY.status)}))}},{key:"deleteMap",value:function(e,t){if(e.preventDefault(),e.stopPropagation(),window.confirm("You are about to remove ".concat(t.toUpperCase()," from your team's Stratbook. If you decide to add this map again, it will not restore the data currently stored. Are you sure?"))){var a=this;this.setState({loading:!0}),g.a.defaults.headers.common.Authorization=this.props.getAuthToken(),g.a.delete("/api/strategies/delete/".concat(t.toLowerCase().replace(" ","_"))).then((function(e){switch(e.data.status){case v.MAP_DELETED.status:a.setState({loading:!1}),a.props.alert("You have deleted the requested map","SUCCESS"),a.fetchStrategies();break;default:a.setState({loading:!1},a.props.fetchStrategies),a.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),a.setState({loading:!1,hasLoaded:!0}),a.props.alert(S.ERROR_DELETE_MAP.message,S.ERROR_DELETE_MAP.status)}))}}},{key:"componentDidMount",value:function(){this.state.hasLoaded||(this.state.map_name?this.fetchMap():this.fetchStrategies())}},{key:"render",value:function(){var e,t=this;if(this.state.loading)e=r.a.createElement(xe,{message:"Fetching Strategies"});else if(this.state.add)e=r.a.createElement("div",{className:"add-strategy"},r.a.createElement("button",{id:"cancel",onClick:this.addMap},"Cancel"),r.a.createElement(Ge,{getAuthToken:this.props.getAuthToken,alert:this.props.alert,maps:this.state.maps,fetchStrategies:this.fetchStrategies}));else if(this.state.map_name)e=this.state.hasLoaded&&this.state.map?r.a.createElement(we,{function:"Editor",map:this.state.map,alert:this.props.alert,save:this.updateStrategy,shareStrategy:this.shareStrategy,unshareStrategy:this.unshareStrategy,fetchStrategies:this.fetchStrategies,position:this.state.position}):r.a.createElement("div",null,r.a.createElement(h.b,{className:"button",to:"/strategies"},"Back to view"),r.a.createElement("button",{className:"button",onClick:this.addMap},"Add Map"));else{var a=this.state.maps.map((function(e,a){return r.a.createElement(h.b,{to:"/strategies/edit/".concat(e),className:"map-option",key:a,style:{backgroundImage:"url(../../media/min/maps/".concat(e.toUpperCase().replace(" ","_"),".png)")},onClick:function(){t.fetchMap(e)}},r.a.createElement("div",{className:"map-overlay"},e.toUpperCase().replace("_"," ")),r.a.createElement("button",{className:"delete-button",onClick:function(a){t.deleteMap(a,e)}},"\ud83d\uddd1"))}));e=r.a.createElement("div",{className:"edit-container"},r.a.createElement("h1",null,"Edit Strategies"),r.a.createElement(h.b,{className:"button",to:"/strategies"},"Back to view"),r.a.createElement("div",{className:"edit-buttons"},r.a.createElement("button",{className:"button",onClick:this.addMap},"Add Map")),r.a.createElement("div",{className:"map-selector"},a.length>0?a:"No maps to show."))}return r.a.createElement("div",{id:"EditStrategiesAPI"},e)}}]),a}(r.a.Component),Be=function(e){return r.a.createElement("div",{id:"edit-strategies"},r.a.createElement(He,{getAuthToken:e.getAuthToken,alert:e.alert,map:e.map}))},Ke=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStrategy=s.fetchStrategy.bind(Object(d.a)(s)),s.state={loading:!0,hasLoaded:!1,errors:{}},s}return Object(c.a)(a,[{key:"fetchStrategy",value:function(e){var t=this;this.setState({loading:!0}),g.a.get("/api/strategies/shared/".concat(e)).then((function(e){switch(e.data.status){case v.SHARED_STRATEGY_FOUND.status:t.setState({loading:!1,hasLoaded:!0,strategy:e.data.strategy});break;default:t.setState({loading:!1,hasLoaded:!0}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.setState({loading:!1,hasLoaded:!0}),t.props.alert(S.ERROR_VIEW_SHARED_STRATEGY.message,S.ERROR_VIEW_SHARED_STRATEGY.status)}))}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStrategy(this.props.shared_key)}},{key:"render",value:function(){var e;return e=this.state.loading?r.a.createElement(xe,{message:"Fetching Strategy"}):this.state.strategy?this.state.hasLoaded?r.a.createElement(we,{function:"SharedViewer",strategy:this.state.strategy,type:this.state.strategy.type,alert:this.props.alert}):"Waiting for server":r.a.createElement(p.a,{to:"/dashboard"}),r.a.createElement("div",{id:"SharedStrategiesAPI"},e)}}]),a}(r.a.Component),Ye=function(e){return r.a.createElement("div",{className:"page",id:"strategies"},r.a.createElement(Ke,{alert:e.alert,shared_key:e.shared_key}))},Ve=function(){return r.a.createElement("div",{className:"page",id:"not-found"},"The route you requested could not be found.")},We=function(e){return r.a.createElement("form",{className:"form",id:"ForgotPassword-form",onSubmit:e.onSubmit},r.a.createElement("h4",{className:"form__heading"},"Forgot Password"),r.a.createElement("fieldset",{className:"form__fieldset",id:"email-field"},r.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email associated with account"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.email?"":" form__input--error"),value:e.email,id:"email",type:"email",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.email:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Send Reset Link"))},ze=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={email:"",errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),g.a.patch("/api/users/forgot-password",{email:this.state.email}).then((function(e){switch(e.data.status){case v.PASSWORD_RESET_LINK_SENT.status:t.setState({loading:!1,redirect:"/login"});break;default:t.setState({loading:!1,errors:e.data.errors}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_RESET_PASSWORD.message,S.ERROR_RESET_PASSWORD.status)}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{id:"ForgotPasswordAPI"},r.a.createElement(We,{onSubmit:this.onSubmit,onChange:this.onChange,email:this.state.email,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),qe=function(e){return r.a.createElement("div",{className:"page",id:"forgot-password"},r.a.createElement(ze,{alert:e.alert}))},Xe=function(e){return r.a.createElement("form",{className:"form",id:"ResetPassword-form",onSubmit:e.onSubmit},r.a.createElement("h4",{className:"form__heading"},"Reset Password"),r.a.createElement("fieldset",{className:"form__fieldset",id:"password1-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password1"},"New Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password1?"":" form__input--error"),value:e.password1,id:"password1",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password1:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password2-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password2?"":" form__input--error"),value:e.password2,id:"password2",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password2:"")),e.loading?r.a.createElement(R,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Reset Password"))},Je=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(d.a)(s)),s.onSubmit=s.onSubmit.bind(Object(d.a)(s)),s.state={password1:"",password2:"",errors:{}},s}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),g.a.patch("/api/users/reset-password",{password1:this.state.password1,password2:this.state.password2,token:this.props.token}).then((function(e){switch(e.data.status){case N.PASSWORD_RESET.status:t.setState({loading:!1,redirect:"/login"});break;default:t.setState({loading:!1,errors:e.data.errors}),t.props.alert(e.data.message,e.data.status)}})).catch((function(e){console.log(e),t.props.alert(S.ERROR_RESET_PASSWORD.message,S.ERROR_RESET_PASSWORD.status)}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{id:"ResetPasswordAPI"},r.a.createElement(Xe,{onSubmit:this.onSubmit,onChange:this.onChange,password:this.state.password,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),Ze=function(e){return r.a.createElement("div",{className:"page",id:"Reset-password"},r.a.createElement(Je,{alert:e.alert,token:e.match.params.token}))},Qe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).toggleDropdown=s.toggleDropdown.bind(Object(d.a)(s)),s.state={active:!1},s}return Object(c.a)(a,[{key:"toggleDropdown",value:function(){this.setState({active:!this.state.active})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"user-dropdown "+(this.state.active?"user-dropdown--active":"user-dropdown--inactive")},r.a.createElement("img",{className:"user-dropdown__icon",onClick:this.toggleDropdown,alt:"User Icon",src:"../../media/min/User Icon.png"}),r.a.createElement("div",{className:"user-dropdown__body"},r.a.createElement("span",{id:"user-dropdown-title"},this.props.username),r.a.createElement(h.b,{onClick:function(){e.toggleDropdown(),e.props.toggleMenu()},className:"user-dropdown__link",to:"/user"},"Account"),r.a.createElement(h.b,{onClick:function(){e.toggleDropdown(),e.props.toggleMenu()},className:"user-dropdown__link",to:"/logout",id:"logout-link"},"Logout")))}}]),a}(r.a.Component),$e=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).toggleMenu=s.toggleMenu.bind(Object(d.a)(s)),s.state={first:!0,active:!1,loggedIn:s.props.loggedIn},s}return Object(c.a)(a,[{key:"toggleMenu",value:function(){this.setState({first:!1,active:!this.state.active,loggedIn:this.props.loggedIn}),this.state.active?setTimeout((function(){document.querySelector("nav.nav").style.zIndex=4}),300):document.querySelector("nav.nav").style.zIndex=5}},{key:"componentDidUpdate",value:function(e){this.props.loggedIn!==e.loggedIn&&this.setState({loggedIn:this.props.loggedIn})}},{key:"render",value:function(){var e=this.state.first?"":"nav--inactive";return r.a.createElement("nav",{className:"nav "+(this.state.active?"nav--active":e)},r.a.createElement("ul",{className:"nav__head"},r.a.createElement("img",{className:"nav__image",alt:"Logo",src:""}),r.a.createElement("h3",{className:"nav__heading"},"Stratbook"),r.a.createElement("span",{className:"nav__subtitle"},"[Beta]")),r.a.createElement("ul",{className:"nav__body"},r.a.createElement("li",{className:"nav__item"},r.a.createElement(h.c,{exact:!0,activeClassName:"nav__link--active",onClick:this.toggleMenu,className:"nav__link",to:"/"},"Home")),this.state.loggedIn?r.a.createElement("li",{className:"nav__item"},r.a.createElement(h.c,{exact:!0,activeClassName:"nav__link--active",onClick:this.toggleMenu,className:"nav__link",to:"/dashboard"},"Dashboard")):"",this.state.loggedIn?"":r.a.createElement("li",{className:"nav__item"},r.a.createElement(h.c,{activeClassName:"nav__link--active",onClick:this.toggleMenu,className:"nav__link",to:"/login"},"Login")),this.state.loggedIn?"":r.a.createElement("li",{className:"nav__item"},r.a.createElement(h.c,{activeClassName:"nav__link--active",onClick:this.toggleMenu,className:"nav__link",to:"/register"},"Register")),this.state.loggedIn?r.a.createElement("li",{className:"nav__item"},r.a.createElement(h.c,{activeClassName:"nav__link--active",onClick:this.toggleMenu,className:"nav__link",to:"/team"},"Team")):"",this.state.loggedIn&&this.props.team?r.a.createElement("li",{className:"nav__item"},r.a.createElement(h.c,{activeClassName:"nav__link--active",onClick:this.toggleMenu,className:"nav__link",to:"/strategies"},"Strategies")):"",this.state.loggedIn?r.a.createElement(Qe,{username:this.props.username,toggleMenu:this.toggleMenu}):""),r.a.createElement("button",{id:"nav__button",onClick:this.toggleMenu},"\u2630"))}}]),a}(r.a.Component),et=function(e){return r.a.createElement("div",{className:"alert"+("ERROR"===e.status?" alert--error":"")+("SUCCESS"===e.status?" alert--success":"")},r.a.createElement("h5",{className:"alert__type"},e.status),r.a.createElement("p",{className:"alert__message"},e.message),r.a.createElement("button",{onClick:function(){e.clearAlert(e.index)},className:"alert__button"},"X"))},tt=function(){return r.a.createElement("footer",{className:"footer"},"This is a footer.")},at=(a(69),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).login=s.login.bind(Object(d.a)(s)),s.logout=s.logout.bind(Object(d.a)(s)),s.updateState=s.updateState.bind(Object(d.a)(s)),s.setLocalStorage=s.setLocalStorage.bind(Object(d.a)(s)),s.clearLocalStorage=s.clearLocalStorage.bind(Object(d.a)(s)),s.getAuthToken=s.getAuthToken.bind(Object(d.a)(s)),s.updateAuthToken=s.updateAuthToken.bind(Object(d.a)(s)),s.alert=s.alert.bind(Object(d.a)(s)),s.clearAlert=s.clearAlert.bind(Object(d.a)(s)),s.state={loggedIn:Date.now()<new Date(localStorage.getItem("expires")),user:JSON.parse(localStorage.getItem("user")),alerts:[]},s}return Object(c.a)(a,[{key:"login",value:function(e,t,a){this.setLocalStorage(e,t,a,this.updateState),g.a.defaults.headers.common.Authorization=this.state.token}},{key:"logout",value:function(){this.clearLocalStorage(),g.a.defaults.headers.common.Authorization=null,this.updateState()}},{key:"updateState",value:function(){this.setState({loggedIn:Date.now()<new Date(localStorage.getItem("expires")),user:JSON.parse(localStorage.getItem("user"))})}},{key:"setLocalStorage",value:function(e,t,a,s){localStorage.setItem("token",e),localStorage.setItem("expires",new Date(Date.now()+t).toDateString()),localStorage.setItem("user",JSON.stringify(a)),s()}},{key:"clearLocalStorage",value:function(){localStorage.clear()}},{key:"getAuthToken",value:function(){return localStorage.getItem("token")}},{key:"updateAuthToken",value:function(){var e=this;this.state.loggedIn&&(g.a.defaults.headers.common.Authorization=localStorage.getItem("token"),g.a.get("/api/users/update-token").then((function(t){switch(t.data.status){case v.TOKEN_ISSUED.status:var a=t.data.user;e.login(t.data.token,t.data.expiresIn,a);break;default:e.alert("An error has occurred whil attempting to authenticate your login.")}})).catch((function(t){console.log(t),e.alert("Your login has expired or become invalid."),e.logout()})))}},{key:"alert",value:function(e,t){var a=Object(i.a)(this.state.alerts);a.push({message:e,status:t}),this.setState({alerts:a})}},{key:"clearAlert",value:function(e){var t=Object(i.a)(this.state.alerts);t.splice(e,1),this.setState({alerts:t})}},{key:"componentDidMount",value:function(){this.updateAuthToken()}},{key:"render",value:function(){var e=this,t=this.state.alerts.map((function(t,a){return r.a.createElement(et,{clearAlert:e.clearAlert,index:a,message:t.message,status:t.status})}));return r.a.createElement(h.a,null,r.a.createElement("div",{className:"container"},r.a.createElement($e,{loggedIn:this.state.loggedIn,username:this.state.user?this.state.user.username:"",status:this.state.user?this.state.user.status:"",team:this.state.user?this.state.user.team_code:void 0}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(A,null))),r.a.createElement(p.b,{exact:!0,path:"/user"},this.state.loggedIn?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Z,{getAuthToken:this.getAuthToken,updateAuthToken:this.updateAuthToken,logout:this.logout,username:this.state.user.username,email:this.state.user.email,platform:this.state.user.platform,attacker_role:this.state.user.attacker_role,attackers:this.state.user.attackers,defenders:this.state.user.defenders,defender_role:this.state.user.defender_role,alert:this.alert,subscription:this.state.user.subscription})):r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{exact:!0,path:"/dashboard"},this.state.loggedIn?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(re,{getAuthToken:this.getAuthToken,alert:this.alert})):r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{exact:!0,path:"/team"},this.state.loggedIn?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Ee,{getAuthToken:this.getAuthToken,updateAuthToken:this.updateAuthToken,team_code:this.state.user.team_code,alert:this.alert,status:this.state.user.status})):r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{exact:!0,path:"/team/manage"},this.state.loggedIn&&"ADMIN"===this.state.user.status?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Re,{getAuthToken:this.getAuthToken,updateAuthToken:this.updateAuthToken,alert:this.alert})):r.a.createElement(p.a,{to:"/team"})),r.a.createElement(p.b,{exact:!0,path:"/strategies"},this.state.loggedIn&&this.state.user.team_code?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Fe,{team_code:this.state.user.team_code,status:this.state.user.status,getAuthToken:this.getAuthToken,alert:this.alert})):r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{exact:!0,path:"/strategies/edit"},!this.state.loggedIn||"ADMIN"!==this.state.user.status&&"EDITOR"!==this.state.user.status?r.a.createElement(p.a,{to:"/strategies"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Be,{getAuthToken:this.getAuthToken,alert:this.alert}))),r.a.createElement(p.b,{exact:!0,path:"/strategies/edit/:map",render:function(t){if(!e.state.loggedIn||"ADMIN"!==e.state.user.status&&"EDITOR"!==e.state.user.status)return r.a.createElement(p.a,{to:"/strategies"});var a=t.match.params.map.toUpperCase();return r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Be,Object.assign({getAuthToken:e.getAuthToken,alert:e.alert,map:a},t)))}}),r.a.createElement(p.b,{exact:!0,path:"/strategies/:map",render:function(t){if(e.state.loggedIn){var a=t.match.params.map.toUpperCase();return r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Fe,Object.assign({team_code:e.state.user.team_code,status:e.state.user.status,getAuthToken:e.getAuthToken,alert:e.alert,map:a},t)))}return r.a.createElement(p.a,{to:"/"})}}),r.a.createElement(p.b,{exact:!0,path:"/shared/:shared_key",render:function(t){var a=t.match.params.shared_key;return r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(Ye,Object.assign({shared_key:a},t,{alert:e.alert})))}}),r.a.createElement(p.b,{exact:!0,path:"/login"},this.state.loggedIn?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(y,{login:this.login,alert:this.alert}))),r.a.createElement(p.b,{exact:!0,path:"/logout"},this.state.loggedIn?r.a.createElement(O,{logout:this.logout}):r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{exact:!0,path:"/register"},this.state.loggedIn?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(C,{alert:this.alert}))),r.a.createElement(p.b,{exact:!0,path:"/forgot-password"},this.state.loggedIn?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(qe,{alert:this.alert}))),r.a.createElement(p.b,{path:"/reset-password/:token",render:function(t){return r.a.createElement(Ze,Object.assign({},t,{alert:e.alert}))}}),r.a.createElement(p.b,null,r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(f,{title:"Error: 404"}),r.a.createElement(Ve,null)))),r.a.createElement(tt,null),r.a.createElement("div",{className:"alert-container"},t)))}}]),a}(r.a.Component)),st=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function rt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(at,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(window.self.addEventListener("push",(function(e){var t=e.data.json(),a=t.title,s={body:t.body};e.waitUntil(window.self.registration.showNotification(a,s))})),new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/").concat("service-worker.js");st?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):rt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):rt(t,e)}))}}()},9:function(e,t){e.exports={ANNOUNCEMENT_SENT:{status:"Announcement Sent",message:"Your announcement has been successfully sent."},ATTACKER_ROLE_SET:{status:"Attacker Role Set",message:"Your attacking role has been set."},ATTACKERS_SET:{status:"Attackers Set",message:"Your preferred attackers have been set."},BLOCKED_USERS_FOUND:{status:"Blocked Users Found",message:"Team's blocked users have been found."},CANNOT_REMOVE_SELF:{status:"Cannot Remove Self",message:"User cannot block self from team."},DEFENDER_ROLE_SET:{status:"Defender Role Set",message:"Your defending role has been set."},DEFENDERS_SET:{status:"Defenders Set",message:"Your preferred defenders have been set."},EXISTING_USER:{status:"Existing User",message:"A user with those credentials already exists."},GENERAL_STATS_FOUND:{status:"General Statistics Found",message:"General statistics have been found."},INCORRECT_PASSWORD:{status:"Incorrect Password",message:"The password entered was incorrect."},INVALID_ANNOUNCEMENT:{status:"Invalid Announcement",message:"The announcement provided is invalid."},INVALID_ATTACKER_ROLE:{status:"Invalid Attacker Role",message:"The attacking role you selected is invalid."},INVALID_ATTACKERS:{status:"Invalid Attackers",message:"The preferred attackers you selected are invalid."},INVALID_BLOCK_USER_INPUT:{status:"Invalid Block User Input",message:"The block user input provided is invalid."},INVALID_DEFENDER_ROLE:{status:"Invalid Defender Role",message:"The defending role you selected is invalid."},INVALID_DEFENDERS:{status:"Invalid Defenders",message:"The preferred defenders you selected are invalid."},INVALID_EMAIL:{status:"Invalid Email",message:"The email address provided is invalid."},INVALID_JOIN_CODE:{status:"Invalid Join Code",message:"The join code provided is invalid."},INVALID_LOGIN:{status:"Invalid Login",message:"The login input provided is invalid."},INVALID_MMR:{status:"Invalid MMR",message:"The MMR threshold provided is invalid."},INVALID_PASSWORD_INPUT:{status:"Invalid Password Input",message:"The password input provided is invalid."},INVALID_REGISTRATION:{status:"Invalid Registration",message:"The registration input provided is invalid."},INVALID_RESET_TOKEN:{status:"Invalid Reset Token",message:"The reset token provided is invalid or expired."},INVALID_PLATFORM:{status:"Invalid Platform",message:"The platform selected is invalid."},INVALID_STATUS_INPUT:{status:"Invalid Status Input",message:"The user status selected is invalid."},INVALID_TEAM_INPUT:{status:"Invalid Team Input",message:"The team name provided is invalid."},INVALID_TEAM_PLATFORM:{status:"Invalid Team Platform",message:"The platform provided is invalid."},INVALID_TEAM_STATUS:{status:"Invalid Team Status",message:"The team status requested to update to is invalid."},INVALID_USERNAME:{status:"Invalid Username",message:"The username provided is invalid."},MAP_ADDED:{status:"Map Added",message:"The requested map has been added to your Stratbook."},MAP_DELETED:{status:"Map Deleted",message:"The requested map has been deleted."},MAP_DOES_NOT_EXIST:{status:"Map Does Not Exist",message:"The requested map does not exist in your team's Stratbook."},MAP_EXISTS:{status:"Map Exists",message:"The requested map already exists in your Stratbook. In order to protect your data, a duplicate cannot be added."},MAP_FOUND:{status:"Map Found",message:"The requested map has been found."},MAP_NOT_FOUND:{status:"Map Not Found",message:"The requested map could not be found in the team's stratbook."},MAP_UPDATED:{status:"Map Updated",message:"The requested map has been updated."},OPERATOR_STATS_FOUND:{status:"Operator Statistics Found",message:"Operator statistics found."},PASSWORD_RESET_LINK_SENT:{status:"Password Reset Link Sent",message:"A link to reset your password has been sent to your email."},PERMISSION_DENIED:{status:"Permission Denied",message:"Permission to perform the action you requested has been denied."},PLATFORM_DOES_NOT_MATCH:{status:"Platform Does Not Match",message:"The platform of the team you requested to join does not match your platform."},PROFANE_INPUT:{status:"Profane Input",message:"Stratbook does not accept profane input."},PROFANE_TEAM_INPUT:{status:"Profane Team Input",message:"Stratbook does not accept profane input."},PUSH_SUBSCRIBE:{status:"Push Notifications Subscribed",message:"You have successfully subscribed to push notifications on this device."},SEASONAL_STATS_FOUND:{status:"Seasonal Statistics Found",message:"Seasonal statistics found."},SHARED_STRATEGY_FOUND:{status:"Shared Strategy Found",message:"The strategy requested has been found."},SHARED_STRATEGY_NOT_FOUND:{status:"Shared Strategy Not Found",message:"The strategy you requested could not be found."},STRATEGIES_FOUND:{status:"Strategies Found",message:"Strategies found."},STRATEGY_SHARED:{status:"Strategy Shared",message:"Your strategy has been shared successfully."},STRATEGY_UNSHARED:{status:"Strategy Unshared",message:"Your strategy has been unshared successfully."},TEAM_CREATED:{status:"Team Created",message:"You have created a team."},TEAM_DELETED:{status:"Team Deleted",message:"You have deleted your team."},TEAM_EXISTS:{status:"Team Exists",message:"A team with that name already exists."},TEAM_FOUND:{status:"Team Found",message:"Team found."},TEAM_JOINED:{status:"Team Joined",message:"You have joined the team."},TEAM_LEFT:{status:"Team Left",message:"You have left the team."},TEAM_MMR_UPDATED:{status:"Team MMR Updated",message:"You have updated the MMR threshold required to join your team."},TEAM_NAME_UPDATED:{status:"Team Name Updated",message:"You have updated the team name."},TEAM_NOT_FOUND:{status:"Team Not Found",message:"No team with the provided credentials could be found."},TEAM_PLATFORM_UPDATED:{status:"Team Platform Updated",message:"Your team platform has been successfully updated."},TEAM_STATS_FOUND:{status:"Team Statistics Found",message:"Team statistics found."},TOKEN_ISSUED:{status:"Token Issued",message:"Token issued."},USER_AND_TEAM_DELETED:{status:"User and Team Deleted",message:"You have deleted your account and your team."},USER_BLOCKED:{status:"User Blocked",message:"You have blocked the requested user."},USER_UNBLOCKED:{status:"User Unblocked",message:"You have unblocked the requested user."},USER_DELETED:{status:"User Deleted",message:"You have deleted your account."},USER_HAS_NO_TEAM:{status:"User Has No Team",message:"You must have a team to perform this action."},USER_HAS_TEAM:{status:"User Has Team",message:"You cannot perform this action if you are a part of a team."},USER_NOT_FOUND:{status:"User Not Found",message:"Unable to find user with provided credentials.",errors:{email:"No user with that email address was found."}},USER_NOT_VERIFIED:{status:"User Not Verified",message:"You must verify your account to perform this action."}}}},[[40,1,2]]]);
//# sourceMappingURL=main.eed65d71.chunk.js.map