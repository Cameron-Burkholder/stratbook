{"version":3,"sources":["components/pages/Home.js","components/partials/Loading.js","components/partials/LoginForm.js","components/api/LoginAPI.js","components/pages/Login.js","components/pages/Logout.js","components/partials/RegisterForm.js","components/api/RegisterAPI.js","components/pages/Register.js","components/partials/UpdatePlatformForm.js","components/api/UpdatePlatformAPI.js","components/partials/UpdateUsernameForm.js","components/api/UpdateUsernameAPI.js","components/partials/UpdateEmailForm.js","components/api/UpdateEmailAPI.js","components/partials/UpdatePasswordForm.js","components/api/UpdatePasswordAPI.js","components/partials/AttackerRoleForm.js","components/api/SetAttackerRoleAPI.js","components/partials/AttackersForm.js","components/api/SetAttackersAPI.js","components/partials/DefenderRoleForm.js","components/api/SetDefenderRoleAPI.js","components/partials/DefendersForm.js","components/api/SetDefendersAPI.js","components/api/PushNotificationsAPI.js","components/api/DeleteUserAPI.js","components/pages/User.js","components/partials/ProgressCircle.js","components/api/GeneralStatisticsAPI.js","components/api/SeasonalStatisticsAPI.js","components/partials/OperatorStatistics.js","components/api/OperatorStatisticsAPI.js","components/pages/Dashboard.js","components/partials/CreateTeamForm.js","components/api/CreateTeamAPI.js","components/partials/JoinTeamForm.js","components/api/JoinTeamAPI.js","components/partials/ErrorLoading.js","components/partials/TeamMember.js","components/api/ViewTeamAPI.js","components/partials/TeamMemberStats.js","components/api/ViewTeamStatisticsAPI.js","components/api/LeaveTeamAPI.js","components/pages/Team.js","components/api/UpdateTeamNameAPI.js","components/partials/ManageTeamMember.js","components/api/ManageTeamAPI.js","components/api/DeleteTeamAPI.js","components/api/BlockedUsersAPI.js","components/pages/ManageTeam.js","components/partials/LoadingModal.js","components/api/ViewStrategiesAPI.js","components/pages/Strategies.js","components/partials/MapSelector.js","components/partials/Toolbar.js","components/partials/Sidebar.js","components/partials/FloorSelector.js","components/partials/DragItem.js","components/partials/PositionOverlay.js","components/partials/BlueprintForm.js","components/partials/Canvas.js","components/partials/Lineup.js","components/api/CreateStrategiesAPI.js","components/api/EditStrategiesAPI.js","components/pages/EditStrategies.js","components/pages/NotFound.js","components/partials/ForgotPasswordForm.js","components/api/ForgotPasswordAPI.js","components/pages/ForgotPassword.js","components/partials/ResetPasswordForm.js","components/api/ResetPasswordAPI.js","components/pages/ResetPassword.js","components/partials/UserDropdown.js","components/partials/Navigation.js","components/partials/Alert.js","components/partials/Header.js","components/partials/Footer.js","App.js","serviceWorker.js","index.js","data.js"],"names":["Home","className","id","Loading","viewBox","cx","cy","r","fill","strokeWidth","strokeMiterlimit","LoginForm","props","onSubmit","htmlFor","onChange","errors","email","value","type","required","user","password","to","loading","LoginAPI","bind","state","e","this","setState","target","preventDefault","component","axios","post","then","response","data","status","login","token","expiresIn","alert","message","catch","error","console","log","React","Component","Login","Logout","logout","RegisterForm","username","platform","password1","password2","RegisterAPI","redirect","platform2","Register","UpdatePlatformForm","UpdatePlatformAPI","defaults","headers","common","getAuthToken","patch","updateAuthToken","UpdateUsernameForm","UpdateUsernameAPI","UpdateEmailForm","UpdateEmailAPI","UpdatePasswordForm","UpdatePasswordAPI","AttackerRoleForm","role","attacker_role","SetAttackerRoleAPI","AttackersForm","attacker_buttons","ATTACKERS","map","attacker","index","key","attackers","indexOf","toLowerCase","checked","alt","src","SetAttackersAPI","new_attackers","splice","DefenderRoleForm","defender_role","SetDefenderRoleAPI","DefendersForm","defender_buttons","DEFENDERS","defender","defenders","SetDefendersAPI","new_defenders","convertedVapidKey","base64String","padding","repeat","length","base64","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","urlBase64ToUint8Array","PushNotificationsAPI","subscribePush","unsubscribePush","navigator","serviceWorker","ready","registration","pushManager","subscribe","userVisibleOnly","applicationServerKey","subscription","getSubscription","unsubscribe","delete","onClick","DeleteUserAPI","confirm","User","ProgressCircle","count","counted","counter","setInterval","label","Math","floor","GeneralStatisticsAPI","fetchStats","stats","undefined","hasLoaded","get","avatar_url_256","progression","level","general","playtime","games_played","kd","kills","deaths","round","headshots","wl","wins","losses","queue","ranked","SeasonalStatisticsAPI","season_arr","CURRENT_SEASON","split","season","charAt","toUpperCase","slice","seasons","regions","ncsa","rank_text","mmr","last_match_mmr_change","OperatorStatistics","image","name","hsp","OperatorStatisticsAPI","sortOperators","searchOperators","toggleRows","search","rows","operators","sort","a","b","operator","includes","push","badge_image","placeholder","Dashboard","CreateTeamForm","CreateTeamAPI","JoinTeamForm","join_code","JoinTeamAPI","ErrorLoading","href","TeamMember","ViewTeamAPI","fetchTeamData","team","contents","teamMembers","admins","admin","editors","editor","members","member","TeamMemberStats","mmrchange","ViewTeamStatisticsAPI","fetchTeamStats","LeaveTeamAPI","Team","team_code","UpdateTeamNameAPI","fetchTeamName","currentName","newName","ManageTeamMember","updateUserStatus","blockUser","ManageTeamAPI","setTimeout","location","reload","DeleteTeamAPI","BlockedUsersAPI","fetchBlockedUsers","unblockUser","blocked_users","_id","ManageTeam","LoadingModal","ViewStrategiesAPI","fetchStrategies","selectStrategy","exitStrategy","strategies","listView","maps","Object","keys","filter","MAP_NAMES","strats","strat","Strategies","MapSelector","MAPS","selectMap","Toolbar","changeName","updateName","updateStrategyName","toggleStrategyNavigation","strategy","active","nav","prevProps","prevState","sites","site","selectSite","siteIndex","strategyIndex","insertDrone","insertBreach","insertRotate","insertReinforcement","save","showMaps","updateType","addStrategy","removeStrategy","Sidebar","stopPropagation","updateSceneName","scenes","scene","sceneIndex","selectScene","addScene","removeScene","FloorSelector","options","floors","DragItem","drag","style","top","y","left","x","backgroundImage","url","backgroundSize","backgroundPosition","onMouseDown","selectElement","gindex","uindex","data-type","PositionOverlay","onMouseMove","onMouseUp","detectChange","selector","createRef","operatorPositions","gadgetPositions","utilityPositions","drones","rotates","reinforcements","breaches","gi","document","addEventListener","newPositions","positions","newX","pageX","bounds","width","newY","pageY","height","removeEventListener","updateOperatorPositions","updateDronePositions","updateGadgetPositions","updateUtilityPositions","updateRotatePositions","updateReinforcementPositions","updateBreachPositions","bool","current","getBoundingClientRect","pos","floorIndex","gadgets","forEach","g","utility","u","ref","BlueprintForm","Canvas","updateFloor","attackRoles","ATTACKER_ROLES","defenderRoles","DEFENDER_ROLES","utility_guide","UTILITY","Lineup","roleOptions","option","ATTACKER_OPERATORS","DEFENDER_OPERATORS","lineup","roles","operatorOptions","utilityOptions","attack","gadget","defense","activeOperator","updateRoles","updateOperators","disabled","selectOperator","insertOperator","removeOperator","insertGadget","removeGadget","updateUtility","insertUtility","removeUtility","CreateStrategiesAPI","removeDrone","removeRotate","removeReinforcement","removeBreach","attackStrategy","SITES","objectives","notes","defenseStrategy","FLOORS","newStrategies","newScene","JSON","parse","stringify","GADGETS","drone","pop","UTILITY_GUIDE","rotate","reinforcement","breach","EditStrategiesAPI","addMap","updateStrategy","deleteStrategy","onSearchChange","removeObjective","getComponent","add","newObjective","execution","newRoles","newOperators","newUtility","newObjectives","EditStrategies","NotFound","ForgotPasswordForm","ForgotPasswordAPI","ForgotPassword","ResetPasswordForm","ResetPasswordAPI","ResetPassword","match","params","UserDropdown","toggleDropdown","toggleMenu","Navigation","first","loggedIn","inactiveClass","exact","activeClassName","Alert","clearAlert","Header","background","title","subtitle","Footer","App","updateState","setLocalStorage","clearLocalStorage","Date","now","localStorage","getItem","alerts","callback","setItem","toDateString","clear","msg","newAlerts","path","render","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","StrictMode","getElementById","URL","process","origin","fetch","contentType","unregister","checkValidServiceWorker","self","event","json","body","waitUntil","showNotification","module","exports"],"mappings":"+QAgBeA,EARF,WACX,OACE,yBAAKC,UAAU,OAAOC,GAAG,QAAzB,2B,QCQWC,EAVC,WACd,OACE,yBAAKF,UAAU,UACb,yBAAKA,UAAU,WAAWG,QAAQ,eAChC,4BAAQH,UAAU,OAAOI,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,KAAK,OAAOC,YAAY,IAAIC,iBAAiB,UC0BtFC,EArBG,SAACC,GACjB,OACE,0BAAMX,UAAU,OAAOC,GAAG,aAAaW,SAAUD,EAAMC,UACrD,wBAAIZ,UAAU,iBAAd,cACA,8BAAUA,UAAU,iBAAiBC,GAAG,eACtC,2BAAOD,UAAU,cAAca,QAAQ,SAAvC,SACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAgC,MAAtBJ,EAAMI,OAAOC,MAAgB,GAAK,uBAAwBC,MAAON,EAAMK,MAAOf,GAAG,QAAQiB,KAAK,QAAQC,UAAQ,IAC3L,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOC,MAAQ,IACpE,0BAAMhB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOK,KAAO,KAErE,8BAAUpB,UAAU,iBAAiBC,GAAG,kBACtC,2BAAOD,UAAU,cAAca,QAAQ,YAAvC,YACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAmC,MAAzBJ,EAAMI,OAAOM,SAAmB,GAAK,uBAAwBJ,MAAON,EAAMU,SAAUpB,GAAG,WAAWiB,KAAK,WAAWC,UAAQ,IACvM,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOM,SAAW,IACvE,kBAAC,IAAD,CAAMC,GAAG,oBAAT,qBAEAX,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,oCAAoCkB,KAAK,UAA3D,WCqDtBM,E,kDAnEb,WAAYb,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXV,MAAO,GACPK,SAAU,GACVN,OAAQ,IATO,E,qDAiBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GACPA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAMC,KAAK,mBAAoB,CAC7BlB,MAAOY,KAAKF,MAAMV,MAClBK,SAAUO,KAAKF,MAAML,WACpBc,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,eACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM4B,MAAMH,EAASC,KAAKG,MAAOJ,EAASC,KAAKI,UAAWL,EAASC,KAAKjB,MAClF,MACF,QACEY,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASO,QAAQL,OAAQF,EAASC,KAAKC,YAGhEM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,oDAAqD,c,+BAI7E,OACE,yBAAKzC,GAAG,YACN,kBAAC,EAAD,CAAWW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUE,MAAOY,KAAKF,MAAMV,MAAOK,SAAUO,KAAKF,MAAML,SAAUN,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GA9DrJyB,IAAMC,WCEdC,EARD,SAACvC,GACb,OACE,yBAAKX,UAAU,OAAOC,GAAG,SACvB,kBAAC,EAAD,CAAUsC,MAAO5B,EAAM4B,MAAOG,MAAO/B,EAAM+B,UCClCS,EAPA,SAACxC,GAEd,OADAA,EAAMyC,SAEJ,yBAAKpD,UAAU,OAAOC,GAAG,YC+CdoD,EAxCM,SAAC1C,GACpB,OACE,0BAAMX,UAAU,OAAOC,GAAG,gBAAgBW,SAAUD,EAAMC,UACxD,wBAAIZ,UAAU,iBAAd,iBACA,8BAAUA,UAAU,iBAAiBC,GAAG,kBACtC,2BAAOD,UAAU,cAAca,QAAQ,YAAvC,YACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAmC,MAAzBJ,EAAMI,OAAOuC,SAAmB,GAAK,uBAAwBrC,MAAON,EAAM2C,SAAUrD,GAAG,WAAWiB,KAAK,OAAOC,UAAQ,IACnM,0BAAMnB,UAAU,qBAAhB,uBACA,0BAAMA,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOuC,SAAW,KAEzE,8BAAUtD,UAAU,iBAAiBC,GAAG,eACtC,2BAAOD,UAAU,cAAca,QAAQ,SAAvC,SACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAgC,MAAtBJ,EAAMI,OAAOC,MAAgB,GAAK,uBAAwBC,MAAON,EAAMK,MAAOf,GAAG,QAAQiB,KAAK,QAAQC,UAAQ,IAC3L,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOC,MAAQ,IACpE,0BAAMhB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOK,KAAO,KAErE,8BAAUpB,UAAU,iBAAiBC,GAAG,kBACtC,2BAAOD,UAAU,cAAca,QAAQ,YAAvC,YACA,4BAAQC,SAAUH,EAAMG,SAAUd,UAAW,gBAAkBW,EAAMI,QAAmC,MAAzBJ,EAAMI,OAAOwC,SAAmB,GAAK,uBAAwBtC,MAAON,EAAM4C,SAAUtD,GAAG,WAAWkB,UAAQ,GACvL,wCACA,sCACA,wCAEF,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOwC,SAAW,KAEzE,8BAAUvD,UAAU,iBAAiBC,GAAG,mBACtC,2BAAOD,UAAU,cAAca,QAAQ,aAAvC,YACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAoC,MAA1BJ,EAAMI,OAAOyC,UAAoB,GAAK,uBAAwBvC,MAAON,EAAM6C,UAAWvD,GAAG,YAAYiB,KAAK,WAAWC,UAAQ,IAC1M,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOyC,UAAY,KAE1E,8BAAUxD,UAAU,iBAAiBC,GAAG,mBACtC,2BAAOD,UAAU,cAAca,QAAQ,aAAvC,oBACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAoC,MAA1BJ,EAAMI,OAAO0C,UAAoB,GAAK,uBAAwBxC,MAAON,EAAM8C,UAAWxD,GAAG,YAAYiB,KAAK,WAAWC,UAAQ,IAC1M,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAO0C,UAAY,KAExE9C,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,oCAAoCkB,KAAK,UAA3D,cC4CtBwC,E,kDA7Eb,WAAY/C,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACX4B,SAAU,GACVtC,MAAO,GACPwC,UAAW,GACXC,UAAW,GACXF,SAAU,OACVxC,OAAQ,IAZO,E,qDAoBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GACPA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAMC,KAAK,sBAAuB,CAChCoB,SAAU1B,KAAKF,MAAM4B,SACrBtC,MAAOY,KAAKF,MAAMV,MAClBuC,SAAU3B,KAAKF,MAAM6B,SACrBC,UAAW5B,KAAKF,MAAM8B,UACtBC,UAAW7B,KAAKF,MAAM+B,YACrBtB,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,kBACHN,EAAUH,SAAS,CACjBN,SAAS,EACToC,SAAU,WAEZ,MACF,QACE3B,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,sDAAuD,c,+BAI/E,OAAId,KAAKF,MAAMiC,SACN,kBAAC,IAAD,CAAUrC,GAAIM,KAAKF,MAAMiC,WAG9B,yBAAK1D,GAAG,eACN,kBAAC,EAAD,CAAcW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUE,MAAOY,KAAKF,MAAMV,MAAOwC,UAAW5B,KAAKF,MAAM8B,UAAWC,UAAW7B,KAAKF,MAAMkC,UAAWL,SAAU3B,KAAKF,MAAM6B,SAAUxC,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GAvEzNyB,IAAMC,WCDjBY,EARE,SAAClD,GAChB,OACE,yBAAKX,UAAU,OAAOC,GAAG,YACvB,kBAAC,EAAD,CAAayC,MAAO/B,EAAM+B,UCiBjBoB,EAjBY,SAACnD,GAC1B,OACE,0BAAMX,UAAU,OAAOC,GAAG,uBAAuBW,SAAUD,EAAMC,UAC/D,uBAAGZ,UAAU,iBAAb,mBACA,8BAAUA,UAAU,iBAAiBC,GAAG,kBACtC,2BAAOD,UAAU,eAAjB,YACA,4BAAQc,SAAUH,EAAMG,SAAUd,UAAW,gBAAkBW,EAAMI,QAAmC,MAAzBJ,EAAMI,OAAOwC,SAAmB,GAAK,uBAAwBtC,MAAON,EAAM4C,SAAUtD,GAAG,WAAWkB,UAAQ,GACvL,wCACA,sCACA,wCAEF,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOwC,SAAW,OC0DhEQ,E,kDAlEb,WAAYpD,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACX6B,SAAU,EAAK5C,MAAM4C,SACrBxC,OAAQ,IARO,E,qDAgBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,OACvBW,KAAKhB,Y,iCAOE,IAAD,OACHoB,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,6BAA8B,CACxCb,SAAU3B,KAAKF,MAAM6B,WACpBpB,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,kCAAmC,WACzD,EAAK/B,MAAM0D,kBACX,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,6DAA8D,c,+BAItF,OACE,yBAAK1C,UAAU,SAASC,GAAG,qBACzB,kBAAC,EAAD,CAAoBa,SAAUc,KAAKd,SAAUyC,SAAU3B,KAAKF,MAAM6B,SAAUxC,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GA7DnGyB,IAAMC,WCcvBqB,EAfY,SAAC3D,GAC1B,OACE,0BAAMX,UAAU,OAAOC,GAAG,uBAAuBW,SAAUD,EAAMC,UAC/D,uBAAGZ,UAAU,iBAAb,mBACA,8BAAUA,UAAU,iBAAiBC,GAAG,kBACtC,2BAAOD,UAAU,cAAca,QAAQ,YAAvC,YACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAmC,MAAzBJ,EAAMI,OAAOuC,SAAmB,GAAK,uBAAwBrC,MAAON,EAAM2C,SAAUrD,GAAG,WAAWiB,KAAK,OAAOC,UAAQ,IACnM,0BAAMnB,UAAU,qBAAhB,uBACA,0BAAMA,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOuC,SAAW,KAEvE3C,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,oCAAoCkB,KAAK,UAA3D,UC2DtBqD,E,kDAnEb,WAAY5D,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACX4B,SAAU,EAAK3C,MAAM2C,SACrBvC,OAAQ,IARO,E,qDAgBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GAAI,IAAD,OACVA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,6BAA8B,CACxCd,SAAU1B,KAAKF,MAAM4B,WACpBnB,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,kCAAmC,WACzD,EAAK/B,MAAM0D,kBACX,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,6DAA8D,c,+BAItF,OACE,yBAAK1C,UAAU,SAASC,GAAG,qBACzB,kBAAC,EAAD,CAAoBW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUwC,SAAU1B,KAAKF,MAAM4B,SAAUvC,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GA9D5HyB,IAAMC,WCavBuB,EAdS,SAAC7D,GACvB,OACE,0BAAMX,UAAU,OAAOC,GAAG,oBAAoBW,SAAUD,EAAMC,UAC5D,uBAAGZ,UAAU,iBAAb,gBACA,8BAAUA,UAAU,iBAAiBC,GAAG,eACtC,2BAAOD,UAAU,cAAca,QAAQ,SAAvC,SACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAgC,MAAtBJ,EAAMI,OAAOC,MAAgB,GAAK,uBAAwBC,MAAON,EAAMK,MAAOf,GAAG,QAAQiB,KAAK,QAAQC,UAAQ,IAC3L,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOC,MAAQ,KAEpEL,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,oCAAoCkB,KAAK,UAA3D,UC4DtBuD,E,kDAnEb,WAAY9D,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXV,MAAO,EAAKL,MAAMK,MAClBD,OAAQ,IARO,E,qDAgBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GAAI,IAAD,OACVA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,0BAA2B,CACrCpD,MAAOY,KAAKF,MAAMV,QACjBmB,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,gBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,+BAAgC,WACtD,EAAK/B,MAAM0D,kBACX,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,0DAA2D,c,+BAInF,OACE,yBAAK1C,UAAU,SAASC,GAAG,kBACzB,kBAAC,EAAD,CAAiBW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUE,MAAOY,KAAKF,MAAMV,MAAOD,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GA9DtHyB,IAAMC,WCiBpByB,EAnBY,SAAC/D,GAC1B,OACE,0BAAMX,UAAU,OAAOC,GAAG,uBAAuBW,SAAUD,EAAMC,UAC/D,uBAAGZ,UAAU,iBAAb,mBACA,8BAAUA,UAAU,iBAAiBC,GAAG,mBACtC,2BAAOD,UAAU,cAAca,QAAQ,aAAvC,gBACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAoC,MAA1BJ,EAAMI,OAAOyC,UAAoB,GAAK,uBAAwBvC,MAAON,EAAM6C,UAAWvD,GAAG,YAAYiB,KAAK,WAAWC,UAAQ,IAC1M,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOyC,UAAY,KAE1E,8BAAUxD,UAAU,iBAAiBC,GAAG,mBACtC,2BAAOD,UAAU,cAAca,QAAQ,aAAvC,wBACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAoC,MAA1BJ,EAAMI,OAAO0C,UAAoB,GAAK,uBAAwBxC,MAAON,EAAM8C,UAAWxD,GAAG,YAAYiB,KAAK,WAAWC,UAAQ,IAC1M,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAO0C,UAAY,KAExE9C,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,oCAAoCkB,KAAK,UAA3D,UC0DtByD,E,kDArEb,WAAYhE,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACX8B,UAAW,GACXC,UAAW,GACX1C,OAAQ,IATO,E,qDAiBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GAAI,IAAD,OACVA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,6BAA8B,CACxCZ,UAAW5B,KAAKF,MAAM8B,UACtBC,UAAW7B,KAAKF,MAAM+B,YACrBtB,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,kCAAmC,WACzD,EAAK/B,MAAM0D,kBACX,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,6DAA8D,c,+BAItF,OACE,yBAAK1C,UAAU,SAASC,GAAG,qBACzB,kBAAC,EAAD,CAAoBW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUC,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GAhE7FyB,IAAMC,WCoBvB2B,EAtBU,SAACjE,GACxB,OACE,0BAAMX,UAAU,OAAOC,GAAG,yBAAyBW,SAAUD,EAAMC,UACjE,8BAAUZ,UAAU,iBAAiBC,GAAG,uBACtC,2BAAOD,UAAU,cAAca,QAAQ,iBAAvC,yBACA,4BAAQC,SAAUH,EAAMG,SAAUd,UAAW,gBAAkBW,EAAMI,QAAUJ,EAAMI,OAAO8D,KAAO,sBAAwB,IAAK5D,MAAON,EAAMmE,cAAe7E,GAAG,gBAAgBkB,UAAQ,GACrL,wCACA,+CACA,+CACA,8CACA,2DACA,yCACA,iDACA,2CACA,+CAEF,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAO8D,KAAO,OC0D5DE,E,kDAvEb,WAAYpE,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,EACTuD,cAAe,EAAKnE,MAAMmE,eARX,E,qDAiBVnD,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,OACvBW,KAAKhB,Y,iCASR,IAAMoB,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,+BAAgC,CAC1CS,KAAMjD,KAAKF,MAAMoD,gBAChB3C,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,oBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM0D,kBAChB,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,8DAA+D,c,+BAIvF,OACE,yBAAKzC,GAAG,sBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAAkBuD,cAAelD,KAAKF,MAAMoD,cAAehE,SAAUc,KAAKd,SAAUF,SAAUgB,KAAKhB,SAAUG,OAAQa,KAAKF,MAAMX,c,GAjEzGiC,IAAMC,W,OCyBxB+B,EAzBO,SAACrE,GACrB,IAAMsE,EAAmBC,YAAUC,KAAI,SAACC,EAAUC,GAChD,OACE,yBAAKrF,UAAU,2BAA2BsF,IAAKD,GAC7C,2BAAOvE,SAAU,WAAQH,EAAMG,SAASsE,IAAepF,UAAW,0BAA4BW,EAAM4E,UAAUC,QAAQJ,IAAa,EAAI,iCAAmC,IAAKlE,KAAK,WAAWjB,GAAI,0BAA4BmF,EAASK,cAAeC,QAAS/E,EAAM4E,UAAUC,QAAQJ,IAAa,EAAGE,IAAKD,IAC7S,2BAAOrF,UAAU,wBAAwBa,QAAS,0BAA4BuE,EAASK,eACrF,yBAAKzF,UAAU,wBAAwB2F,IAAKP,EAAW,SAAUQ,IAAK,kCAAoCR,EAASK,cAAgB,oBAK3I,OACE,0BAAMzF,UAAU,OAAOC,GAAG,qBAAqBW,SAAUD,EAAMC,UAC7D,8BAAUZ,UAAU,iBAAiBC,GAAG,mBACtC,6BACE,uBAAGD,UAAU,eAAb,uBACIiF,EACJ,0BAAMjF,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOwE,UAAY,IACxE,4BAAQvF,UAAU,oCAAoCkB,KAAK,UAA3D,YCgEK2E,E,kDAjFb,WAAYlF,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,EACTgE,UAAW,EAAK5E,MAAM4E,WARP,E,qDAiBVH,GACP,IAAMC,EAAQzD,KAAKF,MAAM6D,UAAUC,QAAQJ,GAC3C,GAAIC,EAAQ,EACVzD,KAAKC,SAAS,CACZ0D,UAAU,GAAD,mBAAM3D,KAAKF,MAAM6D,WAAjB,CAA4BH,UAElC,CACL,IAAIU,EAAa,YAAOlE,KAAKF,MAAM6D,WACnCO,EAAcC,OAAOV,EAAO,GAC5BzD,KAAKC,SAAS,CACZ0D,UAAWO,O,+BAURnE,GACPA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,2BAA4B,CACtCmB,UAAW3D,KAAKF,MAAM6D,YACrBpD,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,gBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM0D,kBAChB,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,2DAA4D,c,+BAIpF,OACE,yBAAKzC,GAAG,mBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAAegE,UAAW3D,KAAKF,MAAM6D,UAAWzE,SAAUc,KAAKd,SAAUF,SAAUgB,KAAKhB,SAAUG,OAAQa,KAAKF,MAAMX,c,GA3EjGiC,IAAMC,WCqBrB+C,EAtBU,SAACrF,GACxB,OACE,0BAAMX,UAAU,OAAOC,GAAG,yBAAyBW,SAAUD,EAAMC,UACjE,8BAAUZ,UAAU,iBAAiBC,GAAG,uBACtC,2BAAOD,UAAU,cAAca,QAAQ,iBAAvC,yBACA,4BAAQC,SAAUH,EAAMG,SAAUd,UAAW,gBAAkBW,EAAMI,QAAUJ,EAAMI,OAAO8D,KAAO,sBAAwB,IAAK5D,MAAON,EAAMsF,cAAehG,GAAG,gBAAgBkB,UAAQ,GACrL,wCACA,sDACA,gDACA,yCACA,+CACA,yCACA,gDACA,2CACA,yCAEF,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAO8D,KAAO,OCyD5DqB,E,kDAxEb,WAAYvF,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,EACT0E,cAAe,EAAKtF,MAAMsF,eARX,E,qDAiBVtE,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,OACvBW,KAAKhB,Y,iCAUR,IAAMoB,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,+BAAgC,CAC1CS,KAAMjD,KAAKF,MAAMuE,gBAChB9D,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,oBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM0D,kBAChB,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,+DAAgE,c,+BAIxF,OACE,yBAAKzC,GAAG,sBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAAkB0E,cAAerE,KAAKF,MAAMuE,cAAenF,SAAUc,KAAKd,SAAUF,SAAUgB,KAAKhB,SAAUG,OAAQa,KAAKF,MAAMX,c,GAlEzGiC,IAAMC,WC0BxBkD,EAzBO,SAACxF,GACrB,IAAMyF,EAAmBC,YAAUlB,KAAI,SAACmB,EAAUjB,GAChD,OACE,yBAAKrF,UAAU,2BAA2BsF,IAAKD,GAC7C,2BAAOvE,SAAU,WAAQH,EAAMG,SAASwF,IAAetG,UAAW,0BAA4BW,EAAM4F,UAAUf,QAAQc,IAAa,EAAI,iCAAmC,IAAKpF,KAAK,WAAWjB,GAAI,6BAA+BqG,EAASb,cAAeC,QAAS/E,EAAM4F,UAAUf,QAAQc,IAAa,IACxS,2BAAOtG,UAAU,wBAAwBa,QAAS,6BAA+ByF,EAASb,eACxF,yBAAKzF,UAAU,wBAAwB2F,IAAKW,EAAW,SAAUV,IAAK,kCAAoCU,EAASb,cAAgB,oBAK3I,OACE,0BAAMzF,UAAU,OAAOC,GAAG,qBAAqBW,SAAUD,EAAMC,UAC7D,8BAAUZ,UAAU,iBAAiBC,GAAG,mBACtC,6BACE,uBAAGD,UAAU,eAAb,uBACIoG,EACJ,0BAAMpG,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOwF,UAAY,IACxE,4BAAQvG,UAAU,oCAAoCkB,KAAK,UAA3D,YCgEKsF,E,kDAjFb,WAAY7F,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,EACTgF,UAAW,EAAK5F,MAAM4F,WARP,E,qDAiBVD,GACP,IAAMjB,EAAQzD,KAAKF,MAAM6E,UAAUf,QAAQc,GAC3C,GAAIjB,EAAQ,EACVzD,KAAKC,SAAS,CACZ0E,UAAU,GAAD,mBAAM3E,KAAKF,MAAM6E,WAAjB,CAA4BD,UAElC,CACL,IAAIG,EAAa,YAAO7E,KAAKF,MAAM6E,WACnCE,EAAcV,OAAOV,EAAO,GAC5BzD,KAAKC,SAAS,CACZ0E,UAAWE,O,+BAUR9E,GACPA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,2BAA4B,CACtCmC,UAAW3E,KAAKF,MAAM6E,YACrBpE,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,gBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM0D,kBAChB,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,2DAA4D,c,+BAIpF,OACE,yBAAKzC,GAAG,mBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAAegF,UAAW3E,KAAKF,MAAM6E,UAAWzF,SAAUc,KAAKd,SAAUF,SAAUgB,KAAKhB,SAAUG,OAAQa,KAAKF,MAAMX,c,GA3EjGiC,IAAMC,WCR9ByD,EAEN,SAA+BC,GAO7B,IANA,IAAMC,EAAU,IAAIC,QAAQ,EAAIF,EAAaG,OAAS,GAAK,GACrDC,GAAUJ,EAAeC,GAASI,QAAQ,MAAO,KAAKA,QAAQ,KAAM,KAEpEC,EAAUC,OAAOC,KAAKJ,GACtBK,EAAc,IAAIC,WAAWJ,EAAQH,QAElCQ,EAAI,EAAGA,EAAIL,EAAQH,SAAUQ,EACpCF,EAAYE,GAAKL,EAAQM,WAAWD,GAEtC,OAAOF,EAZiBI,CADH,2F,IA4HRC,E,kDAzGb,WAAY9G,GAAQ,IAAD,8BACjB,cAAMA,IAED+G,cAAgB,EAAKA,cAAcjG,KAAnB,gBACrB,EAAKkG,gBAAkB,EAAKA,gBAAgBlG,KAArB,gBAEvB,EAAKC,MAAQ,CACXH,SAAS,GAPM,E,4DAWjB,IAAMS,EAAYJ,KAClBgG,UAAUC,cAAcC,MAAM3F,MAAK,SAAC4F,GAC7BA,EAAaC,YAKlBD,EAAaC,YAAYC,UAAU,CACjCC,iBAAiB,EACjBC,qBAAsBzB,IACrBvE,MAAK,SAACiG,GACPpG,EAAUH,SAAS,CACjBN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDlC,EAAUrB,MAAMwD,eACjElC,IAAMC,KAAK,qBAAsB,CAC/BkG,aAAcA,IACbjG,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,UACHN,EAAUH,SAAS,CACjBN,SAAS,IAEX,MAGF,QACES,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,oEAAqE,eAhC7FwE,OAAOxE,MAAM,wC,wCAsCjB,IAAMV,EAAYJ,KAClBgG,UAAUC,cAAcC,MAAM3F,MAAK,SAAC4F,GAClCA,EAAaC,YAAYK,kBAAkBlG,MAAK,SAACiG,GAC1CA,GAILA,EAAaE,cAAcnG,MAAK,WAC9BH,EAAUH,SAAS,CACjBN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDlC,EAAUrB,MAAMwD,eACjElC,IAAMsG,OAAO,wBAAwBpG,MAAK,SAACC,GACzC,OAAQA,EAASC,KAAKC,QACpB,IAAK,UACHN,EAAUH,SAAS,CACjBN,SAAS,IAEX,MAGF,QACES,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,qEAAsE,uB,+BAOpG,OACE,yBAAKzC,GAAG,wBACJ2B,KAAKF,MAAMH,QAAU,kBAAC,EAAD,MACrB,6BACIK,KAAKjB,MAAMyH,aACX,4BAAQpI,UAAU,iBAAiBwI,QAAS5G,KAAK+F,iBAAjD,2BAEA,4BAAQa,QAAS5G,KAAK8F,eAAtB,2B,GAjGqB1E,IAAMC,WCyD1BwF,E,kDAnEb,WAAY9H,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,GANM,E,uDAcP,IAAD,OACT,GAAI2F,OAAOwB,QAAQ,oLAAqL,CACtM,IAAM1G,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMsG,OAAO,qBACVpG,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,eACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,iCAAkC,WACxD,EAAK/B,MAAMyC,SACb,IAAK,wBACHpB,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,sDAAuD,WAC7E,EAAK/B,MAAMyC,SACX,MACF,QACEpB,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,yDAA0D,e,+BAKpF,OACE,yBAAKzC,GAAG,iBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACE,sFACA,4BAAQtB,GAAG,gBAAgBD,UAAU,wBAAwBwI,QAAS5G,KAAKhB,UAA3E,wB,GA5DgBoC,IAAMC,WCoDnB0F,EAnCF,SAAChI,GACZ,OACE,yBAAKX,UAAU,OAAOC,GAAG,QACvB,yBAAKD,UAAU,mBACb,2CACA,yBAAKA,UAAU,QACb,qCACA,kBAAC,EAAD,CAAoBmE,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiBS,cAAenE,EAAMmE,cAAepC,MAAO/B,EAAM+B,QAC/I,kBAAC,EAAD,CAAoByB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB4B,cAAetF,EAAMsF,cAAevD,MAAO/B,EAAM+B,SAEjJ,yBAAK1C,UAAU,aACb,yCACA,kBAAC,EAAD,CAAiBmE,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiBkB,UAAW5E,EAAM4E,UAAW7C,MAAO/B,EAAM+B,QACpI,kBAAC,EAAD,CAAiByB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiBkC,UAAW5F,EAAM4F,UAAW7D,MAAO/B,EAAM+B,UAGxI,yBAAK1C,UAAU,kBAAkBC,GAAG,gBAClC,mDACA,kBAAC,EAAD,CAAmBkE,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiBd,SAAU5C,EAAM4C,SAAUb,MAAO/B,EAAM+B,QACpI,kBAAC,EAAD,CAAmByB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiBf,SAAU3C,EAAM2C,SAAUZ,MAAO/B,EAAM+B,QACpI,kBAAC,EAAD,CAAgByB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiBrD,MAAOL,EAAMK,MAAO0B,MAAO/B,EAAM+B,QAC3H,kBAAC,EAAD,CAAmByB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,SAE5G,yBAAK1C,UAAU,kBAAkBC,GAAG,sBAClC,6CACA,kBAAC,EAAD,CAAsBkE,aAAcxD,EAAMwD,aAAczB,MAAO/B,EAAM+B,MAAO0F,aAAczH,EAAMyH,gBAElG,yBAAKpI,UAAU,2CACb,8CACA,kBAAC,EAAD,CAAemE,aAAcxD,EAAMwD,aAAcf,OAAQzC,EAAMyC,OAAQV,MAAO/B,EAAM+B,MAAO2B,gBAAiB1D,EAAMwD,kBCnB3GyE,E,kDApCb,WAAYjI,GAAQ,IAAD,8BACjB,cAAMA,IACDkI,MAAQ,EAAKA,MAAMpH,KAAX,gBAEb,EAAKC,MAAQ,CACXT,MAAO,EACP6H,SAAS,GANM,E,oDAUblH,KAAKF,MAAMT,MAAQW,KAAKjB,MAAMM,MAChCW,KAAKC,SAAS,CACZZ,MAAOW,KAAKF,MAAMT,MAAS,IAAOW,KAAKjB,MAAMM,QAG/CW,KAAKC,SAAS,CACZZ,MAAOW,KAAKjB,MAAMM,MAClB6H,SAAS,M,0CAKRlH,KAAKF,MAAMoH,UACdlH,KAAKmH,QAAUC,YAAYpH,KAAKiH,MAAO,O,+BAIzC,OACE,yBAAK7I,UAAU,mBACb,2BAAI4B,KAAKjB,MAAMsI,OACf,uBAAGjJ,UAAU,0BAA0BkJ,KAAKC,MAAyB,IAAnBvH,KAAKF,MAAMT,OAAe,U,GA/BvD+B,IAAMC,WCgLpBmG,E,kDAnKb,WAAYzI,GAAQ,IAAD,8BACjB,cAAMA,IAED0I,WAAa,EAAKA,WAAW5H,KAAhB,gBAElB,EAAKC,MAAQ,CACX4H,WAAOC,EACPhI,SAAS,EACTiI,WAAW,GARI,E,yDAYjB,IAAMxH,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,2BACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,sBACHN,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,EACXF,MAAOlH,EAASC,KAAKiH,QAEvBxG,QAAQC,IAAIX,EAASC,KAAKiH,OAC1B,MACF,QACEtH,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,IAEbxH,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,IAEbxH,EAAUrB,MAAM+B,MAAM,mEAAoE,c,0CAIvFd,KAAKF,MAAM8H,WACd5H,KAAKyH,e,+BAIP,OACE,yBAAKpJ,GAAG,uBAAuBD,UAAU,kBACvC,wBAAIA,UAAU,oBAAd,YACE4B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACEK,KAAKF,MAAM4H,MACX,yBAAKtJ,UAAU,wBACb,yBAAKA,UAAU,aAAa2F,IAAI,OAAOC,IAAKhE,KAAKF,MAAM4H,MAAMI,iBAC7D,wBAAI1J,UAAU,uBAAd,WACA,yBAAKA,UAAU,cACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,kBAAd,eACA,yBAAKA,UAAU,mBACb,kBAAC,EAAD,CAAgBiJ,MAAM,QAAQhI,MAAOW,KAAKF,MAAM4H,MAAMK,YAAYC,SAEpE,yBAAK5J,UAAU,QACb,uBAAGA,UAAU,eAAb,YACA,0BAAMA,UAAU,eAAekJ,KAAKC,MAAMvH,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQC,SAAW,MAApF,SAEF,yBAAK9J,UAAU,QACb,uBAAGA,UAAU,eAAb,gBACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQE,gBAGlE,yBAAK/J,UAAU,aACb,wBAAIA,UAAU,kBAAd,wBACA,yBAAKA,UAAU,mBACb,kBAAC,EAAD,CAAgBiJ,MAAM,MAAMhI,MAAOW,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQG,MAEpE,yBAAKhK,UAAU,QACb,uBAAGA,UAAU,eAAb,SACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQI,QAEhE,yBAAKjK,UAAU,QACb,uBAAGA,UAAU,eAAb,UACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQK,SAEhE,yBAAKlK,UAAU,QACb,uBAAGA,UAAU,eAAb,cACA,0BAAMA,UAAU,eAAekJ,KAAKiB,MAAOvI,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQO,UAAYxI,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQI,MAAS,KAA9H,OAGJ,yBAAKjK,UAAU,aACb,wBAAIA,UAAU,kBAAd,oBACA,yBAAKA,UAAU,mBACb,kBAAC,EAAD,CAAgBiJ,MAAM,MAAMhI,MAAOW,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQQ,MAEpE,yBAAKrK,UAAU,QACb,uBAAGA,UAAU,eAAb,QACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQS,OAEhE,yBAAKtK,UAAU,QACb,uBAAGA,UAAU,eAAb,UACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMO,QAAQU,WAIpE,wBAAIvK,UAAU,uBAAd,UACA,yBAAKA,UAAU,cACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,kBAAd,eACA,yBAAKA,UAAU,QACb,uBAAGA,UAAU,eAAb,YACA,0BAAMA,UAAU,eAAekJ,KAAKC,MAAMvH,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOX,SAAW,MAAzF,SAEF,yBAAK9J,UAAU,QACb,uBAAGA,UAAU,eAAb,gBACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOV,gBAGvE,yBAAK/J,UAAU,aACb,wBAAIA,UAAU,kBAAd,wBACA,yBAAKA,UAAU,mBACb,kBAAC,EAAD,CAAgBiJ,MAAM,MAAMhI,MAAOW,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOT,MAEzE,yBAAKhK,UAAU,QACb,uBAAGA,UAAU,eAAb,SACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOR,QAErE,yBAAKjK,UAAU,QACb,uBAAGA,UAAU,eAAb,UACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOP,UAGvE,yBAAKlK,UAAU,aACb,wBAAIA,UAAU,kBAAd,oBACA,yBAAKA,UAAU,mBACb,kBAAC,EAAD,CAAgBiJ,MAAM,MAAMhI,MAAOW,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOJ,MAEzE,yBAAKrK,UAAU,QACb,uBAAGA,UAAU,eAAb,QACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOH,OAErE,yBAAKtK,UAAU,QACb,uBAAGA,UAAU,eAAb,UACA,0BAAMA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAMA,MAAMkB,MAAMC,OAAOF,YAM3E,uBAAGvK,UAAU,cAAb,qH,GA3JuBgD,IAAMC,WCiG1ByH,E,kDAhGb,WAAY/J,GAAQ,IAAD,8BACjB,cAAMA,IAED0I,WAAa,EAAKA,WAAW5H,KAAhB,gBAElB,EAAKC,MAAQ,CACX4H,WAAOC,EACPhI,SAAS,EACTiI,WAAW,GARI,E,yDAYjB,IAAMxH,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,4BACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,uBACHN,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,EACXF,MAAOlH,EAASC,KAAKiH,QAEvB,MACF,QACEtH,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,IAEbxH,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,IAEbxH,EAAUrB,MAAM+B,MAAM,qEAAsE,c,0CAIzFd,KAAKF,MAAM8H,WACd5H,KAAKyH,e,+BAIP,IAAMsB,EAAaC,iBAAeC,MAAM,KAClCC,EAASH,EAAW,GAAGI,OAAO,GAAGC,cAAgBL,EAAW,GAAGM,MAAM,GAAK,IAAMN,EAAW,GAAGI,OAAO,GAAGC,cAAgBL,EAAW,GAAGM,MAAM,GAClJ,OACE,yBAAKhL,GAAG,wBAAwBD,UAAU,kBACxC,wBAAIA,UAAU,oBAAd,aAA4C8K,GAC5C,wBAAI9K,UAAU,oBAAd,wBACE4B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACEK,KAAKF,MAAM4H,MACX,yBAAKtJ,UAAU,cACb,yBAAKA,UAAU,cACb,wBAAIA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGC,WACtF,uBAAGrL,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGE,IAArF,QACA,uBAAGtL,UAAU,sCAAb,eAA+D4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGG,wBAE1H,yBAAKvL,UAAU,QACb,wBAAIA,UAAU,qBAAqBkJ,KAAKC,MAAavH,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGnB,MAAQrI,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGlB,OAAjI,KAA4I,IAA1L,OACA,uBAAGlK,UAAU,eAAb,SACA,wBAAIA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGnB,OACtF,uBAAGjK,UAAU,eAAb,UACA,wBAAIA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGlB,QACtF,uBAAGlK,UAAU,eAAb,cACA,wBAAIA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGnB,MAAQrI,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGlB,SAEzJ,yBAAKlK,UAAU,QACb,wBAAIA,UAAU,qBAAqBkJ,KAAKC,MAAavH,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGd,KAAO1I,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGb,OAAhI,KAA2I,IAAzL,OACA,uBAAGvK,UAAU,eAAb,QACA,wBAAIA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGd,MACtF,uBAAGtK,UAAU,eAAb,UACA,wBAAIA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGb,QACtF,uBAAGvK,UAAU,eAAb,cACA,wBAAIA,UAAU,eAAe4B,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGd,KAAO1I,KAAKF,MAAM4H,MAAM4B,QAAQN,kBAAgBO,QAAQC,KAAK,GAAGb,UAI1J,gJ,GAxFwBvH,IAAMC,WC+C3BuI,EA7CY,SAAC7K,GAC1B,OACE,yBAAKX,UAAU,uBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,uBAAuB2F,IAAI,WAAWC,IAAKjF,EAAM8K,QAChE,wBAAIzL,UAAU,uBAAuBW,EAAM+K,OAE7C,yBAAK1L,UAAU,kBACb,yBAAKA,UAAU,wBACb,uBAAGA,UAAU,yBAAb,OACA,0BAAMA,UAAU,yBAAyBW,EAAMqJ,KAEjD,yBAAKhK,UAAU,wBACb,uBAAGA,UAAU,yBAAb,SACA,0BAAMA,UAAU,yBAAyBW,EAAMsJ,QAEjD,yBAAKjK,UAAU,wBACb,uBAAGA,UAAU,yBAAb,UACA,0BAAMA,UAAU,yBAAyBW,EAAMuJ,SAEjD,yBAAKlK,UAAU,wBACb,uBAAGA,UAAU,yBAAb,OACA,0BAAMA,UAAU,yBAAyBW,EAAM0J,KAEjD,yBAAKrK,UAAU,wBACb,uBAAGA,UAAU,yBAAb,QACA,0BAAMA,UAAU,yBAAyBW,EAAM2J,OAEjD,yBAAKtK,UAAU,wBACb,uBAAGA,UAAU,yBAAb,UACA,0BAAMA,UAAU,yBAAyBW,EAAM4J,SAEjD,yBAAKvK,UAAU,wBACb,uBAAGA,UAAU,yBAAb,YACA,0BAAMA,UAAU,yBAAyBkJ,KAAKC,MAAMxI,EAAMmJ,SAAW,MAArE,SAEF,yBAAK9J,UAAU,wBACb,uBAAGA,UAAU,yBAAb,cACA,0BAAMA,UAAU,yBAAyBkJ,KAAKiB,MAAkB,IAAZxJ,EAAMgL,IAAY,KAAO,IAA7E,SCoFKC,E,kDA3Hb,WAAYjL,GAAQ,IAAD,8BACjB,cAAMA,IAED0I,WAAa,EAAKA,WAAW5H,KAAhB,gBAClB,EAAKoK,cAAgB,EAAKA,cAAcpK,KAAnB,gBACrB,EAAKqK,gBAAkB,EAAKA,gBAAgBrK,KAArB,gBACvB,EAAKsK,WAAa,EAAKA,WAAWtK,KAAhB,gBAElB,EAAKC,MAAQ,CACX4H,WAAOC,EACPhI,SAAS,EACTiI,WAAW,EACXwC,OAAQ,GACRC,MAAM,GAbS,E,yDAiBjB,IAAMjK,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,6BACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,uBACHN,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,EACXF,MAAOlH,EAASC,KAAKiH,MACrB4C,UAAW9J,EAASC,KAAKiH,MAAM4C,YAEjC,MACF,QACElK,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,QAIhB5G,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,IAEbxH,EAAUrB,MAAM+B,MAAM,qEAAsE,c,oCAGlFf,GACZ,IAAIuK,EAAS,YAAOtK,KAAKF,MAAM4H,MAAM4C,WACrC,OAAQvK,EAAEG,OAAO7B,GAAG+K,eAClB,IAAK,UACHkB,EAAYA,EACZ,MACF,IAAK,OACHA,EAAYA,EAAUC,MAAK,SAACC,EAAGC,GAAQ,OAAQD,EAAEV,KAAOW,EAAEX,KAAQ,GAAK,KACvE,MACF,IAAK,KACHQ,EAAYA,EAAUC,MAAK,SAACC,EAAGC,GAAQ,OAAQD,EAAEpC,GAAKqC,EAAErC,IAAO,EAAI,KACnE,MACF,IAAK,WACHkC,EAAYA,EAAUC,MAAK,SAACC,EAAGC,GAAQ,OAAQD,EAAEtC,SAAWuC,EAAEvC,UAAa,EAAI,KAGnFlI,KAAKC,SAAS,CACZqK,UAAWA,M,sCAGCvK,GACdA,EAAEI,iBACFH,KAAKC,SAAS,CACZmK,OAAQrK,EAAEG,OAAOb,U,mCAInBW,KAAKC,SAAS,CACZoK,MAAOrK,KAAKF,MAAMuK,S,0CAIfrK,KAAKF,MAAM8H,WACd5H,KAAKyH,e,+BAGC,IAAD,OACH6C,EAAY,GAQhB,OAPItK,KAAKF,MAAM4H,OACb1H,KAAKF,MAAMwK,UAAU/G,KAAI,SAACmH,EAAUjH,GAC7BiH,EAASZ,KAAKa,SAAS,YAAqC,KAAtB,EAAK7K,MAAMsK,SAAiBM,EAASZ,KAAKV,cAAcuB,SAAS,EAAK7K,MAAMsK,OAAOhB,gBAC5HkB,EAAUM,KAAK,kBAAC,EAAD,CAAoBf,MAAOa,EAASG,YAAaf,KAAMY,EAASZ,KAAM1B,GAAId,KAAKiB,MAAoB,IAAdmC,EAAStC,IAAY,IAAKC,MAAOqC,EAASrC,MAAOC,OAAQoC,EAASpC,OAAQG,GAAInB,KAAKiB,MAAoB,IAAdmC,EAASjC,IAAY,IAAKC,KAAMgC,EAAShC,KAAMC,OAAQ+B,EAAS/B,OAAQT,SAAUZ,KAAKiB,MAA0B,IAApBmC,EAASxC,UAAkB,IAAK6B,IAAKzC,KAAKiB,MAAMmC,EAASlC,UAAYkC,EAASrC,MAAQ,KAAO,IAAK3E,IAAKD,QAKrY,yBAAKpF,GAAG,wBAAwBD,UAAW,kBAAoB4B,KAAKF,MAAMuK,KAAO,wBAA0B,KACzG,wBAAIjM,UAAU,oBAAd,aACE4B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACEK,KAAKF,MAAM4H,MACX,yBAAKtJ,UAAU,cACb,yBAAKA,UAAU,YACb,2BAAOc,SAAUc,KAAKkK,gBAAiB7K,MAAOW,KAAKF,MAAMsK,OAAQU,YAAY,mBAC7E,4BAAQlE,QAAS5G,KAAKiK,cAAe5L,GAAG,WAAxC,mBACA,4BAAQuI,QAAS5G,KAAKiK,cAAe5L,GAAG,QAAxC,gBACA,4BAAQuI,QAAS5G,KAAKiK,cAAe5L,GAAG,MAAxC,cACA,4BAAQuI,QAAS5G,KAAKiK,cAAe5L,GAAG,YAAxC,oBACA,4BAAQuI,QAAS5G,KAAKmK,WAAY9L,GAAG,QAAS2B,KAAKF,MAAMuK,KAAO,gBAAkB,iBAElFC,GAGJ,gJ,GAnHwBlJ,IAAMC,WCS3B0J,EAXG,SAAChM,GACjB,OACE,yBAAKX,UAAU,OAAOC,GAAG,aACvB,yCACA,kBAAC,EAAD,CAAsBkE,aAAcxD,EAAMwD,aAAczB,MAAO/B,EAAM+B,QACrE,kBAAC,EAAD,CAAuByB,aAAcxD,EAAMwD,aAAczB,MAAO/B,EAAM+B,QACtE,kBAAC,EAAD,CAAuByB,aAAcxD,EAAMwD,aAAczB,MAAO/B,EAAM+B,UCQ7DkK,GAbQ,SAACjM,GACtB,OACE,0BAAMX,UAAU,OAAOC,GAAG,mBAAmBW,SAAUD,EAAMC,UAC3D,8BAAUZ,UAAU,iBAAiBC,GAAG,cACtC,2BAAOD,UAAU,cAAca,QAAQ,QAAvC,aACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAA+B,MAArBJ,EAAMI,OAAO2K,KAAe,GAAK,uBAAwBzK,MAAON,EAAM+K,KAAMzL,GAAG,OAAOiB,KAAK,OAAOC,UAAQ,IACvL,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAO2K,KAAO,KAEnE/K,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,2CAA2CkB,KAAK,UAAlE,iBC6DtB2L,G,kDApEb,WAAYlM,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXgK,KAAM,GACN3K,OAAQ,IARO,E,qDAgBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GAAI,IAAD,OACVA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMC,KAAK,yBAA0B,CACnCwJ,KAAM9J,KAAKF,MAAMgK,OAChBvJ,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,eACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,8BAA+B,WACrD,EAAK/B,MAAM0D,kBACX,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,yDAA0D,c,+BAIlF,OACE,yBAAKzC,GAAG,iBACN,6CACA,kBAAC,GAAD,CAAgBW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUC,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,QAASmK,KAAM9J,KAAKF,MAAMgK,Y,GA/DvH1I,IAAMC,WCanB6J,GAbM,SAACnM,GACpB,OACE,0BAAMX,UAAU,OAAOC,GAAG,iBAAiBW,SAAUD,EAAMC,UACzD,8BAAUZ,UAAU,iBAAiBC,GAAG,mBACtC,2BAAOD,UAAU,cAAca,QAAQ,aAAvC,aACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAoC,MAA1BJ,EAAMI,OAAOgM,UAAoB,GAAK,uBAAwB9L,MAAON,EAAMoM,UAAW9M,GAAG,YAAYiB,KAAK,OAAOC,UAAQ,IACtM,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOgM,UAAY,KAExEpM,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,6DAA6DkB,KAAK,UAApF,eC6DtB8L,G,kDApEb,WAAYrM,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXqL,UAAW,GACXhM,OAAQ,IARO,E,qDAgBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GAAI,IAAD,OACVA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,uBAAwB,CAClC2I,UAAWnL,KAAKF,MAAMqL,YACrB5K,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,cACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,4BAA6B,WACnD,EAAK/B,MAAM0D,kBACX,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,uDAAwD,c,+BAIhF,OACE,yBAAKzC,GAAG,eACN,2CACA,kBAAC,GAAD,CAAcW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUC,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,QAASwL,UAAWnL,KAAKF,MAAMqL,iB,GA/D5H/J,IAAMC,WCKjBgK,GAhBM,WACnB,OACE,yBAAKjN,UAAU,iBACb,yBAAKA,UAAU,wBACb,mDACA,qPACA,6BAAK,6BADL,qNAIA,uBAAGC,GAAG,QAAQ6B,OAAO,SAASoL,KAAK,mCAAnC,4BAJA,KAKA,uBAAGjN,GAAG,UAAUiN,KAAK,KAArB,cCuCOC,GAtCI,SAACxM,GAClB,IAAM4E,EAAY5E,EAAM4E,UAAUJ,KAAI,SAACC,EAAUC,GAC/C,OACE,yBAAKrF,UAAU,WAAWsF,IAAKD,GAC7B,yBAAKrF,UAAU,kBAAkB2F,IAAKP,EAAUQ,IAAK,kCAAoCR,EAASK,cAAgB,mBAIlHc,EAAY5F,EAAM4F,UAAUpB,KAAI,SAACmB,EAAUjB,GAC/C,OACE,yBAAKrF,UAAU,WAAWsF,IAAKD,GAC7B,yBAAKrF,UAAU,kBAAkB2F,IAAKW,EAAUV,IAAK,kCAAoCU,EAASb,cAAgB,mBAIxH,OACE,yBAAKzF,UAAU,eACb,wBAAIA,UAAU,yBAAyBW,EAAM2C,UAC7C,uBAAGtD,UAAU,uBAAuBW,EAAM2B,QAC1C,uBAAGtC,UAAU,wBAAwBW,EAAMmE,eAC3C,uBAAG9E,UAAU,wBAAwBW,EAAMsF,eACzCV,EAAUuB,OAAS,EACnB,yBAAK9G,UAAU,aACb,uBAAGA,UAAU,0BAAb,uBACEuF,GAEF,GACFgB,EAAUO,OAAS,EACnB,yBAAK9G,UAAU,aACb,uBAAGA,UAAU,0BAAb,uBACEuG,GAEF,KCmEK6G,G,kDAjGb,WAAYzM,GAAQ,IAAD,8BACjB,cAAMA,IAED0M,cAAgB,EAAKA,cAAc5L,KAAnB,gBAErB,EAAKC,MAAQ,CACX4L,KAAM,GACN/L,SAAS,GAPM,E,4DAejB,IAAMS,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,wBACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,aACHN,EAAUH,SAAS,CACjBN,SAAS,EACT+L,KAAMlL,EAASC,KAAKiL,OAEtB,MACF,QACEtL,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTsB,OAAO,IAETb,EAAUrB,MAAM+B,MAAM,uDAAwD,c,0CAI3Ed,KAAKF,MAAM4L,KAAK5B,MACnB9J,KAAKyL,kB,+BAIP,IAAIE,EACJ,IAAK3L,KAAKF,MAAMH,QACd,GAAIK,KAAKF,MAAMmB,MACb0K,EAAW,kBAAC,GAAD,UACN,CACL,IAAIC,EAAc,GACdnI,EAAQ,EACRzD,KAAKF,MAAM4L,MACb1L,KAAKF,MAAM4L,KAAKG,OAAOtI,KAAI,SAACuI,GAC1BF,EAAYhB,KAAK,kBAAC,GAAD,CAAYlJ,SAAUoK,EAAMpK,SAAUhB,OAAQoL,EAAMpL,OAAQwC,cAAe4I,EAAM5I,cAAeS,UAAWmI,EAAMnI,UAAWU,cAAeyH,EAAMzH,cAAeM,UAAWmH,EAAMnH,UAAWjB,IAAKD,UAEpNzD,KAAKF,MAAM4L,KAAKK,QAAQxI,KAAI,SAACyI,GAC3BJ,EAAYhB,KAAK,kBAAC,GAAD,CAAYlJ,SAAUsK,EAAOtK,SAAUhB,OAAQsL,EAAOtL,OAAQwC,cAAe8I,EAAO9I,cAAeS,UAAWqI,EAAOrI,UAAWU,cAAe2H,EAAO3H,cAAeM,UAAWqH,EAAOrH,UAAWjB,IAAKD,UAE1NzD,KAAKF,MAAM4L,KAAKO,QAAQ1I,KAAI,SAAC2I,GAC3BN,EAAYhB,KAAK,kBAAC,GAAD,CAAYlJ,SAAUwK,EAAOxK,SAAUhB,OAAQwL,EAAOxL,OAAQwC,cAAegJ,EAAOhJ,cAAeS,UAAWuI,EAAOvI,UAAWU,cAAe6H,EAAO7H,cAAeM,UAAWuH,EAAOvH,UAAWjB,IAAKD,UAE1NkI,EACE,yBAAKvN,UAAU,QACb,wBAAIA,UAAU,aAAa4B,KAAKF,MAAM4L,KAAK5B,MAC3C,wBAAI1L,UAAU,oBAAoB4B,KAAKF,MAAM4L,KAAK/J,SAAlD,MAA+D3B,KAAKF,MAAM4L,KAAKP,WAC/E,yBAAK/M,UAAU,UACb,sCACEwN,KAKRD,EAAW,kBAAC,GAAD,MAIjB,OACE,yBAAKtN,GAAG,eACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACIgM,Q,GA1FYvK,IAAMC,WCYjB8K,GAbS,SAACpN,GACvB,OACE,yBAAKX,UAAU,qBACb,wBAAIA,UAAU,+BAA+BW,EAAM2C,UACnD,uBAAGtD,UAAU,2BAA2BW,EAAM2K,IAA9C,QACA,uBAAGtL,UAAU,2BAA2BW,EAAMqJ,GAA9C,QACA,uBAAGhK,UAAU,2BAAb,SAA8CW,EAAMiJ,OACpD,uBAAG5J,UAAU,2BAAb,MAA2CW,EAAMqN,UAAjD,QACA,uBAAGhO,UAAU,2BAA2BW,EAAM0J,GAA9C,UCkGS4D,G,kDAvGb,WAAYtN,GAAQ,IAAD,8BACjB,cAAMA,IAED0M,cAAgB,EAAKa,eAAezM,KAApB,gBAErB,EAAKC,MAAQ,CACX4H,WAAOC,EACPhI,SAAS,GAPM,E,6DAejB,IAAMS,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,wBACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACHN,EAAUH,SAAS,CACjBN,SAAS,EACT+H,MAAO,CACLgE,KAAMlL,EAASC,KAAKiL,KACpBtD,GAAI5H,EAASC,KAAK2H,GAClBK,GAAIjI,EAASC,KAAKgI,GAClBiB,IAAKlJ,EAASC,KAAKiJ,IACnB0C,UAAW5L,EAASC,KAAK2L,UACzBpE,MAAOxH,EAASC,KAAKuH,SAGzB,MACF,QACE5H,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTsB,OAAO,IAETb,EAAUrB,MAAM+B,MAAM,kEAAmE,c,0CAItFd,KAAKF,MAAM4H,OACd1H,KAAKsM,mB,+BAIP,IAAIX,EACJ,GAAK3L,KAAKF,MAAMH,QAgCdgM,EAAW,kBAAC,EAAD,WA/BX,GAAI3L,KAAKF,MAAMmB,MACb0K,EAAW,kBAAC,GAAD,UACN,CAEL,GAAI3L,KAAKF,MAAM4H,MAAMgE,KAAM,CACzB,IAAME,EAAc5L,KAAKF,MAAM4H,MAAMgE,KAAKnI,KAAI,SAAC2I,GAC7C,OACE,kBAAC,GAAD,CAAiBxK,SAAUwK,EAAOxK,SAAU0G,GAAI8D,EAAO9D,GAAIK,GAAIyD,EAAOzD,GAAIiB,IAAKwC,EAAOxC,IAAK0C,UAAWF,EAAOE,UAAWpE,MAAOkE,EAAOlE,WAG1I2D,EACE,yBAAKvN,UAAU,mBACb,0CACA,yBAAKA,UAAU,YACb,wBAAIA,UAAU,kBAAd,oBACA,kBAAC,EAAD,CAAgBiB,MAAOW,KAAKF,MAAM4H,MAAMU,GAAIf,MAAM,QAClD,kBAAC,EAAD,CAAgBhI,MAAOW,KAAKF,MAAM4H,MAAMe,GAAIpB,MAAM,QAClD,kBAAC,EAAD,CAAgBhI,MAAOW,KAAKF,MAAM4H,MAAMgC,IAAKrC,MAAM,QACnD,uBAAGjJ,UAAU,mBAAkB,0BAAMA,UAAU,cAAhB,WAA/B,IAA4E4B,KAAKF,MAAM4H,MAAM0E,YAE/F,yBAAKhO,UAAU,qBACb,wBAAIA,UAAU,kBAAd,2BACEwN,SAKRD,EAAW,kBAAC,GAAD,MAMjB,OACE,yBAAKtN,GAAG,yBACN,6BACIsN,Q,GAjGwBvK,IAAMC,WCmD3BkL,G,kDAtDb,WAAYxN,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,GANM,E,qDAcVI,GAAI,IAAD,OAEV,GADAA,EAAEI,iBACEmF,OAAOwB,QAAQ,4CAA6C,CAC9D,IAAM1G,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,yBACTjC,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,iBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,0BAA2B,WACjD,EAAK/B,MAAM0D,kBACX,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,wDAAyD,e,+BAKnF,OACE,yBAAKzC,GAAG,gBACN,4BAAQuI,QAAS5G,KAAKhB,SAAUZ,UAAU,kBAA1C,mB,GAjDmBgD,IAAMC,WCkClBmL,GA3BF,SAACzN,GACZ,OACE,yBAAKX,UAAU,OAAOC,GAAG,QACvB,oCACEU,EAAM0N,UACN,yBAAKrO,UAAU,WACM,UAAjBW,EAAM2B,OACN,kBAAC,IAAD,CAAMtC,UAAU,SAASsB,GAAG,gBAA5B,eACE,GACJ,kBAAC,GAAD,CAAa6C,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,QACpG,kBAAC,GAAD,CAAuByB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,QAC9G,kBAAC,GAAD,CAAcyB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,SAGvG,yBAAK1C,UAAU,aACb,sDACA,iJACA,yBAAKA,UAAU,aACb,kBAAC,GAAD,CAAemE,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiBqH,KAAM/K,EAAM+K,KAAMhJ,MAAO/B,EAAM+B,QACxH,kBAAC,GAAD,CAAayB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,YCoEjG4L,G,kDApGb,WAAY3N,GAAQ,IAAD,8BACjB,cAAMA,IAED4N,cAAgB,EAAKA,cAAc9M,KAAnB,gBACrB,EAAKX,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,EACTiN,YAAa,GACbC,QAAS,IAVM,E,4DAcjB,IAAMzM,EAAYJ,KAClBK,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,wBACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,aACHN,EAAUH,SAAS,CACjBN,SAAS,EACTiN,YAAapM,EAASC,KAAKiL,KAAK5B,OAElC,MACF,QACE1J,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,mEAAoE,c,+BAGrFf,GACPC,KAAKC,SAAS,CACZ4M,QAAS9M,EAAEG,OAAOb,U,+BAGbU,GACPA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBK,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,yBAA0B,CACpCsH,KAAM9J,KAAKF,MAAM+M,UAEhBtM,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,oBACHN,EAAUH,SAAS,CACjBN,SAAS,EACTiN,YAAaxM,EAAUN,MAAM+M,UAE/BzM,EAAUrB,MAAM+B,MAAM,8BAA+B,WACrD,MACF,QACEV,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,8DAA+D,c,0CAInFd,KAAKF,MAAMH,SACbK,KAAK2M,kB,+BAIP,OACE,yBAAKtO,GAAG,qBACN2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACE,wBAAIvB,UAAU,gBAAgB4B,KAAKF,MAAM8M,aACzC,yBAAKxO,UAAU,qBACb,2BAAOA,UAAU,8BAA8Bc,SAAUc,KAAKd,SAAUb,GAAG,UAAUiB,KAAK,OAAOD,MAAOW,KAAKF,MAAM+M,QAAS/B,YAAa9K,KAAKF,MAAM8M,cACpJ,4BAAQxO,UAAU,0BAA0BwI,QAAS5G,KAAKhB,UAA1D,sB,GA5FoBoC,IAAMC,WC6BvByL,GApBU,SAAC/N,GACxB,OACE,yBAAKX,UAAU,sBACb,wBAAIA,UAAU,gCAAgCW,EAAM2C,UACjC,UAAjB3C,EAAM2B,OACN,uBAAGtC,UAAU,8BAA8BW,EAAM2B,QAEjD,4BAAQtC,UAAU,yCAAyCc,SAAU,SAACa,GAAQhB,EAAMgO,iBAAiBhO,EAAM2C,SAAU3B,EAAEG,OAAOb,QAAUA,MAAON,EAAM2B,QACnJ,0CACA,0CACA,0CAGe,UAAjB3B,EAAM2B,OAAsB,GAC5B,4BAAQkG,QAAS,WAAQ7H,EAAMiO,UAAUjO,EAAM2C,WAAatD,UAAU,qDAAtE,gBCsJO6O,G,kDAlKb,WAAYlO,GAAQ,IAAD,8BACjB,cAAMA,IAED0M,cAAgB,EAAKA,cAAc5L,KAAnB,gBACrB,EAAKkN,iBAAmB,EAAKA,iBAAiBlN,KAAtB,gBACxB,EAAKmN,UAAY,EAAKA,UAAUnN,KAAf,gBAEjB,EAAKC,MAAQ,CACX4L,KAAM,GACN/L,SAAS,GATM,E,4DAiBjB,IAAMS,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,wBACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,aACHN,EAAUH,SAAS,CACjBN,SAAS,EACT+L,KAAMlL,EAASC,KAAKiL,OAEtB,MACF,QACEtL,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTsB,OAAO,IAETb,EAAUrB,MAAM+B,MAAM,yCAA0C,c,0CAI7Dd,KAAKF,MAAM4L,KAAK5B,MACnB9J,KAAKyL,kB,uCAGQ/J,EAAUhB,GACzB,IAAMN,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,gCAAiC,CAC3Cd,SAAUA,EACVhB,OAAQA,IAEPH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,sBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUqL,gBACV,MACF,QACErL,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,gEAAiE,c,gCAGjFY,GACR,GAAI4D,OAAOwB,QAAP,iCAAyCpF,EAAzC,kCAAmF,CACrF,IAAMtB,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,wBAAyB,CACnCd,SAAUA,IAETnB,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,eACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,UAAW,uCACjCV,EAAUqL,gBACV,MACF,QACErL,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,QAG/DwM,YAAW,WACT5H,OAAO6H,SAASC,QAAO,KACtB,QACFpM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,wDAAyD,e,+BAI3E,IAAD,OACH6K,EAAW,kBAAC,EAAD,MACf,IAAK3L,KAAKF,MAAMH,QACd,GAAIK,KAAKF,MAAMmB,MACb0K,EAAW,kBAAC,GAAD,UACN,CACL,IAAIC,EAAc,GACdnI,EAAQ,EACZzD,KAAKF,MAAM4L,KAAKG,OAAOtI,KAAI,SAACuI,GAC1BF,EAAYhB,KAAK,kBAAC,GAAD,CAAkBlJ,SAAUoK,EAAMpK,SAAUhB,OAAQoL,EAAMpL,OAAQqM,iBAAkB,EAAKA,iBAAkBC,UAAW,EAAKA,UAAWtJ,IAAKD,UAE9JzD,KAAKF,MAAM4L,KAAKK,QAAQxI,KAAI,SAACyI,GAC3BJ,EAAYhB,KAAK,kBAAC,GAAD,CAAkBlJ,SAAUsK,EAAOtK,SAAUhB,OAAQsL,EAAOtL,OAAQqM,iBAAkB,EAAKA,iBAAkBC,UAAW,EAAKA,UAAWtJ,IAAKD,UAEhKzD,KAAKF,MAAM4L,KAAKO,QAAQ1I,KAAI,SAAC2I,GAC3BN,EAAYhB,KAAK,kBAAC,GAAD,CAAkBlJ,SAAUwK,EAAOxK,SAAUhB,OAAQwL,EAAOxL,OAAQqM,iBAAkB,EAAKA,iBAAkBC,UAAW,EAAKA,UAAWtJ,IAAKD,UAEhKkI,EACE,yBAAKvN,UAAU,QACXwN,GAKV,OACE,yBAAKvN,GAAG,iBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACE,sCACEgM,Q,GA3JcvK,IAAMC,WC4CnBgM,G,kDArDb,WAAYtO,GAAQ,IAAD,8BACjB,cAAMA,IACDC,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXH,SAAS,GALM,E,qDAQVI,GAEP,GADAA,EAAEI,iBACEmF,OAAOwB,QAAQ,qLAAsL,CACvM,IAAM1G,EAAYJ,KAClBK,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMsG,OAAO,0BACVpG,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,eACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,8BAA+B,WACrDV,EAAUrB,MAAM0D,kBAChB,MACF,QACErC,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM0D,kBAChBrC,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,qDAAsD,e,+BAKhF,OACE,yBAAKzC,GAAG,iBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,4BAAQiH,QAAS5G,KAAKhB,SAAUZ,UAAU,0DAA0DC,GAAG,iBAAvG,oB,GA/CkB+C,IAAMC,WCmInBiM,G,kDAzHb,WAAYvO,GAAQ,IAAD,8BACjB,cAAMA,IAEDwO,kBAAoB,EAAKA,kBAAkB1N,KAAvB,gBACzB,EAAK2N,YAAc,EAAKA,YAAY3N,KAAjB,gBAEnB,EAAKC,MAAQ,CACX2N,mBAAe9F,EACfhI,SAAS,GARM,E,gEAgBjB,IAAMS,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,iCACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,sBACHN,EAAUH,SAAS,CACjBN,SAAS,EACT8N,cAAejN,EAASC,KAAKgN,gBAE/B,MACF,QACErN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTsB,OAAO,IAETb,EAAUrB,MAAM+B,MAAM,kDAAmD,c,0CAItEd,KAAKF,MAAM2N,eACdzN,KAAKuN,sB,kCAGG7L,EAAUrD,GACpB,GAAIiH,OAAOwB,QAAP,mCAA2CpF,EAA3C,sFAAyI,CAC3I,IAAMtB,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,0BAA2B,CACrCnE,GAAIA,IAEHkC,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,iBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,wCAAyC,WAC/DV,EAAUmN,oBACV,MACF,QACEnN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,0DAA2D,e,+BAI7E,IAAD,OACH6K,EAAW,kBAAC,EAAD,MAmBf,OAlBI3L,KAAKF,MAAMmB,MACb0K,EAAW,kBAAC,GAAD,MAEP3L,KAAKF,MAAM2N,gBAEX9B,EADE3L,KAAKF,MAAM2N,cAAcvI,OAAS,EACzBlF,KAAKF,MAAM2N,cAAclK,KAAI,SAAC/D,GACvC,OACE,yBAAKpB,UAAU,gBACb,4BAAKoB,EAAKkC,UACV,4BAAQtD,UAAU,2BAA2BwI,QAAS,WAAQ,EAAK4G,YAAYhO,EAAKkC,SAAUlC,EAAKkO,OAAnG,eAKK,+BAKf,yBAAKrP,GAAG,mBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,6BACE,6CACEgM,Q,GAlHgBvK,IAAMC,WCerBsM,GAbI,SAAC5O,GAClB,OACE,yBAAKX,UAAU,OAAOC,GAAG,eACvB,2CACA,kBAAC,IAAD,CAAMD,UAAU,SAASsB,GAAG,SAA5B,gBACA,kBAAC,GAAD,CAAmB6C,aAAcxD,EAAMwD,aAAczB,MAAO/B,EAAM+B,QAClE,kBAAC,GAAD,CAAeyB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,QACtG,kBAAC,GAAD,CAAiByB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,QACxG,kBAAC,GAAD,CAAeyB,aAAcxD,EAAMwD,aAAcE,gBAAiB1D,EAAM0D,gBAAiB3B,MAAO/B,EAAM+B,UCJ7F8M,GAbM,SAAC7O,GACpB,OACE,yBAAKX,UAAU,iBACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,WAAWG,QAAQ,eAChC,4BAAQH,UAAU,OAAOI,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,KAAK,OAAOC,YAAY,IAAIC,iBAAiB,SAG/FE,EAAMgC,QAAUhC,EAAMgC,QAAU,kBCwIzB8M,G,kDAnIb,WAAY9O,GAAQ,IAAD,8BACjB,cAAMA,IAED+O,gBAAkB,EAAKA,gBAAgBjO,KAArB,gBACvB,EAAKkO,eAAiB,EAAKA,eAAelO,KAApB,gBACtB,EAAKmO,aAAe,EAAKA,aAAanO,KAAlB,gBACpB,EAAKX,SAAW,EAAKA,SAASW,KAAd,gBAEhB,EAAKC,MAAQ,CACXmO,WAAY,GACZxK,MAAO,EACP9D,SAAS,EACTiI,WAAW,EACXsG,UAAU,EACV9D,OAAQ,IAdO,E,2DAqBJ3G,GACbzD,KAAKC,SAAS,CACZwD,MAAOA,EACPyK,UAAU,M,qCAQZlO,KAAKC,SAAS,CACZiO,UAAU,M,+BAMLnO,GACPC,KAAKC,SAAS,CACZmK,OAAQrK,EAAEG,OAAOb,U,wCAQnB,IAAMe,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,wBACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACH,IAAMyN,EAAOC,OAAOC,KAAK7N,EAASC,KAAKwN,YAAYK,QAAO,SAAC/K,GAAD,OAASgL,YAAU3K,QAAQL,IAAQ,KAC7FnD,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,EACXqG,WAAYzN,EAASC,KAAKwN,WAC1BE,KAAMA,IAER,MACA,QACA/N,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,EACTsB,OAAO,IAETb,EAAUrB,MAAM+B,MAAM,4DAA6D,c,0CAIhFd,KAAKF,MAAM8H,WACd5H,KAAK8N,oB,+BAGC,IACJnC,EADG,OAEP,GAAI3L,KAAKF,MAAMH,QACbgM,EAAW,kBAAC,GAAD,CAAc5K,QAAQ,6BAEjC,GAAIf,KAAKF,MAAMmB,MACb0K,EAAW,kBAAC,GAAD,WAEX,GAAI3L,KAAKjB,MAAM0N,WAAsC,KAAzBzM,KAAKjB,MAAM0N,UACrC,GAAIzM,KAAKF,MAAMmO,WAAW/I,OAAS,EAAG,CACpC,IAAMsJ,EAASxO,KAAKF,MAAMmO,WAAW1K,KAAI,SAACkL,EAAOhL,GAC/C,GAA0B,KAAtB,EAAK3D,MAAMsK,QAAiBqE,EAAM3E,KAAKV,cAAcuB,SAAS,EAAK7K,MAAMsK,OAAOhB,eAClF,OACE,yBAAKhL,UAAU,mBAAmBsF,IAAKD,GACrC,wBAAIrF,UAAU,2BAA2BwI,QAAS,WAAQ,EAAKmH,eAAetK,KAAWgL,EAAM3E,MAC/F,uBAAG1L,UAAU,yBAAyBqQ,EAAMnP,UAKpDqM,EAAY3L,KAAKF,MAAMoO,SACrB,yBAAK9P,UAAU,iBACb,2BAAOA,UAAU,kBAAkBc,SAAUc,KAAKd,SAAUG,MAAOW,KAAKF,MAAMsK,OAAQ9K,KAAK,OAAOwL,YAAY,sBAC5G0D,GAGJ,iCAGF7C,EAAW,qFAGbA,EAAW,mIAIjB,OACE,yBAAKtN,GAAG,qBACJsN,O,GA9HsBvK,IAAMC,WCMvBqN,GAZI,SAAC3P,GAClB,OACE,yBAAKX,UAAU,OAAOC,GAAG,cACvB,+CACmB,WAAjBU,EAAM2B,QAAwC,UAAjB3B,EAAM2B,OACnC,kBAAC,IAAD,CAAMtC,UAAU,SAASsB,GAAG,oBAA5B,mBACE,GACJ,kBAAC,GAAD,CAAmB+M,UAAW1N,EAAM0N,UAAWlK,aAAcxD,EAAMwD,aAAczB,MAAO/B,EAAM+B,UCCrF6N,GAjBK,SAAC5P,GACnB,IAAMoP,EAAOS,OAAKN,QAAO,SAAC/K,GAAD,OAASxE,EAAMoP,KAAKvK,QAAQL,GAAO,KAAGA,KAAI,SAACA,EAAKE,GACvE,OACE,yBAAKrF,UAAU,aAAawI,QAAS,WAAQ7H,EAAM8P,UAAUtL,IAAQG,IAAKD,GACxE,yBAAKrF,UAAU,oBAAoB4F,IAAI,KACvC,wBAAI5F,UAAU,qBAAqBmF,OAIzC,OACE,yBAAKnF,UAAU,gBACb,qEACE+P,ICsGOW,G,kDAlHb,WAAY/P,GAAQ,IAAD,8BACjB,cAAMA,IAEDgQ,WAAa,EAAKA,WAAWlP,KAAhB,gBAClB,EAAKmP,WAAa,EAAKA,WAAWnP,KAAhB,gBAClB,EAAKoP,mBAAqB,EAAKA,mBAAmBpP,KAAxB,gBAC1B,EAAKqP,yBAA2B,EAAKA,yBAAyBrP,KAA9B,gBAEhC,EAAKC,MAAQ,CACXqP,SAAmC,KAAxB,EAAKpQ,MAAMoQ,SAAkB,EAAKpQ,MAAMoQ,SAAW,UAC9DC,QAAQ,EACRC,KAAK,GAXU,E,yDAejBrP,KAAKC,SAAS,CACZmP,QAASpP,KAAKF,MAAMsP,W,iCAGbrP,GACTC,KAAKC,SAAS,CACZkP,SAAUpP,EAAEG,OAAOb,U,2CAIO,KAAxBW,KAAKF,MAAMqP,UAA2C,MAAxBnP,KAAKF,MAAMqP,UAC3CnP,KAAKjB,MAAMkQ,mBAAmBjP,KAAKF,MAAMqP,UACzCnP,KAAKC,SAAS,CACZmP,QAAQ,KAGVpP,KAAKjB,MAAM+B,MAAM,oC,iDAInBd,KAAKC,SAAS,CACZoP,KAAMrP,KAAKF,MAAMuP,Q,yCAGFC,EAAWC,GACxBvP,KAAKjB,MAAMoQ,WAAanP,KAAKF,MAAMqP,UAAanP,KAAKF,MAAMsP,QAC7DpP,KAAKC,SAAS,CACZkP,SAAUnP,KAAKjB,MAAMoQ,a,+BAIjB,IAAD,OACHK,EAA6B,WAApBxP,KAAKjB,MAAMO,KAAoB,GAC1CU,KAAKjB,MAAMyQ,MAAMjM,KAAI,SAACkM,EAAMhM,GAC1B,OACE,4BAAQmD,QAAS,WAAQ,EAAK7H,MAAM2Q,WAAWjM,IAAUrF,UAAYqF,IAAU,EAAK1E,MAAM4Q,UAAY,eAAiB,GAAKjM,IAAKD,GAAQgM,MAI3IxB,EAAajO,KAAKjB,MAAMkP,WAAW1K,KAAI,SAACkL,EAAOhL,GACjD,OACE,4BAAQmD,QAAS,WAAQ,EAAK7H,MAAMgP,eAAetK,IAAUrF,UAAYqF,IAAU,EAAK1E,MAAM6Q,cAAgB,mBAAqB,GAAKlM,IAAKD,GAAQgL,EAAM3E,SAG/J,OACE,yBAAK1L,UAAU,WACb,4BAAQwI,QAAS5G,KAAKkP,yBAA0B9Q,UAAW,8BAAgC4B,KAAKF,MAAMuP,IAAM,sCAAwC,KAApJ,UACErP,KAAKF,MAAMsP,OACX,yBAAKhR,UAAU,wBACb,2BAAOA,UAAU,kBAAkBc,SAAUc,KAAKgP,WAAY3P,MAAOW,KAAKF,MAAMqP,WAChF,4BAAQvI,QAAS5G,KAAKiP,oBAAtB,WAGF,wBAAI7Q,UAAU,oBAAoBwI,QAAS5G,KAAK+O,YAAa/O,KAAKF,MAAMqP,UAEpD,WAApBnP,KAAKjB,MAAMO,KACX,yBAAKlB,UAAU,sBACb,uBAAGwI,QAAS5G,KAAKjB,MAAM8Q,aAAvB,UACA,uBAAGjJ,QAAS5G,KAAKjB,MAAM+Q,cAAvB,aAGF,yBAAK1R,UAAU,sBACb,uBAAGwI,QAAS5G,KAAKjB,MAAMgR,cAAvB,WACA,uBAAGnJ,QAAS5G,KAAKjB,MAAMiR,qBAAvB,mBAGJ,yBAAK5R,UAAW,uBAAyB4B,KAAKF,MAAMuP,IAAM,+BAAiC,KACzF,4BAAKrP,KAAKjB,MAAMwE,IAAIuG,MACpB,4BAAQ1L,UAAU,yBAAyBwI,QAAS5G,KAAKjB,MAAMkR,MAA/D,QACA,4BAAQrJ,QAAS5G,KAAKjB,MAAMmR,SAAU7R,GAAG,YAAzC,gBACA,yBAAKD,UAAU,wBACb,oCACA,yBAAKA,UAAU,iBACb,4BAAQwI,QAAS,WAAQ,EAAK7H,MAAMoR,WAAW,WAAa/R,UAA+B,WAApB4B,KAAKjB,MAAMO,KAAoB,eAAiB,IAAvH,UACA,4BAAQsH,QAAS,WAAQ,EAAK7H,MAAMoR,WAAW,YAAc/R,UAA+B,WAApB4B,KAAKjB,MAAMO,KAAoB,GAAK,gBAA5G,YAEoB,WAApBU,KAAKjB,MAAMO,KAAoB,GAC/B,yBAAKlB,UAAU,kBACb,qCACA,6BACIoR,IAIR,0CACA,yBAAKpR,UAAU,qBACX6P,EACF,yBAAK7P,UAAU,oBACb,4BAAQwI,QAAS5G,KAAKjB,MAAMqR,aAA5B,gBACA,4BAAQxJ,QAAS5G,KAAKjB,MAAMsR,gBAA5B,4B,GAzGMjP,IAAMC,WCuGbiP,G,kDAtGb,WAAYvR,GAAQ,IAAD,8BACjB,cAAMA,IAEDgQ,WAAa,EAAKA,WAAWlP,KAAhB,gBAClB,EAAKmP,WAAa,EAAKA,WAAWnP,KAAhB,gBAElB,EAAKC,MAAQ,CACX2D,MAAO,EACPqG,KAAM,GACNsF,QAAQ,GATO,E,uDAYRrP,EAAG0D,GACR1D,GACFA,EAAEwQ,kBAEAvQ,KAAKF,MAAMsP,QACbpP,KAAKjB,MAAMyR,gBAAgBxQ,KAAKF,MAAMgK,KAAM9J,KAAKF,MAAM2D,OACvDzD,KAAKC,SAAS,CACZwD,MAAO,EACPqG,KAAM,GACNsF,QAAQ,KAGVpP,KAAKC,SAAS,CACZwD,MAAOA,EACPqG,KAAM9J,KAAKjB,MAAM0R,OAAOhN,GAAOqG,KAC/BsF,QAAQ,M,iCAIHrP,GACTC,KAAKC,SAAS,CACZ6J,KAAM/J,EAAEG,OAAOb,U,+BAGT,IAAD,OACDmQ,EAAQxP,KAAKjB,MAAMyQ,MAAMjM,KAAI,SAACkM,EAAMhM,GACxC,OACE,yBAAKrF,UAAW,QAAU,EAAKW,MAAM4Q,YAAclM,EAAQ,gBAAkB,IAAKmD,QAAS,WAAQ,EAAK7H,MAAM2Q,WAAWjM,IAAUC,IAAKD,GACtI,0BAAMrF,UAAU,gBAAhB,QAAqCqF,EAAQ,GAC7C,uBAAGrF,UAAU,cAAcqR,OAI3BgB,EAASzQ,KAAKjB,MAAM0R,OAAOlN,KAAI,SAACmN,EAAOjN,GAC3C,OACE,yBAAKrF,UAAW,SAAW,EAAKW,MAAM4R,aAAelN,EAAQ,iBAAmB,IAC9EmD,QAAS,WACF,EAAK9G,MAAMsP,QACd,EAAKrQ,MAAM6R,YAAYnN,IAExBC,IAAKD,GACR,0BAAMrF,UAAU,iBAAhB,SAAuCqF,EAAQ,GAC7C,EAAK3D,MAAMsP,QAAU,EAAKtP,MAAM2D,QAAUA,EAC1C,yBAAKrF,UAAU,qBACb,2BAAOA,UAAU,eAAec,SAAU,EAAK8P,WAAY3P,MAAO,EAAKS,MAAMgK,OAC7E,4BAAQlD,QAAS,EAAKmI,YAAtB,WAGF,uBAAG3Q,UAAU,cAAcwI,QAAS,SAAC7G,GAAQ,EAAKgP,WAAWhP,EAAG0D,KAAWiN,EAAM5G,UAKnFmE,EAAkC,WAApBjO,KAAKjB,MAAMO,KAAoB,GACjDU,KAAKjB,MAAMkP,WAAW1K,KAAI,SAACkL,EAAOhL,GAChC,OACE,yBAAKrF,UAAW,YAAc,EAAKW,MAAM6Q,gBAAkBnM,EAAQ,oBAAsB,IAAKmD,QAAS,WAAQ,EAAK7H,MAAMgP,eAAetK,IAAUC,IAAKD,GACtJ,uBAAGrF,UAAU,kBAAkBqQ,EAAM3E,UAK7C,OACE,yBAAK1L,UAAU,WACS,WAApB4B,KAAKjB,MAAMO,KACX,yBAAKlB,UAAU,kBACb,wBAAIA,UAAU,2BAA2B4B,KAAKjB,MAAMwE,IAApD,KAA2DvD,KAAKjB,MAAMO,MACtE,wBAAIlB,UAAU,4BAA4B4B,KAAKjB,MAAMoQ,UACnDK,GAGJ,yBAAKpR,UAAU,sBACb,wBAAIA,UAAU,+BAA+B4B,KAAKjB,MAAMwE,IAAxD,KAA+DvD,KAAKjB,MAAMO,MAC1E,wBAAIlB,UAAU,gCAAgC4B,KAAKjB,MAAMyQ,MAAMxP,KAAKjB,MAAM4Q,YACxE1B,GAGN,yBAAK7P,UAAU,mBACb,wBAAIA,UAAU,4BAAd,UACEqS,GAEJ,yBAAKrS,UAAU,kBACb,4BAAQwI,QAAS5G,KAAKjB,MAAM8R,UAA5B,aACA,4BAAQjK,QAAS5G,KAAKjB,MAAM+R,aAA5B,sB,GAhGY1P,IAAMC,WCWb0P,GAXO,SAAChS,GACrB,IAAMiS,EAAUjS,EAAMkS,OAAO1N,KAAI,SAACgE,EAAO9D,GACvC,OAAO,4BAAQC,IAAKD,GAAQ8D,MAE9B,OACE,4BAAQrI,SAAUH,EAAMG,SAAUd,UAAU,eAAeiB,MAAON,EAAMwI,OACrEyJ,ICuBQE,G,kDA5Bb,WAAYnS,GAAQ,IAAD,8BACjB,cAAMA,IACDe,MAAQ,CACXqR,MAAM,GAHS,E,qDAMT,IAAD,OACP,OACE,yBAAKC,MAAO,CAAEC,IAAMrR,KAAKjB,MAAMuS,EAAItR,KAAKjB,MAAMuS,EAAI,EAAIC,KAAOvR,KAAKjB,MAAMyS,EAAIxR,KAAKjB,MAAMyS,EAAI,EAAIC,gBAAgB,OAAD,OAASzR,KAAKjB,MAAM2S,IAApB,KAA4BC,eAAgB,QAASC,mBAAoB,UACvLxT,UAAW,aAAe4B,KAAKjB,MAAMoS,KAAO,QAAU,IACpDU,YAAa,WACX,EAAK5R,SAAS,CACZkR,MAAM,IACL,WACuB,WAApB,EAAKpS,MAAMO,KACb,EAAKP,MAAM+S,cAAc,EAAK/S,MAAM0E,MAAO,EAAK1E,MAAMO,KAAM,EAAKP,MAAMgT,QAC1C,YAApB,EAAKhT,MAAMO,KACpB,EAAKP,MAAM+S,cAAc,EAAK/S,MAAM0E,MAAO,EAAK1E,MAAMO,KAAM,EAAKP,MAAMiT,QAEvE,EAAKjT,MAAM+S,cAAc,EAAK/S,MAAM0E,MAAO,EAAK1E,MAAMO,UAGzD2S,YAAWjS,KAAKjB,MAAMO,W,GAvBV8B,IAAMC,WCgTd6Q,G,kDA7Sb,WAAYnT,GAAQ,IAAD,8BACjB,cAAMA,IAED+S,cAAgB,EAAKA,cAAcjS,KAAnB,gBACrB,EAAKsS,YAAc,EAAKA,YAAYtS,KAAjB,gBACnB,EAAKuS,UAAY,EAAKA,UAAUvS,KAAf,gBACjB,EAAKwS,aAAe,EAAKA,aAAaxS,KAAlB,gBAEpB,EAAKyS,SAAWlR,IAAMmR,YAEtB,EAAKzS,MAAQ,CACX2D,MAAO,EACPnE,KAAM,GACNkT,kBAAoB,EAAKzT,MAAMyT,kBAAX,YAAmC,EAAKzT,MAAMyT,mBAAqB,GACvFC,gBAAkB,EAAK1T,MAAM0T,gBAAX,YAAiC,EAAK1T,MAAM0T,iBAAmB,GACjFC,iBAAmB,EAAK3T,MAAM2T,iBAAX,YAAkC,EAAK3T,MAAM2T,kBAAoB,GACpFC,OAAS,EAAK5T,MAAM4T,OAAX,YAAwB,EAAK5T,MAAM4T,QAAU,GACtDC,QAAU,EAAK7T,MAAM6T,QAAX,YAAyB,EAAK7T,MAAM6T,SAAW,GACzDC,eAAiB,EAAK9T,MAAM8T,eAAX,YAAgC,EAAK9T,MAAM8T,gBAAkB,GAC9EC,SAAW,EAAK/T,MAAM+T,SAAX,YAA0B,EAAK/T,MAAM+T,UAAY,IAnB7C,E,0DAsBLrP,EAAOnE,EAAMyT,GAAK,IAAD,OAC7B/S,KAAKC,SAAS,CACZwD,MAAOA,EACP0N,MAAM,EACN7R,KAAMA,EACNyT,GAAIA,IACH,WACDC,SAASC,iBAAiB,YAAa,EAAKd,aAC5Ca,SAASC,iBAAiB,UAAW,EAAKb,gB,kCAGlCrS,GACV,IAEImT,EACJ,OAAQlT,KAAKF,MAAMR,MACjB,IAAK,WACH4T,EAAY,YAAOlT,KAAKF,MAAM0S,mBAC9B,MACF,IAAK,QACHU,EAAY,YAAOlT,KAAKF,MAAM6S,QAC9B,MACF,IAAK,SACHO,EAAe,YAAIlT,KAAKF,MAAM2S,iBAAiBzS,KAAKF,MAAM2D,OAC1D,MACF,IAAK,UACHyP,EAAe,YAAIlT,KAAKF,MAAM4S,kBAAkB1S,KAAKF,MAAM2D,OAC3D,MACF,IAAK,SACHyP,EAAY,YAAOlT,KAAKF,MAAM8S,SAC9B,MACF,IAAK,gBACHM,EAAY,YAAOlT,KAAKF,MAAM+S,gBAC9B,MACF,IAAK,SACHK,EAAY,YAAOlT,KAAKF,MAAMgT,UAGlC,IAmBIK,EAnBAC,EAAOrT,EAAEsT,MAAQrT,KAAKF,MAAMwT,OAAO/B,KAAQgC,GAC3CC,EAAOzT,EAAE0T,MAAQzT,KAAKF,MAAMwT,OAAOjC,IAAOqC,GAmB9C,OAlBIN,EAAO,EACTA,EAAO,EACEA,EAAOpT,KAAKF,MAAMwT,OAAOC,MA9BxB,KA+BVH,EAAOpT,KAAKF,MAAMwT,OAAOC,MA/Bf,IAiCRC,EAAO,EACTA,EAAO,EACEA,EAAOxT,KAAKF,MAAMwT,OAAOI,OAlCvB,KAmCXF,EAAOxT,KAAKF,MAAMwT,OAAOI,OAnCd,IAqCW,WAApB1T,KAAKF,MAAMR,MAAyC,YAApBU,KAAKF,MAAMR,MAC7C4T,EAAalT,KAAKF,MAAMiT,IAAIvB,EAAI4B,EAChCF,EAAalT,KAAKF,MAAMiT,IAAIzB,EAAIkC,IAEhCN,EAAalT,KAAKF,MAAM2D,OAAO+N,EAAI4B,EACnCF,EAAalT,KAAKF,MAAM2D,OAAO6N,EAAIkC,GAG7BxT,KAAKF,MAAMR,MACjB,IAAK,WACHU,KAAKC,SAAS,CACZuS,kBAAmBU,IAErB,MACF,IAAK,QACHlT,KAAKC,SAAS,CACZ0S,OAAQO,IAEV,MACF,IAAK,UACHC,EAAS,YAAOnT,KAAKF,MAAM2S,kBACjBzS,KAAKF,MAAM2D,OAASyP,EAC9BlT,KAAKC,SAAS,CACZwS,gBAAiBU,IAEnB,MACF,IAAK,WACHA,EAAS,YAAOnT,KAAKF,MAAM4S,mBACjB1S,KAAKF,MAAM2D,OAASyP,EAC9BlT,KAAKC,SAAS,CACZyS,iBAAkBS,IAEpB,MACF,IAAK,SACHnT,KAAKC,SAAS,CACZ2S,QAASM,IAEX,MACF,IAAK,gBACHlT,KAAKC,SAAS,CACZ4S,eAAgBK,IAElB,MACF,IAAK,SACHlT,KAAKC,SAAS,CACZ6S,SAAUI,O,gCAKRnT,GAAI,IAAD,OACXiT,SAASW,oBAAoB,YAAa3T,KAAKmS,aAC/Ca,SAASW,oBAAoB,UAAW3T,KAAKoS,WAC7CpS,KAAKC,SAAS,CACZkR,MAAM,IACL,WACD,OAAQ,EAAKrR,MAAMR,MACjB,IAAK,WACH,EAAKP,MAAM6U,wBAAwB,EAAK9T,MAAM0S,mBAC9C,MACF,IAAK,QACH,EAAKzT,MAAM8U,qBAAqB,EAAK/T,MAAM6S,QAC3C,MACF,IAAK,SACH,EAAK5T,MAAM+U,sBAAsB,EAAKhU,MAAM2S,iBAC5C,MACF,IAAK,UACH,EAAK1T,MAAMgV,uBAAuB,EAAKjU,MAAM4S,kBAC7C,MACF,IAAK,SACH,EAAK3T,MAAMiV,sBAAsB,EAAKlU,MAAM8S,SAC5C,MACF,IAAK,gBACH,EAAK7T,MAAMkV,6BAA6B,EAAKnU,MAAM+S,gBACnD,MACF,IAAK,SACH,EAAK9T,MAAMmV,sBAAsB,EAAKpU,MAAMgT,UAGhD,EAAK7S,SAAS,CACZX,UAAMqI,EACNoL,QAAIpL,S,mCAIG2H,EAAWC,GACtB,IAAI4E,GAAO,EAIX,OAHI7E,GAAatP,KAAKjB,QACpBoV,GAAO,GAEFA,I,0CAGFnU,KAAKF,MAAMwT,QACdtT,KAAKC,SAAS,CACZqT,OAAQtT,KAAKsS,SAAS8B,QAAQC,4B,yCAIjB/E,EAAWC,GACxBvP,KAAKqS,aAAa/C,EAAWC,IAC/BvP,KAAKC,SAAS,CACZwD,MAAO,EACPnE,KAAM,GACNkT,kBAAoBxS,KAAKjB,MAAMyT,kBAAX,YAAmCxS,KAAKjB,MAAMyT,mBAAqB,GACvFC,gBAAkBzS,KAAKjB,MAAM0T,gBAAX,YAAiCzS,KAAKjB,MAAM0T,iBAAmB,GACjFC,iBAAmB1S,KAAKjB,MAAM2T,iBAAX,YAAkC1S,KAAKjB,MAAM2T,kBAAoB,GACpFC,OAAS3S,KAAKjB,MAAM4T,OAAX,YAAwB3S,KAAKjB,MAAM4T,QAAU,GACtDC,QAAU5S,KAAKjB,MAAM6T,QAAX,YAAyB5S,KAAKjB,MAAM6T,SAAW,GACzDC,eAAiB7S,KAAKjB,MAAM8T,eAAX,YAAgC7S,KAAKjB,MAAM8T,gBAAkB,GAC9EC,SAAW9S,KAAKjB,MAAM+T,SAAX,YAA0B9S,KAAKjB,MAAM+T,UAAY,O,+BAIxD,IAAD,OACP5R,QAAQC,IAAInB,KAAKjB,OACjB,IAAMuL,EAAYtK,KAAKF,MAAM0S,kBAAkBjP,KAAI,SAAC+Q,EAAK7Q,GACvD,GAAI6Q,EAAI/M,QAAU,EAAKxI,MAAMwV,WAAY,CACvC,IAAI7C,EAAG,yCAAqC,EAAK3S,MAAMuL,UAAU7G,GAAOI,cAAjE,cACP,OACE,kBAAC,GAAD,CAAU6N,IAAKA,EACbF,EAAG8C,EAAI9C,EAAGF,EAAGgD,EAAIhD,EACjBQ,cAAe,EAAKA,cAAerO,MAAOA,EAAOC,IAAKD,EAAO0N,KAAM,EAAKrR,MAAMqR,KAC9E7R,KAAK,WAAWgU,OAAQ,EAAKxT,MAAMwT,SAGvC,MAAO,MAIPX,EAAS,GACb3S,KAAKF,MAAM6S,OAAOpP,KAAI,SAAC+Q,EAAK7Q,GAC1B,GAAI6Q,EAAI/M,QAAU,EAAKxI,MAAMwV,WAS3B,MAAO,GAPP5B,EAAO/H,KACL,kBAAC,GAAD,CAAU8G,IAFF,qBAGNF,EAAG8C,EAAI9C,EAAGF,EAAGgD,EAAIhD,EACjBQ,cAAe,EAAKA,cAAerO,MAAOA,EAAOC,IAAKD,EAAO0N,KAAM,EAAKrR,MAAMqR,KAC9E7R,KAAK,QAAQgU,OAAQ,EAAKxT,MAAMwT,aAOxC,IAAIkB,EAAU,GACdxU,KAAKF,MAAM2S,gBAAgBlP,KAAI,SAAC+Q,EAAK7Q,GACnC6Q,EAAIG,SAAQ,SAACC,EAAG3C,GACd,GAAI2C,EAAEnN,QAAU,EAAKxI,MAAMwV,WAAY,CAErCC,EAAQ5J,KACN,kBAAC,GAAD,CAAU8G,IAFF,sCAGRF,EAAGkD,EAAElD,EAAGF,EAAGoD,EAAEpD,EACbQ,cAAe,EAAKA,cAAerO,MAAOA,EAAOsO,OAAQA,EAAQrO,IAAKqO,EAAStO,EAAQsO,EAAQZ,KAAM,EAAKrR,MAAMqR,KAChH7R,KAAK,SAASgU,OAAQ,EAAKxT,MAAMwT,iBAMzC,IAAIqB,EAAU,GACd3U,KAAKF,MAAM4S,iBAAiBnP,KAAI,SAAC+Q,EAAK7Q,GACpC6Q,EAAIG,SAAQ,SAACG,EAAG5C,GACd,GAAI4C,EAAErN,QAAU,EAAKxI,MAAMwV,WAAY,CACrC,IAAI7C,EAAG,mBAAe,EAAK3S,MAAM4V,QAAQlR,GAAO2B,QAAQ,IAAK,KAAKA,QAAQ,IAAK,KAAxE,QACPuP,EAAQ/J,KACN,kBAAC,GAAD,CAAU8G,IAAKA,EACfF,EAAGoD,EAAEpD,EAAGF,EAAGsD,EAAEtD,EACbQ,cAAe,EAAKA,cAAerO,MAAOA,EAAOuO,OAAQA,EAAQtO,IAAKsO,EAASvO,EAAQuO,EAAQb,KAAM,EAAKrR,MAAMqR,KAChH7R,KAAK,UAAUgU,OAAQ,EAAKxT,MAAMwT,iBAM1C,IAAIV,EAAU,GACd5S,KAAKF,MAAM8S,QAAQrP,KAAI,SAAC+Q,EAAK7Q,GAC3B,GAAI6Q,EAAI/M,QAAU,EAAKxI,MAAMwV,WAAY,CAEvC3B,EAAQhI,KACN,kBAAC,GAAD,CAAU8G,IAFF,uBAGNF,EAAG8C,EAAI9C,EAAGF,EAAGgD,EAAIhD,EACjBQ,cAAe,EAAKA,cAAerO,MAAOA,EAAOC,IAAKD,EAAO0N,KAAM,EAAKrR,MAAMqR,KAC9E7R,KAAK,SAASgU,OAAQ,EAAKxT,MAAMwT,cAKzC,IAAIT,EAAiB,GACrB7S,KAAKF,MAAM+S,eAAetP,KAAI,SAAC+Q,EAAK7Q,GAClC,GAAI6Q,EAAI/M,QAAU,EAAKxI,MAAMwV,WAAY,CAEvC1B,EAAejI,KACb,kBAAC,GAAD,CAAU8G,IAFF,6BAGNF,EAAG8C,EAAI9C,EAAGF,EAAGgD,EAAIhD,EACjBQ,cAAe,EAAKA,cAAerO,MAAOA,EAAOC,IAAKD,EAAO0N,KAAM,EAAKrR,MAAMqR,KAC9E7R,KAAK,gBAAgBgU,OAAQ,EAAKxT,MAAMwT,cAMhD,IAAIR,EAAW,GAaf,OAZA9S,KAAKF,MAAMgT,SAASvP,KAAI,SAAC+Q,EAAK7Q,GAC5B,GAAI6Q,EAAI/M,QAAU,EAAKxI,MAAMwV,WAAY,CAEvCzB,EAASlI,KACP,kBAAC,GAAD,CAAU8G,IAFF,sBAGNF,EAAG8C,EAAI9C,EAAGF,EAAGgD,EAAIhD,EACjBQ,cAAe,EAAKA,cAAerO,MAAOA,EAAOC,IAAKD,EAAO0N,KAAM,EAAKrR,MAAMqR,KAC9E7R,KAAK,SAASgU,OAAQ,EAAKxT,MAAMwT,cAMvC,yBAAKlV,UAAU,mBAAmByW,IAAK7U,KAAKsS,UACxChI,EACAqI,EACAC,EACA4B,EACAG,EACA9B,EACAC,O,GAxSoB1R,IAAMC,WCiCrByT,GAjCO,SAAC/V,GACrB,IAAM2S,EAAG,mBAAe3S,EAAMwE,IAAI6B,QAAQ,IAAK,KAAtC,YAA8CrG,EAAMwI,MAAM6B,cAAchE,QAAQ,IAAK,KAArF,QACHgM,EAAQ,CACZK,gBAAgB,OAAD,OAASC,EAAT,KACfE,mBAAoB,SACpBD,eAAgB,SAElB,OACE,yBAAKvT,UAAU,iBAAiBgT,MAAOA,GACrC,kBAAC,GAAD,CACE9G,UAAWvL,EAAMuL,UACjBkI,kBAAmBzT,EAAMyT,kBACzBgC,QAASzV,EAAMyV,QACf/B,gBAAiB1T,EAAM0T,gBACvBkC,QAAS5V,EAAM4V,QACfjC,iBAAkB3T,EAAM2T,iBACxBC,OAAQ5T,EAAM4T,OACdC,QAAS7T,EAAM6T,QACfC,eAAgB9T,EAAM8T,eACtB0B,WAAYxV,EAAMwV,WAClBzB,SAAU/T,EAAM+T,SAChBc,wBAAyB7U,EAAM6U,wBAC/BE,sBAAuB/U,EAAM+U,sBAC7BD,qBAAsB9U,EAAM8U,qBAC5BE,uBAAwBhV,EAAMgV,uBAC9BC,sBAAuBjV,EAAMiV,sBAC7BC,6BAA8BlV,EAAMkV,6BACpCC,sBAAuBnV,EAAMmV,sBAC7B5U,KAAMP,EAAMO,SCmBLyV,G,kDA7Cb,WAAYhW,GAAQ,uCACZA,G,qDAIN,OACE,yBAAKX,UAAU,UACb,yBAAKA,UAAU,oBACb,kBAAC,GAAD,CAAec,SAAUc,KAAKjB,MAAMiW,YAAa/D,OAAQjR,KAAKjB,MAAMkS,OAAQ1J,MAAOvH,KAAKjB,MAAMwI,SAEhG,kBAAC,GAAD,CAAejI,KAAMU,KAAKjB,MAAMO,KAC9BgL,UAAWtK,KAAKjB,MAAMuL,UACtBkI,kBAAmBxS,KAAKjB,MAAMyT,kBAC9BgC,QAASxU,KAAKjB,MAAMyV,QACpB/B,gBAAiBzS,KAAKjB,MAAM0T,gBAC5BkC,QAAS3U,KAAKjB,MAAM4V,QACpBjC,iBAAkB1S,KAAKjB,MAAM2T,iBAC7BC,OAAQ3S,KAAKjB,MAAM4T,OACnBC,QAAS5S,KAAKjB,MAAM6T,QACpBC,eAAgB7S,KAAKjB,MAAM8T,eAC3BtP,IAAKvD,KAAKjB,MAAMwE,IAAKkM,KAAMzP,KAAKjB,MAAM0Q,KAAM8E,WAAYvU,KAAKjB,MAAMwV,WACnEzB,SAAU9S,KAAKjB,MAAM+T,SACrBvL,MAAOvH,KAAKjB,MAAMwI,MAClBqM,wBAAyB5T,KAAKjB,MAAM6U,wBACpCE,sBAAuB9T,KAAKjB,MAAM+U,sBAClCD,qBAAsB7T,KAAKjB,MAAM8U,qBACjCE,uBAAwB/T,KAAKjB,MAAMgV,uBACnCC,sBAAuBhU,KAAKjB,MAAMiV,sBAClCC,6BAA8BjU,KAAKjB,MAAMkV,6BACzCC,sBAAuBlU,KAAKjB,MAAMmV,wBACpC,yBAAK9V,UAAU,gBACb,0CACA,4BACE,qDACA,6CACA,qCAEF,qCACA,kC,GAvCWgD,IAAMC,WCHrB4T,GAAcC,iBACdC,GAAgBC,iBAChBC,GAAgBC,UAyGPC,G,kDAtGb,WAAYxW,GAAQ,uCACZA,G,qDAEE,IAAD,OACDyW,EAAmC,WAApBxV,KAAKjB,MAAMO,KAC9B2V,GAAY1R,KAAI,SAACkS,EAAQhS,GACvB,OAAO,4BAAQC,IAAKD,GAAQgS,MAG9BN,GAAc5R,KAAI,SAACkS,EAAQhS,GACzB,OAAO,4BAAQC,IAAKD,GAAQgS,MAQ1BnL,GAL6B,WAApBtK,KAAKjB,MAAMO,KACxB4V,iBAEAE,iBAEqC,WAApBpV,KAAKjB,MAAMO,KAC5BoW,qBAEAC,sBAGIC,EAAS5V,KAAKjB,MAAM8W,MAAMtS,KAAI,SAACN,EAAMQ,GACzC,IAAMiC,EAAIjC,EACJqS,EAA+C,SAA5B,EAAK/W,MAAM8W,MAAMpS,GACxC6G,EAAU,EAAKvL,MAAM8W,MAAMpS,IAAQF,KAAI,SAACmH,EAAUjH,GAChD,GAAI,EAAK1E,MAAMuL,UAAU1G,QAAQ8G,GAAY,GAAK,EAAK3L,MAAMuL,UAAU1G,QAAQ8G,KAAchF,EAC3F,OAAO,4BAAQhC,IAAKD,GAAQiH,EAAStB,kBAGvC,GACE2M,EAAsC,WAApB,EAAKhX,MAAMO,KACjC+V,GAAcW,OAAO,EAAKjX,MAAMuL,UAAU7G,IAAQF,KAAI,SAAC0S,EAAQxS,GAC7D,OAAO,4BAAQC,IAAKD,GAAQwS,MAG9BZ,GAAca,QAAQ,EAAKnX,MAAMuL,UAAU7G,IAAQF,KAAI,SAAC0S,EAAQxS,GAC9D,OAAO,4BAAQC,IAAKD,GAAQwS,MAG9B,OACE,yBAAK7X,UAAW,QAAU,EAAKW,MAAMoX,iBAAmB1S,EAAQ,gBAAkB,IAAKC,IAAKD,GAC1F,yBAAKrF,UAAU,cACX,EAAKW,MAAMoX,iBAAmB1S,EAC9B,6BACE,4BAAQrF,UAAU,eAAec,SAAU,SAACa,GAAQ,EAAKhB,MAAMqX,YAAYrW,EAAG0D,IAAUpE,MAAO,EAAKN,MAAM8W,MAAMpS,IAC5G+R,GAEJ,4BAAQpX,UAAU,eAAec,SAAU,SAACa,GAAQ,EAAKhB,MAAMsX,gBAAgBtW,EAAG0D,IAAUpE,MAAO,EAAKN,MAAMuL,UAAU7G,GAAQ6S,SAAsC,SAA5B,EAAKvX,MAAM8W,MAAMpS,IACzJ,4CACEqS,IAIN,6BACE,uBAAG1X,UAAU,cAAb,SAAiC,EAAKW,MAAM8W,MAAMpS,IAClD,uBAAGrF,UAAU,iBAAb,YAAuC,EAAKW,MAAM4V,QAAQlR,MAIhE,yBAAKrF,UAAU,cAAcwI,QAAS,WAAQ,EAAK7H,MAAMwX,eAAe9S,KACtE,yBAAKrF,UAAU,cAAc4F,IAAG,mBAAc,EAAKjF,MAAMuL,UAAU7G,GAAnC,WAEhC,EAAK1E,MAAMoX,iBAAmB1S,EAC9B,yBAAKrF,UAAU,cACb,yBAAKA,UAAU,kBACb,4BAAQA,UAAU,SAASwI,QAAS,WAAQ,EAAK7H,MAAMyX,eAAe,EAAKzX,MAAMoX,kBAAjF,aACA,4BAAQ/X,UAAU,SAASwI,QAAS,WAAQ,EAAK7H,MAAM0X,eAAe,EAAK1X,MAAMoX,kBAAjF,cAEF,yBAAK/X,UAAU,gBACb,2BAAI,EAAKW,MAAMyV,QAAQ/Q,GAAOwS,QAC9B,yBAAK7X,UAAU,oBACb,4BAAQA,UAAU,SAASwI,QAAS,WAAQ,EAAK7H,MAAM2X,aAAa,EAAK3X,MAAMoX,kBAA/E,KACA,4BAAQ/X,UAAU,SAASwI,QAAS,WAAQ,EAAK7H,MAAM4X,aAAa,EAAK5X,MAAMoX,kBAA/E,OAGJ,yBAAK/X,UAAU,iBACb,4BAAQA,UAAU,eAAec,SAAU,SAACa,GAAQ,EAAKhB,MAAM6X,cAAc7W,EAAG0D,IAAUpE,MAAO,EAAKN,MAAM4V,QAAQlR,IAClH,2CACEsS,GAEJ,yBAAK3X,UAAU,oBACb,4BAAQA,UAAU,SAASwI,QAAS,WAAQ,EAAK7H,MAAM8X,cAAc,EAAK9X,MAAMoX,kBAAhF,KACA,4BAAQ/X,UAAU,SAASwI,QAAS,WAAQ,EAAK7H,MAAM+X,cAAc,EAAK/X,MAAMoX,kBAAhF,QAIJ,OAIZ,OACE,yBAAK/X,UAAU,UACb,sCACEwX,O,GAjGWxU,IAAMC,WCw5BZ0V,G,kDA93Bb,WAAYhY,GAAQ,IAAD,8BACjB,cAAMA,IAED8P,UAAY,EAAKA,UAAUhP,KAAf,gBACjB,EAAKqQ,SAAW,EAAKA,SAASrQ,KAAd,gBAChB,EAAK6P,WAAa,EAAKA,WAAW7P,KAAhB,gBAClB,EAAKsQ,WAAa,EAAKA,WAAWtQ,KAAhB,gBAClB,EAAKuW,YAAc,EAAKA,YAAYvW,KAAjB,gBACnB,EAAKmP,WAAa,EAAKA,WAAWnP,KAAhB,gBAClB,EAAKmV,YAAc,EAAKA,YAAYnV,KAAjB,gBACnB,EAAKoQ,KAAO,EAAKA,KAAKpQ,KAAV,gBAGZ,EAAKuQ,YAAc,EAAKA,YAAYvQ,KAAjB,gBACnB,EAAKwQ,eAAiB,EAAKA,eAAexQ,KAApB,gBACtB,EAAKkO,eAAiB,EAAKA,eAAelO,KAApB,gBAGtB,EAAK+Q,YAAc,EAAKA,YAAY/Q,KAAjB,gBACnB,EAAKgR,SAAW,EAAKA,SAAShR,KAAd,gBAChB,EAAKiR,YAAc,EAAKA,YAAYjR,KAAjB,gBACnB,EAAK2Q,gBAAkB,EAAKA,gBAAgB3Q,KAArB,gBAGvB,EAAKwW,gBAAkB,EAAKA,gBAAgBxW,KAArB,gBACvB,EAAK+T,wBAA0B,EAAKA,wBAAwB/T,KAA7B,gBAC/B,EAAK0W,eAAiB,EAAKA,eAAe1W,KAApB,gBACtB,EAAK2W,eAAiB,EAAKA,eAAe3W,KAApB,gBACtB,EAAK4W,eAAiB,EAAKA,eAAe5W,KAApB,gBAGtB,EAAKgU,qBAAuB,EAAKA,qBAAqBhU,KAA1B,gBAC5B,EAAKgQ,YAAc,EAAKA,YAAYhQ,KAAjB,gBACnB,EAAKmX,YAAc,EAAKA,YAAYnX,KAAjB,gBAGnB,EAAKiU,sBAAwB,EAAKA,sBAAsBjU,KAA3B,gBAC7B,EAAK6W,aAAe,EAAKA,aAAa7W,KAAlB,gBACpB,EAAK8W,aAAe,EAAKA,aAAa9W,KAAlB,gBAGpB,EAAK+W,cAAgB,EAAKA,cAAc/W,KAAnB,gBACrB,EAAKkU,uBAAyB,EAAKA,uBAAuBlU,KAA5B,gBAC9B,EAAKgX,cAAgB,EAAKA,cAAchX,KAAnB,gBACrB,EAAKiX,cAAgB,EAAKA,cAAcjX,KAAnB,gBAGrB,EAAKmU,sBAAwB,EAAKA,sBAAsBnU,KAA3B,gBAC7B,EAAKkQ,aAAe,EAAKA,aAAalQ,KAAlB,gBACpB,EAAKoX,aAAe,EAAKA,aAAapX,KAAlB,gBAGpB,EAAKoU,6BAA+B,EAAKA,6BAA6BpU,KAAlC,gBACpC,EAAKmQ,oBAAsB,EAAKA,oBAAoBnQ,KAAzB,gBAC3B,EAAKqX,oBAAsB,EAAKA,oBAAoBrX,KAAzB,gBAG3B,EAAKqU,sBAAwB,EAAKA,sBAAsBrU,KAA3B,gBAC7B,EAAKiQ,aAAe,EAAKA,aAAajQ,KAAlB,gBACpB,EAAKsX,aAAe,EAAKA,aAAatX,KAAlB,gBAEpB,EAAKC,MAAQ,CACXqW,eAAgB,EAChBjG,UAAU,GA/DK,E,sDAkETpG,GACR,GAAIyE,YAAU3K,QAAQkG,IAAS,EAAG,CAChC,IAAIvG,EAAM,CACRuG,KAAMA,EACNkM,OAAQ,IAENoB,EAAiB,CACnBtN,KAAM,UACN+L,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QACxCvL,UAAW,CAAC,WAAY,WAAY,WAAY,WAAY,YAC5DqK,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WACtDH,QAAS,CAAC,GAAI,GAAI,GAAI,GAAI,KAE5B6C,QAAMvN,GAAMvG,KAAI,SAACkM,GACf2H,EAAe3H,GAAQ,CACrB,CACE6H,WAAY,GACZ5E,iBAAkB,CAAC,GAAI,GAAI,GAAI,GAAI,IACnCD,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,IAClCK,SAAU,GACVN,kBAAmB,CAAC,CAAChB,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,IACtFqB,OAAQ,GACR4E,MAAO,GACPzN,KAAM,eAIZvG,EAAIyS,OAAOpL,KAAKwM,GAChB,IAAII,EAAkB,GACtBH,QAAMvN,GAAMvG,KAAI,SAACkM,GACf+H,EAAgB/H,GAAQ,CACtB,CACE3F,KAAM,UACN+L,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QACxCvL,UAAW,CAAC,WAAY,WAAY,WAAY,WAAY,YAC5DqK,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WACtDH,QAAS,CAAC,GAAI,GAAI,GAAI,GAAI,IAC1B3B,eAAgB,GAChBD,QAAS,GACTF,iBAAkB,CAAC,GAAI,GAAI,GAAI,GAAI,IACnCD,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,IAClChC,OAAQ,CACN,CACE6G,WAAY,GACZ9E,kBAAmB,CAAC,CAAChB,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,IACtFiG,MAAO,GACPzN,KAAM,iBAMhBvG,EAAI2S,QAAUsB,EACdxX,KAAKC,SAAS,CACZiQ,UAAU,EACV3M,IAAKA,EACLiM,MAAO6H,QAAM9T,EAAIuG,MACjB2F,KAAM4H,QAAM9T,EAAIuG,MAAM,GACtB6F,UAAW,EACXC,cAAe,EACf3B,WAAY1K,EAAIyS,OAChBrF,WAAY,EACZF,OAAQlN,EAAIyS,OAAO,GAAGqB,QAAM9T,EAAIuG,MAAM,IACtCmH,OAAQwG,SAAOlU,EAAIuG,MACnByK,WAAY,EACZjV,KAAM,c,iCAKVU,KAAKC,SAAS,CACZiQ,UAAU,M,iCAGHzM,GACTzD,KAAKC,SAAS,CACZwP,KAAMzP,KAAKF,MAAM0P,MAAM/L,GACvBkM,UAAWlM,EACXkN,WAAY,EACZF,OAA6B,WAApBzQ,KAAKF,MAAMR,KAAoBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM0P,MAAM/L,IAAUzD,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM0P,MAAM/L,IAAQzD,KAAKF,MAAM8P,eAAea,OAC7Lb,cAAe,EACf3B,WAAiC,WAApBjO,KAAKF,MAAMR,KAAoBU,KAAKF,MAAMmO,WAAajO,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM0P,MAAM/L,Q,iCAGrGnE,GACI,WAATA,EACFU,KAAKC,SAAS,CACZX,KAAM,SACNmQ,KAAMzP,KAAKF,MAAM0P,MAAM,GACvBG,UAAW,EACX1B,WAAYjO,KAAKF,MAAMyD,IAAIyS,OAC3BpG,cAAe,EACfa,OAAQzQ,KAAKF,MAAMyD,IAAIyS,OAAO,GAAGhW,KAAKF,MAAM0P,MAAM,IAClDmB,WAAY,EACZ4D,WAAY,IAGdvU,KAAKC,SAAS,CACZX,KAAM,UACNmQ,KAAMzP,KAAKF,MAAM0P,MAAM,GACvBG,UAAW,EACX1B,WAAYjO,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM0P,MAAM,IACpDI,cAAe,EACfa,OAAQzQ,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM0P,MAAM,IAAI,GAAGiB,OACvDE,WAAY,EACZ4D,WAAY,M,kCAINxU,EAAG0D,GACb,IAAIF,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,MACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAeiG,MAAMpS,GAAS1D,EAAEG,OAAOb,MAC7DkE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAetF,UAAU7G,GAAS,WACxDF,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe4E,QAAQ/Q,GAAS,GACtDF,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe+E,QAAQlR,GAAS,YAEtDF,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAeiG,MAAMpS,GAAS1D,EAAEG,OAAOb,MAC/EkE,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAetF,UAAU7G,GAAS,WAC1EF,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe4E,QAAQ/Q,GAAS,GACxEF,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe+E,QAAQlR,GAAS,WAE1EzD,KAAKC,SAAS,CACZsD,IAAKA,M,iCAGEuG,GACT,IAAIvG,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,KACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe9F,KAAOA,EAE5CvG,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe9F,KAAOA,EAEhE9J,KAAKC,SAAS,CACZsD,IAAKA,M,kCAGGxD,GACVC,KAAKC,SAAS,CACZsU,WAAYvU,KAAKF,MAAMmR,OAAOrN,QAAQ7D,EAAEG,OAAOb,W,qCAGpCoE,GACbzD,KAAKC,SAAS,CACZkW,eAAgB1S,M,6BAIlBvC,QAAQC,IAAI,W,oCAKZ,IACIuW,EADAnU,EAAMvD,KAAKF,MAAMyD,IAErB,GAAwB,WAApBvD,KAAKF,MAAMR,KAAmB,CAChC,IAAI8X,EAAiB,CACnBtN,KAAM,UACN+L,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QACxCvL,UAAW,CAAC,WAAY,WAAY,WAAY,WAAY,YAC5DqK,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WACtDH,QAAS,CAAC,GAAI,GAAI,GAAI,GAAI,KAE5B6C,QAAMrX,KAAKF,MAAMyD,IAAIuG,MAAMvG,KAAI,SAACkM,GAC9B2H,EAAe3H,GAAQ,CACrB,CACE6H,WAAY,GACZ5E,iBAAkB,CAAC,GAAI,GAAI,GAAI,GAAI,IACnCD,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,IAClCK,SAAU,GACVN,kBAAmB,CAAC,CAAChB,EAAG,EAAGF,EAAG,EAAG/J,MAAO,GAAI,CAACiK,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,GAAI,CAACE,EAAG,EAAGF,EAAG,IAChGqB,OAAQ,GACR4E,MAAO,GACPzN,KAAM,eAIZvG,EAAIyS,OAAOpL,KAAKwM,GAChBM,EAAgBnU,EAAIyS,WACf,CAoBLzS,EAAI2S,QAAQlW,KAAKF,MAAM0P,MAAMxP,KAAKF,MAAM6P,YAAY/E,KAnB9B,CACpBd,KAAM,UACN+L,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,QACxCvL,UAAW,CAAC,WAAY,WAAY,WAAY,WAAY,YAC5DqK,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WACtDH,QAAS,CAAC,GAAI,GAAI,GAAI,GAAI,IAC1B3B,eAAgB,GAChBD,QAAS,GACTF,iBAAkB,CAAC,GAAI,GAAI,GAAI,GAAI,IACnCD,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,IAClChC,OAAQ,CACN,CACE6G,WAAY,GACZ9E,kBAAmB,CAAC,CAAChB,EAAG,KAAMF,EAAG,MAAO,CAACE,EAAG,KAAMF,EAAG,MAAO,CAACE,EAAG,KAAMF,EAAG,MAAO,CAACE,EAAG,KAAMF,EAAG,MAAO,CAACE,EAAG,KAAMF,EAAG,OACjHiG,MAAO,GACPzN,KAAM,cAKZ4N,EAAgBnU,EAAI2S,QAAQlW,KAAKF,MAAM0P,MAAMxP,KAAKF,MAAM6P,YAE1D3P,KAAKC,SAAS,CACZsD,IAAKA,EACL0K,WAAYyJ,EACZ9H,cAAe5P,KAAKF,MAAM8P,cAAgB,M,uCAI5C,GAAqC,IAAjC5P,KAAKF,MAAMmO,WAAW/I,OAAc,CACtC,IAAIwS,EAAa,YAAO1X,KAAKF,MAAMmO,YACnCyJ,EAAcvT,OAAOnE,KAAKF,MAAM8P,cAAe,GAC/C,IAAIrM,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,KACbiE,EAAIyS,OAAS0B,EAEbnU,EAAI2S,QAAQlW,KAAKF,MAAM0P,MAAMxP,KAAKF,MAAM6P,YAAc+H,EAExD1X,KAAKC,SAAS,CACZsD,IAAKA,EACLqM,cAAgB5P,KAAKF,MAAM8P,cAAgB,GAAK,EAAI5P,KAAKF,MAAM8P,cAAgB,EAAI,EACnF3B,WAAYyJ,O,qCAIHjU,GACbzD,KAAKC,SAAS,CACZ2P,cAAenM,M,iCAMjB,IAAIgN,EACAlN,EAAMvD,KAAKF,MAAMyD,IAErB,GAAwB,WAApBvD,KAAKF,MAAMR,KAAmB,CAChCmR,EAAM,YAAOlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,OAC7D,IAAIkI,EAAWC,KAAKC,MAAMD,KAAKE,UAAUrH,EAAOA,EAAOvL,OAAS,KAChEyS,EAASJ,MAAQ,GACjBI,EAAS7N,KALA,UAMT6N,EAASL,WAAa,GACtB7G,EAAO7F,KAAK+M,GACZpU,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAQgB,MACnD,CACLA,EAAM,YAAOlN,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,QACpE,IAAIkH,EAAWC,KAAKC,MAAMD,KAAKE,UAAUrH,EAAOA,EAAOvL,OAAS,KAChEyS,EAASJ,MAAQ,GACjBI,EAASL,WAAa,GACtBK,EAAS7N,KAdA,UAeT2G,EAAO7F,KAAK+M,GACZpU,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAASA,EAElEzQ,KAAKC,SAAS,CACZwQ,OAAQA,EACRlN,IAAKA,EACLoN,WAAY3Q,KAAKF,MAAM6Q,WAAa,M,oCAItC,GAAI3Q,KAAKF,MAAM6Q,WAAa,GAAK,EAAG,CAClC,IAAIF,EACAlN,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,OACbmR,EAAM,YAAOlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,QACtDtL,OAAOnE,KAAKF,MAAM6Q,WAAY,GACrCpN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAQgB,KAExDA,EAAM,YAAOlN,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,SAC7DtM,OAAOnE,KAAKF,MAAM6Q,WAAY,GACrCpN,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAASA,GAElEzQ,KAAKC,SAAS,CACZwQ,OAAQA,EACRlN,IAAKA,EACLoN,WAAY3Q,KAAKF,MAAM6Q,WAAa,O,kCAI9BlN,GACVzD,KAAKC,SAAS,CACZ0Q,WAAYlN,M,sCAGAqG,EAAMrG,GACpB,IACIgN,EACAxC,EAFA1K,EAAMvD,KAAKF,MAAMyD,IAGG,WAApBvD,KAAKF,MAAMR,MACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMhM,GAAOqG,KAAOA,EACpE2G,EAASlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MACzDxB,EAAa1K,EAAIyS,SAEjBzS,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAAOhN,GAAOqG,KAAOA,EAC5E2G,EAASlN,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAChExC,EAAa1K,EAAI2S,QAAQlW,KAAKF,MAAM2P,OAEtCzP,KAAKC,SAAS,CACZsD,IAAKA,EACLkN,OAAQA,EACRxC,WAAYA,M,qCAKDxK,GACb,IAAIF,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,KACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY6B,kBAAkB/O,GAAO8D,MAAQvH,KAAKF,MAAMyU,WAEzHhR,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAAOzQ,KAAKF,MAAM6Q,YAAY6B,kBAAkB/O,GAAO8D,MAAQvH,KAAKF,MAAMyU,WAEnIvU,KAAKC,SAAS,CACZsD,IAAKA,M,qCAGME,GACb,IAAIF,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,KACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY6B,kBAAkB/O,GAAO8D,WAAQI,EAE9GpE,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAAOzQ,KAAKF,MAAM6Q,YAAY6B,kBAAkB/O,GAAO8D,WAAQI,EAExH3H,KAAKC,SAAS,CACZsD,IAAKA,M,sCAGOxD,EAAG0D,GACjB,IAAIF,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,MACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAetF,UAAU7G,GAAS1D,EAAEG,OAAOb,MACjEkE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe4E,QAAQ/Q,GAASsU,UAAQhY,EAAEG,OAAOb,OACvEkE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe+E,QAAQlR,GAAS,YAEtDF,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAetF,UAAU7G,GAAS1D,EAAEG,OAAOb,MACnFkE,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe4E,QAAQ/Q,GAASsU,UAAQhY,EAAEG,OAAOb,OACzFkE,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe+E,QAAQlR,GAAS,WAE1EzD,KAAKC,SAAS,CACZsD,IAAKA,M,8CAGe4P,GACtB,IACI1C,EACAxC,EAFA1K,EAAMvD,KAAKF,MAAMyD,IAGG,WAApBvD,KAAKF,MAAMR,MACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY6B,kBAAoBW,EACjG1C,EAASlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MACzDxB,EAAa1K,EAAIyS,SAEjBzS,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAAOzQ,KAAKF,MAAM6Q,YAAY6B,kBAAoBW,EACzG1C,EAASlN,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAChExC,EAAa1K,EAAI2S,QAAQlW,KAAKF,MAAM2P,OAEtCzP,KAAKC,SAAS,CACZsD,IAAKA,EACLkN,OAAQA,EACRxC,WAAYA,M,oCAMd,GAAIjO,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYgC,OAAOzN,OAAS,GAAK,GAAI,CACnH,IAAI8S,EAAQ,CACVxG,EAAG,EACHF,EAAG,EACH/J,MAAOvH,KAAKF,MAAMyU,YAEhBhR,EAAMvD,KAAKF,MAAMyD,IACrBA,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYgC,OAAO/H,KAAKoN,GACzFhY,KAAKC,SAAS,CACZsD,IAAKA,O,oCAKT,GAAIvD,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYgC,OAAOzN,OAAS,GAAK,EAAG,CAClH,IAAI3B,EAAMvD,KAAKF,MAAMyD,IACrBA,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYgC,OAAOsF,MACpFjY,KAAKC,SAAS,CACZsD,IAAKA,O,2CAIU4P,GACnB,IACI1C,EACAxC,EAFA1K,EAAMvD,KAAKF,MAAMyD,IAGrBA,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYgC,OAASQ,EACtF1C,EAASlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MACzDxB,EAAa1K,EAAIyS,OACjBhW,KAAKC,SAAS,CACZsD,IAAKA,EACLkN,OAAQA,EACRxC,WAAYA,M,mCAKHxK,GACX,IAAIF,EAAMvD,KAAKF,MAAMyD,IACjB0S,EAAS,CACXzE,EAAG,EACHF,EAAG,EACH/J,MAAOvH,KAAKF,MAAMyU,YAEI,WAApBvU,KAAKF,MAAMR,KACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY8B,gBAAgBhP,GAAOmH,KAAKqL,GAEzG1S,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe6C,gBAAgBhP,GAAOmH,KAAKqL,GAErFjW,KAAKC,SAAS,CACZsD,IAAKA,M,mCAGIE,GACX,IAAIF,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,KACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY8B,gBAAgBhP,GAAOwU,MAEpG1U,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe6C,gBAAgBhP,GAAOwU,MAEhFjY,KAAKC,SAAS,CACZsD,IAAKA,M,4CAGa4P,GACpB,IACI1C,EACAxC,EAFA1K,EAAMvD,KAAKF,MAAMyD,IAGG,WAApBvD,KAAKF,MAAMR,MACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY8B,gBAAkBU,EAC/F1C,EAASlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MACzDxB,EAAa1K,EAAIyS,SAEjBzS,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAAOzQ,KAAKF,MAAM6Q,YAAY8B,gBAAkBU,EACvG1C,EAASlN,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAChExC,EAAa1K,EAAI2S,QAAQlW,KAAKF,MAAM2P,OAEtCzP,KAAKC,SAAS,CACZsD,IAAKA,EACLkN,OAAQA,EACRxC,WAAYA,M,oCAKFlO,EAAG0D,GACf,IAAIF,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,KACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe+E,QAAQlR,GAAS1D,EAAEG,OAAOb,MAE/DkE,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe+E,QAAQlR,GAAS1D,EAAEG,OAAOb,MAEnFW,KAAKC,SAAS,CACZsD,IAAKA,M,6CAGc4P,GACrB,IACI1C,EACAxC,EAFA1K,EAAMvD,KAAKF,MAAMyD,IAGG,WAApBvD,KAAKF,MAAMR,MACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY+B,iBAAmBS,EAChG1C,EAASlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MACzDxB,EAAa1K,EAAIyS,SAEjBzS,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAAOzQ,KAAKF,MAAM6Q,YAAY+B,iBAAmBS,EACxG1C,EAASlN,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAChExC,EAAa1K,EAAI2S,QAAQlW,KAAKF,MAAM2P,OAEtCzP,KAAKC,SAAS,CACZsD,IAAKA,EACLkN,OAAQA,EACRxC,WAAYA,M,oCAGFxK,GACZ,IAAIF,EAAMvD,KAAKF,MAAMyD,IACjBoR,EAAU,CACZnD,EAAG,EACHF,EAAG,EACH/J,MAAOvH,KAAKF,MAAMyU,YAEI,WAApBvU,KAAKF,MAAMR,KACTiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY+B,iBAAiBjP,GAAOyB,OAAS,GAAKgT,gBAAc3U,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe+E,QAAQlR,KAChLF,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY+B,iBAAiBjP,GAAOmH,KAAK+J,GAGxGpR,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe8C,iBAAiBjP,GAAOyB,OAAS,GAAKgT,gBAAc3U,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe+E,QAAQlR,KAC5KF,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe8C,iBAAiBjP,GAAOmH,KAAK+J,GAGxF3U,KAAKC,SAAS,CACZsD,IAAKA,M,oCAGKE,GACZ,IAAIF,EAAMvD,KAAKF,MAAMyD,IACG,WAApBvD,KAAKF,MAAMR,KACbiE,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY+B,iBAAiBjP,GAAOwU,MAErG1U,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe8C,iBAAiBjP,GAAOwU,MAEjFjY,KAAKC,SAAS,CACZsD,IAAKA,M,4CAKa4P,GACpB,IACIlF,EADA1K,EAAMvD,KAAKF,MAAMyD,IAErBA,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAegD,QAAUO,EACjElF,EAAa1K,EAAI2S,QAAQlW,KAAKF,MAAM2P,MACpCzP,KAAKC,SAAS,CACZsD,IAAKA,EACL0K,WAAYA,M,qCAId,IAAI1K,EAAMvD,KAAKF,MAAMyD,IACjB4U,EAAS,CACX3G,EAAG,EACHF,EAAG,EACH/J,MAAOvH,KAAKF,MAAMyU,YAEpBhR,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAegD,QAAQhI,KAAKuN,GACpEnY,KAAKC,SAAS,CACZsD,IAAKA,M,qCAIP,IAAIA,EAAMvD,KAAKF,MAAMyD,IACrBA,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAegD,QAAQqF,MAC/DjY,KAAKC,SAAS,CACZsD,IAAKA,M,mDAKoB4P,GAC3B,IACIlF,EADA1K,EAAMvD,KAAKF,MAAMyD,IAErBA,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAeiD,eAAiBM,EACxElF,EAAa1K,EAAI2S,QAAQlW,KAAKF,MAAM2P,MACpCzP,KAAKC,SAAS,CACZsD,IAAKA,EACL0K,WAAYA,M,4CAId,IAAI1K,EAAMvD,KAAKF,MAAMyD,IACjB6U,EAAgB,CAClB5G,EAAG,EACHF,EAAG,EACH/J,MAAOvH,KAAKF,MAAMyU,YAEpBhR,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAeiD,eAAejI,KAAKwN,GAC3EpY,KAAKC,SAAS,CACZsD,IAAKA,M,4CAIP,IAAIA,EAAMvD,KAAKF,MAAMyD,IACrBA,EAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAeiD,eAAeoF,MACtEjY,KAAKC,SAAS,CACZsD,IAAKA,M,4CAKa4P,GACpB,IACI1C,EACAxC,EAFA1K,EAAMvD,KAAKF,MAAMyD,IAGrBA,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYmC,SAAWK,EACxF1C,EAASlN,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MACzDxB,EAAa1K,EAAIyS,OACjBhW,KAAKC,SAAS,CACZsD,IAAKA,EACLkN,OAAQA,EACRxC,WAAYA,M,qCAId,GAAIjO,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYmC,SAAS5N,OAAS,GAAK,GAAI,CACrH,IAAImT,EAAS,CACX7G,EAAG,EACHF,EAAG,EACH/J,MAAOvH,KAAKF,MAAMyU,YAEhBhR,EAAMvD,KAAKF,MAAMyD,IACrBA,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYmC,SAASlI,KAAKyN,GAC3FrY,KAAKC,SAAS,CACZsD,IAAKA,O,qCAKT,GAAIvD,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYmC,SAAS5N,OAAS,GAAK,EAAG,CACpH,IAAI3B,EAAMvD,KAAKF,MAAMyD,IACrBA,EAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYmC,SAASmF,MACtFjY,KAAKC,SAAS,CACZsD,IAAKA,O,+BAOT,OADArC,QAAQC,IAAInB,KAAKF,OAEf,yBAAKzB,GAAG,uBACJ2B,KAAKF,MAAMH,QACX,kBAAC,EAAD,MAEA,yBAAKvB,UAAU,WACX4B,KAAKF,MAAMoQ,SACX,kBAAC,GAAD,CAAarB,UAAW7O,KAAK6O,UAAWV,KAAMnO,KAAKjB,MAAMoP,OAEzD,yBAAK/P,UAAU,eACb,kBAAC,GAAD,CACE8R,SAAUlQ,KAAKkQ,SACf3M,IAAKvD,KAAKF,MAAMyD,IAChB0K,WAAYjO,KAAKF,MAAMmO,WACvB2B,cAAe5P,KAAKF,MAAM8P,cAC1B7B,eAAgB/N,KAAK+N,eACrBzO,KAAMU,KAAKF,MAAMR,KACjB6Q,WAAYnQ,KAAKmQ,WACjBR,UAAW3P,KAAKF,MAAM6P,UACtBH,MAAOxP,KAAKF,MAAM0P,MAClBE,WAAY1P,KAAK0P,WACjBU,YAAapQ,KAAKoQ,YAClBC,eAAgBrQ,KAAKqQ,eACrBlB,SAA8B,WAApBnP,KAAKF,MAAMR,KACnBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe9F,KAEhD9J,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe9F,KAEpEmF,mBAAoBjP,KAAKgP,WACzB2D,OAA4B,WAApB3S,KAAKF,MAAMR,KACjBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYgC,YAAUhL,EACpGkI,YAAa7P,KAAK6P,YAClBmH,YAAahX,KAAKgX,YAClBpE,QAA6B,WAApB5S,KAAKF,MAAMR,UAClBqI,EACG3H,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAegD,QACvE7C,aAAc/P,KAAK+P,aACnBkH,aAAcjX,KAAKiX,aACnBpE,eAAoC,WAApB7S,KAAKF,MAAMR,UACzBqI,EACG3H,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAeiD,eACvE7C,oBAAqBhQ,KAAKgQ,oBAC1BkH,oBAAqBlX,KAAKkX,oBAC1BpE,SAA+B,WAApB9S,KAAKF,MAAMR,KACpBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYmC,cACtFnL,EACJmI,aAAc9P,KAAK8P,aACnBqH,aAAcnX,KAAKmX,aACnBrW,MAAOd,KAAKjB,MAAM+B,MAAOmP,KAAMjQ,KAAKiQ,OACtC,8BACE,kBAAC,GAAD,CACE1M,IAAKvD,KAAKF,MAAMyD,IAAIuG,KACpBqF,SAA8B,WAApBnP,KAAKF,MAAMR,KACnBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe9F,KAEhD9J,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe9F,KAEpEmE,WAAYjO,KAAKF,MAAMmO,WACvBF,eAAgB/N,KAAK+N,eACrB6B,cAAe5P,KAAKF,MAAM8P,cAC1BJ,MAAOxP,KAAKF,MAAM0P,MAClBE,WAAY1P,KAAK0P,WACjBC,UAAW3P,KAAKF,MAAM6P,UACtBc,OAAQzQ,KAAKF,MAAM2Q,OACnBG,YAAa5Q,KAAK4Q,YAClBD,WAAY3Q,KAAKF,MAAM6Q,WACvBE,SAAU7Q,KAAK6Q,SACfC,YAAa9Q,KAAK8Q,YAClBN,gBAAiBxQ,KAAKwQ,gBACtBlR,KAAMU,KAAKF,MAAMR,OACnB,kBAAC,GAAD,CACEA,KAAMU,KAAKF,MAAMR,KACjBgL,UAAgC,WAApBtK,KAAKF,MAAMR,KACrBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAetF,UAC7CtK,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAetF,UACvEkI,kBAAwC,WAApBxS,KAAKF,MAAMR,KAC7BU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY6B,kBACxFxS,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAea,OAAOzQ,KAAKF,MAAM6Q,YAAY6B,kBAElGgC,QAA8B,WAApBxU,KAAKF,MAAMR,KACnBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe4E,QAC7CxU,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe4E,QACvE/B,gBAAsC,WAApBzS,KAAKF,MAAMR,KAC3BU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY8B,gBACxFzS,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe6C,gBAEpEkC,QAA8B,WAApB3U,KAAKF,MAAMR,KACnBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe+E,QAC7C3U,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe+E,QACvEjC,iBAAuC,WAApB1S,KAAKF,MAAMR,KAC5BU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAY+B,iBACxF1S,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe8C,iBAEpEC,OAA6B,WAApB3S,KAAKF,MAAMR,KAClBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYgC,YACtFhL,EACJiL,QAA8B,WAApB5S,KAAKF,MAAMR,UACnBqI,EACE3H,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAegD,QACtEC,eAAqC,WAApB7S,KAAKF,MAAMR,UAC1BqI,EACE3H,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAeiD,eACtEtP,IAAKvD,KAAKF,MAAMyD,IAAIuG,KAAM2F,KAAMzP,KAAKF,MAAM2P,KAAM8E,WAAYvU,KAAKF,MAAMyU,WACxEzB,SAA+B,WAApB9S,KAAKF,MAAMR,KACpBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe5P,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM6Q,YAAYmC,cACtFnL,EACJJ,MAAOvH,KAAKF,MAAMmR,OAAOjR,KAAKF,MAAMyU,YACpCX,wBAAyB5T,KAAK4T,wBAC9BE,sBAAuB9T,KAAK8T,sBAC5BD,qBAAsB7T,KAAK6T,qBAC3BE,uBAAwB/T,KAAK+T,uBAC7BC,sBAAuBhU,KAAKgU,sBAC5BC,6BAA8BjU,KAAKiU,6BACnCC,sBAAuBlU,KAAKkU,sBAC5Bc,YAAahV,KAAKgV,YAClB/D,OAAQjR,KAAKF,MAAMmR,SAErB,kBAAC,GAAD,CACE3R,KAAMU,KAAKF,MAAMR,KACjBuW,MAA4B,WAApB7V,KAAKF,MAAMR,KACjBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAeiG,MAC7C7V,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAeiG,MACvEvL,UAAgC,WAApBtK,KAAKF,MAAMR,KACrBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAetF,UAC7CtK,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAetF,UACvEqK,QAA8B,WAApB3U,KAAKF,MAAMR,KACnBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe+E,QAC7C3U,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe+E,QACvEyB,YAAapW,KAAKoW,YAAaC,gBAAiBrW,KAAKqW,gBAAiBO,cAAe5W,KAAK4W,cAC1FL,eAAgBvW,KAAKuW,eAAgBJ,eAAgBnW,KAAKF,MAAMqW,eAChEK,eAAgBxW,KAAKwW,eAAgBC,eAAgBzW,KAAKyW,eAC1DI,cAAe7W,KAAK6W,cAAeC,cAAe9W,KAAK8W,cACvDJ,aAAc1W,KAAK0W,aAAcC,aAAc3W,KAAK2W,aACpDnC,QAA8B,WAApBxU,KAAKF,MAAMR,KACnBU,KAAKF,MAAMyD,IAAIyS,OAAOhW,KAAKF,MAAM8P,eAAe4E,QAC7CxU,KAAKF,MAAMyD,IAAI2S,QAAQlW,KAAKF,MAAM2P,MAAMzP,KAAKF,MAAM8P,eAAe4E,kB,GA/yBzDpT,IAAMC,WClBlCkN,GAAY,CAAC,OAAQ,SAAU,SAAU,YAAa,YAAa,YAAa,mBAAoB,QAAS,SAAU,UAAW,aAAc,SA+UvI+J,G,kDA7Ub,WAAYvZ,GAAQ,IAAD,8BACjB,cAAMA,IAEDwZ,OAAS,EAAKA,OAAO1Y,KAAZ,gBACd,EAAKiO,gBAAkB,EAAKA,gBAAgBjO,KAArB,gBAGvB,EAAK2Y,eAAiB,EAAKA,eAAe3Y,KAApB,gBACtB,EAAK4Y,eAAiB,EAAKA,eAAe5Y,KAApB,gBACtB,EAAKkO,eAAiB,EAAKA,eAAelO,KAApB,gBACtB,EAAKmO,aAAe,EAAKA,aAAanO,KAAlB,gBACpB,EAAK6Y,eAAiB,EAAKA,eAAe7Y,KAApB,gBACtB,EAAKX,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAK8Y,gBAAkB,EAAKA,gBAAgB9Y,KAArB,gBACvB,EAAK+Y,aAAe,EAAKA,aAAa/Y,KAAlB,gBACpB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAGhB,EAAKC,MAAQ,CACXmO,WAAY,GACZxK,MAAO,EACP9D,SAAS,EACTiI,WAAW,EACXsG,UAAU,EACV2K,KAAK,EACL/O,KAAM,GACNxK,KAAM,SACNwZ,aAAc,GACdxB,WAAY,GACZyB,UAAW,GACXlD,MAAO,CAAC,MAAO,MAAO,MAAO,MAAO,OACpCvL,UAAW,CAAC,GAAI,GAAI,GAAK,GAAI,IAC7BqK,QAAS,CAAC,MAAO,MAAO,MAAO,MAAO,OACtCxV,OAAQ,IAjCO,E,qDAqCjBa,KAAKC,SAAS,CACZ4Y,KAAK,M,wCAQP,IAAMzY,EAAYJ,KAClBA,KAAKC,SAAS,CACZN,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMwH,IAAI,wBACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACH,IAAMyN,EAAOC,OAAOC,KAAK7N,EAASC,KAAKwN,YAAYK,QAAO,SAAC/K,GAAD,OAASgL,GAAU3K,QAAQL,IAAQ,KAC7FnD,EAAUH,SAAS,CACjBN,SAAS,EACTiI,WAAW,EACXqG,WAAYzN,EAASC,KAAKwN,WAC1BE,KAAMA,IAER,MACA,QACA/N,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,4DAA6D,c,0CAIhFd,KAAKF,MAAM8H,WACd5H,KAAK8N,oB,qCAeMrK,M,qCAQbzD,KAAKC,SAAS,CACZiO,UAAU,M,qCAMCnO,GACbC,KAAKC,SAAS,CACZmK,OAAQrK,EAAEG,OAAOb,U,+EAgBNoE,GACb,GAAI6B,OAAOwB,QAAQ,sFAAuF,CACxG,IAAM1G,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,yBAA0B,CACpCiB,MAAOA,IACNlD,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,kCAAmC,WACzDV,EAAU0N,kBACV,MACF,QACE1N,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,QAC3DN,EAAUrB,MAAM+O,sBAGnB9M,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,6DAA8D,e,+BAUjFf,EAAG0D,GACV,GAAoB,eAAhB1D,EAAEG,OAAO7B,GACX,GAAI0B,EAAEG,OAAO7B,GAAGsM,SAAS,kBAAoB5K,EAAEG,OAAO7B,GAAGsM,SAAS,iBAAkB,CAClF,IAAIqO,EAAQ,YAAOhZ,KAAKF,MAAM+V,OAC1BoD,EAAY,YAAOjZ,KAAKF,MAAMwK,WAC9B4O,EAAU,YAAOlZ,KAAKF,MAAM6U,SAChCqE,EAASvV,GAAS1D,EAAEG,OAAOb,MAC3B4Z,EAAaxV,GAAS,GACtByV,EAAWzV,GAAS,MACpBzD,KAAKC,SAAS,CACZ4V,MAAOmD,EACP1O,UAAW2O,EACXtE,QAASuE,SAEN,GAAInZ,EAAEG,OAAO7B,GAAGsM,SAAS,kBAAoB5K,EAAEG,OAAO7B,GAAGsM,SAAS,iBAAkB,CACzF,IAAIsO,EAAY,YAAOjZ,KAAKF,MAAMwK,WAClC2O,EAAaxV,GAAS1D,EAAEG,OAAOb,MAC/BW,KAAKC,SAAS,CACZqK,UAAW2O,SAER,GAAIlZ,EAAEG,OAAO7B,GAAGsM,SAAS,QAAS,CAAC,IAAD,EACvC3K,KAAKC,UAAL,mBACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,OAD1B,sBAES,CAAC,MAAO,MAAO,MAAO,MAAO,QAFtC,0BAGa,CAAC,GAAI,GAAI,GAAI,GAAI,KAH9B,SAKK,GAAIU,EAAEG,OAAO7B,GAAGsM,SAAS,gBAAiB,CAC/C,IAAIuO,EAAU,YAAOlZ,KAAKF,MAAM6U,SAChCuE,EAAWzV,GAAS1D,EAAEG,OAAOb,MAC7BW,KAAKC,SAAS,CACZ0U,QAASuE,SAGXlZ,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,iCAWrBU,EAAGK,GACZ,GAAc,UAAVL,EAAE2D,IAAiB,CACrB,IAAIyV,EAAa,YAAO/Y,EAAUN,MAAMwX,YACxC6B,EAAcvO,KAAKxK,EAAUN,MAAMgZ,cACnC5L,YAAW,WACT9M,EAAUH,SAAS,CACjBqX,WAAY6B,EACZL,aAAc,OAEf,Q,qCAQL,OAAO9Y,O,sCAOOyD,GACd,IAAI0V,EAAa,YAAOnZ,KAAKF,MAAMwX,YACnC6B,EAAchV,OAAOV,EAAO,GAC5BzD,KAAKC,SAAS,CACZqX,WAAY6B,M,+BAQPpZ,EAAG0D,GACV1D,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKjB,MAAMwD,eAC5DlC,IAAMmC,MAAM,yBAA0B,CACpCiB,MAAOA,EACP0L,SAAU,CACRrF,KAAM1J,EAAUN,MAAMgK,KACtBxK,KAAMc,EAAUN,MAAMR,KACtBgY,WAAYlX,EAAUN,MAAMwX,WAC5BzB,MAAOzV,EAAUN,MAAM+V,MACvBlB,QAASvU,EAAUN,MAAM6U,QACzBrK,UAAWlK,EAAUN,MAAMwK,UAC3ByO,UAAW3Y,EAAUN,MAAMiZ,aAE5BxY,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,mBACHN,EAAUH,SAAS,CACjBN,SAAS,IAEXS,EAAUrB,MAAM+B,MAAM,kCAAmC,WACzDV,EAAU0N,kBACV,MACF,QACE1N,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,QAC3DN,EAAU0N,sBAGb9M,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,6DAA8D,c,+BAStF,IAAI6K,EAYJ,OAXI3L,KAAKF,MAAMH,QACbgM,EAAW,GACF3L,KAAKF,MAAM+Y,IACpBlN,EAAW,kBAAC,GAAD,CAAqBpJ,aAAcvC,KAAKjB,MAAMwD,aAAczB,MAAOd,KAAKjB,MAAM+B,MAAOgN,gBAAiB9N,KAAK8N,gBAAiBK,KAAMnO,KAAKF,MAAMqO,OAEpJnO,KAAKF,MAAMqO,MAAQnO,KAAKF,MAAMqO,KAAKjJ,OAAS,IAG9CyG,EAAW,iFAIb,yBAAKtN,GAAG,qBACJ2B,KAAKF,MAAMH,QAAU,kBAAC,GAAD,CAAcoB,QAAQ,wBAC3C,6BACIf,KAAKF,MAAMqO,KACX,6BACInO,KAAKF,MAAM+Y,IAAM,GACjB,yBAAKza,UAAU,gBACb,kBAAC,IAAD,CAAMA,UAAU,SAASsB,GAAG,eAA5B,gBACA,4BAAQtB,UAAU,SAASwI,QAAS5G,KAAKuY,QAAzC,YAGF5M,GAGJ,kBAAC,GAAD,Y,GArUkBvK,IAAMC,WCIvB+X,GARQ,SAACra,GACtB,OACE,yBAAKV,GAAG,mBACN,kBAAC,GAAD,CAAmBkE,aAAcxD,EAAMwD,aAAczB,MAAO/B,EAAM+B,UCCzDuY,GARE,WACf,OACE,yBAAKjb,UAAU,OAAOC,GAAG,aAAzB,gDCmBWib,GAdY,SAACva,GAC1B,OACE,0BAAMX,UAAU,OAAOC,GAAG,sBAAsBW,SAAUD,EAAMC,UAC9D,wBAAIZ,UAAU,iBAAd,mBACA,8BAAUA,UAAU,iBAAiBC,GAAG,eACtC,2BAAOD,UAAU,cAAca,QAAQ,SAAvC,iCACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAgC,MAAtBJ,EAAMI,OAAOC,MAAgB,GAAK,uBAAwBC,MAAON,EAAMK,MAAOf,GAAG,QAAQiB,KAAK,QAAQC,UAAQ,IAC3L,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOC,MAAQ,KAEpEL,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,oCAAoCkB,KAAK,UAA3D,qBCkEtBia,G,kDArEb,WAAYxa,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACXV,MAAO,GACPD,OAAQ,IARO,E,qDAgBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GACPA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAMmC,MAAM,6BAA8B,CACxCpD,MAAOY,KAAKF,MAAMV,QACjBmB,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,2BACHN,EAAUH,SAAS,CACjBN,SAAS,EACToC,SAAU,WAEZ,MACF,QACE3B,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,6DAA8D,c,+BAItF,OAAId,KAAKF,MAAMiC,SACN,kBAAC,IAAD,CAAUrC,GAAIM,KAAKF,MAAMiC,WAG9B,yBAAK1D,GAAG,qBACN,kBAAC,GAAD,CAAoBW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUE,MAAOY,KAAKF,MAAMV,MAAOD,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GA/DxHyB,IAAMC,WCDvBmY,GARQ,SAACza,GACtB,OACE,yBAAKX,UAAU,OAAOC,GAAG,mBACvB,kBAAC,GAAD,CAAmByC,MAAO/B,EAAM+B,UCwBvB2Y,GAnBW,SAAC1a,GACzB,OACE,0BAAMX,UAAU,OAAOC,GAAG,qBAAqBW,SAAUD,EAAMC,UAC7D,wBAAIZ,UAAU,iBAAd,kBACA,8BAAUA,UAAU,iBAAiBC,GAAG,mBACtC,2BAAOD,UAAU,cAAca,QAAQ,aAAvC,gBACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAoC,MAA1BJ,EAAMI,OAAOyC,UAAoB,GAAK,uBAAwBvC,MAAON,EAAM6C,UAAWvD,GAAG,YAAYiB,KAAK,WAAWC,UAAQ,IAC1M,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAOyC,UAAY,KAE1E,8BAAUxD,UAAU,iBAAiBC,GAAG,mBACtC,2BAAOD,UAAU,cAAca,QAAQ,aAAvC,oBACA,2BAAOC,SAAUH,EAAMG,SAAUd,UAAW,eAAiBW,EAAMI,QAAoC,MAA1BJ,EAAMI,OAAO0C,UAAoB,GAAK,uBAAwBxC,MAAON,EAAM8C,UAAWxD,GAAG,YAAYiB,KAAK,WAAWC,UAAQ,IAC1M,0BAAMnB,UAAU,eAAgBW,EAAMI,OAASJ,EAAMI,OAAO0C,UAAY,KAExE9C,EAAMY,QAAU,kBAAC,EAAD,MAAa,4BAAQvB,UAAU,oCAAoCkB,KAAK,UAA3D,oBC4DtBoa,G,kDAxEb,WAAY3a,GAAQ,IAAD,8BACjB,cAAMA,IAEDG,SAAW,EAAKA,SAASW,KAAd,gBAChB,EAAKb,SAAW,EAAKA,SAASa,KAAd,gBAEhB,EAAKC,MAAQ,CACX8B,UAAW,GACXC,UAAW,GACX1C,OAAQ,IATO,E,qDAiBVY,GACPC,KAAKC,SAAL,eACGF,EAAEG,OAAO7B,GAAK0B,EAAEG,OAAOb,U,+BAQnBU,GACPA,EAAEI,iBACF,IAAMC,EAAYJ,KAClBA,KAAKC,SAAS,CACZd,OAAQ,GACRQ,SAAS,IAEXU,IAAMmC,MAAM,4BAA6B,CACvCZ,UAAW5B,KAAKF,MAAM8B,UACtBC,UAAW7B,KAAKF,MAAM+B,UACtBjB,MAAOZ,KAAKjB,MAAM6B,QACjBL,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,iBACHN,EAAUH,SAAS,CACjBN,SAAS,EACToC,SAAU,WAEZ,MACF,QACE3B,EAAUH,SAAS,CACjBN,SAAS,EACTR,OAAQqB,EAASC,KAAKtB,SAExBiB,EAAUrB,MAAM+B,MAAMN,EAASC,KAAKM,QAASP,EAASC,KAAKC,YAG9DM,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZb,EAAUrB,MAAM+B,MAAM,4DAA6D,c,+BAIrF,OAAId,KAAKF,MAAMiC,SACN,kBAAC,IAAD,CAAUrC,GAAIM,KAAKF,MAAMiC,WAG9B,yBAAK1D,GAAG,oBACN,kBAAC,GAAD,CAAmBW,SAAUgB,KAAKhB,SAAUE,SAAUc,KAAKd,SAAUO,SAAUO,KAAKF,MAAML,SAAUN,OAAQa,KAAKF,MAAMX,OAAQQ,QAASK,KAAKF,MAAMH,e,GAlE9HyB,IAAMC,WCAtBsY,GARO,SAAC5a,GACrB,OACE,yBAAKX,UAAU,OAAOC,GAAG,kBACvB,kBAAC,GAAD,CAAkByC,MAAO/B,EAAM+B,MAAOF,MAAO7B,EAAM6a,MAAMC,OAAOjZ,UCwBvDkZ,G,kDA5Bb,WAAY/a,GAAQ,IAAD,8BACjB,cAAMA,IAEDgb,eAAiB,EAAKA,eAAela,KAApB,gBAEtB,EAAKC,MAAQ,CACXsP,QAAQ,GANO,E,6DAUjBpP,KAAKC,SAAS,CACZmP,QAASpP,KAAKF,MAAMsP,W,+BAGd,IAAD,OACP,OACE,yBAAKhR,UAAW,kBAAoB4B,KAAKF,MAAMsP,OAAS,wBAA0B,4BAChF,yBAAKhR,UAAU,sBAAsBwI,QAAS5G,KAAK+Z,eAAgBhW,IAAI,YAAYC,IAAI,2BACvF,yBAAK5F,UAAU,uBACb,0BAAMC,GAAG,uBAAuB2B,KAAKjB,MAAM2C,UAC3C,kBAAC,IAAD,CAAMkF,QAAS,WAAQ,EAAKmT,iBAAkB,EAAKhb,MAAMib,cAAiB5b,UAAU,sBAAsBsB,GAAG,SAA7G,WACA,kBAAC,IAAD,CAAMkH,QAAS,WAAQ,EAAKmT,iBAAkB,EAAKhb,MAAMib,cAAiB5b,UAAU,sBAAsBsB,GAAG,UAAUrB,GAAG,eAA1H,gB,GAtBiB+C,IAAMC,WCqGlB4Y,G,kDAlGb,WAAYlb,GAAQ,IAAD,8BACjB,cAAMA,IAEDib,WAAa,EAAKA,WAAWna,KAAhB,gBAElB,EAAKC,MAAQ,CACXoa,OAAO,EACP9K,QAAQ,EACR+K,SAAU,EAAKpb,MAAMob,UARN,E,yDAgBjBna,KAAKC,SAAS,CACZia,OAAO,EACP9K,QAASpP,KAAKF,MAAMsP,OACpB+K,SAAUna,KAAKjB,MAAMob,a,yCAMN7K,GACbtP,KAAKjB,MAAMob,WAAa7K,EAAU6K,UACpCna,KAAKC,SAAS,CACZka,SAAUna,KAAKjB,MAAMob,a,+BAKzB,IAAMC,EAAiBpa,KAAKF,MAAMoa,MAAQ,GAAK,gBAC/C,OACE,yBAAK9b,UAAW,QAAU4B,KAAKF,MAAMsP,OAAS,cAAgBgL,IAC5D,wBAAIhc,UAAU,aACZ,yBAAKA,UAAU,aAAa2F,IAAI,OAAOC,IAAI,KAC3C,wBAAI5F,UAAU,gBAAd,aACA,0BAAMA,UAAU,iBAAhB,WAEF,wBAAIA,UAAU,aACV4B,KAAKF,MAAMqa,SACX,wBAAI/b,UAAU,aACZ,kBAAC,IAAD,CAASic,OAAK,EAACC,gBAAgB,oBAAoB1T,QAAS5G,KAAKga,WAAY5b,UAAU,YAAYsB,GAAG,cAAtG,cAGF,wBAAItB,UAAU,aACZ,kBAAC,IAAD,CAASic,OAAK,EAACC,gBAAgB,oBAAoB1T,QAAS5G,KAAKga,WAAY5b,UAAU,YAAYsB,GAAG,KAAtG,SAIFM,KAAKF,MAAMqa,SAAW,GACpB,wBAAI/b,UAAU,aACZ,kBAAC,IAAD,CAASkc,gBAAgB,oBAAoB1T,QAAS5G,KAAKga,WAAY5b,UAAU,YAAYsB,GAAG,UAAhG,UAKJM,KAAKF,MAAMqa,SAAW,GACpB,wBAAI/b,UAAU,aACZ,kBAAC,IAAD,CAASkc,gBAAgB,oBAAoB1T,QAAS5G,KAAKga,WAAY5b,UAAU,YAAYsB,GAAG,aAAhG,aAKJM,KAAKF,MAAMqa,SACT,wBAAI/b,UAAU,aACZ,kBAAC,IAAD,CAASkc,gBAAgB,oBAAoB1T,QAAS5G,KAAKga,WAAY5b,UAAU,YAAYsB,GAAG,SAAhG,SAEE,GAGNM,KAAKF,MAAMqa,UAAYna,KAAKjB,MAAM2M,KAChC,wBAAItN,UAAU,aACZ,kBAAC,IAAD,CAASkc,gBAAgB,oBAAoB1T,QAAS5G,KAAKga,WAAY5b,UAAU,YAAYsB,GAAG,eAAhG,eAEE,GAGNM,KAAKF,MAAMqa,UAAYna,KAAKjB,MAAM2M,KAChC,wBAAItN,UAAU,aACZ,kBAAC,IAAD,CAASkc,gBAAgB,oBAAoB1T,QAAS5G,KAAKga,WAAY5b,UAAU,YAAYsB,GAAG,SAAhG,SAEE,GAGNM,KAAKF,MAAMqa,SACT,kBAAC,GAAD,CAAczY,SAAU1B,KAAKjB,MAAM2C,SAAUsY,WAAYha,KAAKga,aAC1D,IAGV,4BAAQ3b,GAAG,cAAcuI,QAAS5G,KAAKga,YAAvC,e,GA7FiB5Y,IAAMC,WCShBkZ,GAVD,SAACxb,GACb,OACE,yBAAKX,UAAW,SAA4B,UAAjBW,EAAM2B,OAAqB,gBAAkB,KAAwB,YAAjB3B,EAAM2B,OAAuB,kBAAoB,KAC9H,wBAAItC,UAAU,eAAeW,EAAM2B,QACnC,uBAAGtC,UAAU,kBAAkBW,EAAMgC,SACrC,4BAAQ6F,QAAS,WAAQ7H,EAAMyb,WAAWzb,EAAM0E,QAAUrF,UAAU,iBAApE,OCKSqc,GAXA,SAAC1b,GACd,OACE,4BAAQX,UAAU,SAASgT,MAAO,CAAEsJ,WAAY,qCAAsC/I,eAAgB,QAASC,mBAAoB,WACjI,yBAAKxT,UAAU,mBACb,wBAAIA,UAAU,iBAAiBW,EAAM4b,OACrC,wBAAIvc,UAAU,oBAAoBW,EAAM6b,aCCjCC,GARA,WACb,OACE,4BAAQzc,UAAU,UAAlB,sBC4RW0c,I,wDApQb,WAAY/b,GAAQ,IAAD,8BACjB,cAAMA,IAED4B,MAAQ,EAAKA,MAAMd,KAAX,gBACb,EAAK2B,OAAS,EAAKA,OAAO3B,KAAZ,gBACd,EAAKkb,YAAc,EAAKA,YAAYlb,KAAjB,gBACnB,EAAKmb,gBAAkB,EAAKA,gBAAgBnb,KAArB,gBACvB,EAAKob,kBAAoB,EAAKA,kBAAkBpb,KAAvB,gBACzB,EAAK0C,aAAe,EAAKA,aAAa1C,KAAlB,gBACpB,EAAK4C,gBAAkB,EAAKA,gBAAgB5C,KAArB,gBACvB,EAAKiB,MAAQ,EAAKA,MAAMjB,KAAX,gBACb,EAAK2a,WAAa,EAAKA,WAAW3a,KAAhB,gBAElB,EAAKC,MAAQ,CACXqa,SAAUe,KAAKC,MAAQ,IAAID,KAAKE,aAAaC,QAAQ,YACrD7b,KAAMoY,KAAKC,MAAMuD,aAAaC,QAAQ,SACtCC,OAAQ,IAhBO,E,kDA0Bb1a,EAAOC,EAAWrB,GACtBQ,KAAKgb,gBAAgBpa,EAAOC,EAAWrB,EAAMQ,KAAK+a,aAClD1a,IAAM+B,SAASC,QAAQC,OAAvB,cAAiDtC,KAAKF,MAAMc,Q,+BAM5DZ,KAAKib,oBACL5a,IAAM+B,SAASC,QAAQC,OAAvB,cAAiD,KACjDtC,KAAK+a,gB,oCAML/a,KAAKC,SAAS,CACZka,SAAUe,KAAKC,MAAQ,IAAID,KAAKE,aAAaC,QAAQ,YACrD7b,KAAMoY,KAAKC,MAAMuD,aAAaC,QAAQ,a,sCAW1Bza,EAAOC,EAAWrB,EAAM+b,GACtCH,aAAaI,QAAQ,QAAS5a,GAC9Bwa,aAAaI,QAAQ,UAAW,IAAIN,KAAKA,KAAKC,MAAQta,GAAW4a,gBACjEL,aAAaI,QAAQ,OAAQ5D,KAAKE,UAAUtY,IAC5C+b,M,0CAMAH,aAAaM,U,qCAMb,OAAON,aAAaC,QAAQ,W,wCAKX,IAAD,OACZrb,KAAKF,MAAMqa,WACb9Z,IAAM+B,SAASC,QAAQC,OAAvB,cAAiD8Y,aAAaC,QAAQ,SACtEhb,IAAMwH,IAAI,2BACPtH,MAAK,SAACC,GACP,OAAQA,EAASC,KAAKC,QACpB,IAAK,gBACH,IAAMlB,EAAOgB,EAASC,KAAKjB,KAC3B,EAAKmB,MAAMH,EAASC,KAAKG,MAAOJ,EAASC,KAAKI,UAAWrB,GACzD,MACF,QACE,EAAKsB,MAAM,8BAGdE,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZ,EAAKH,MAAM,6CACX,EAAKU,e,4BASLma,EAAKjb,GACT,IAAIkb,EAAS,YAAO5b,KAAKF,MAAMwb,QAC/BM,EAAUhR,KAAK,CAAE7J,QAAS4a,EAAKjb,OAAQA,IACvCV,KAAKC,SAAS,CACZqb,OAAQM,M,iCAODnY,GACT,IAAImY,EAAS,YAAO5b,KAAKF,MAAMwb,QAC/BM,EAAUzX,OAAOV,EAAO,GACxBzD,KAAKC,SAAS,CACZqb,OAAQM,M,0CAIV5b,KAAKyC,oB,+BAEG,IAAD,OACD6Y,EAAStb,KAAKF,MAAMwb,OAAO/X,KAAI,SAACzC,EAAO2C,GAC3C,OAAO,kBAAC,GAAD,CAAO+W,WAAY,EAAKA,WAAY/W,MAAOA,EAAO1C,QAASD,EAAMC,QAASL,OAAQI,EAAMJ,YAEjG,OACE,kBAAC,IAAD,KACE,yBAAKtC,UAAU,aACb,kBAAC,GAAD,CAAY+b,SAAUna,KAAKF,MAAMqa,SAAUzY,SAAW1B,KAAKF,MAAMN,KAAOQ,KAAKF,MAAMN,KAAKkC,SAAW,GAAKhB,OAAQV,KAAKF,MAAMN,KAAOQ,KAAKF,MAAMN,KAAKkB,OAAS,GAAIgL,KAAO1L,KAAKF,MAAMN,KAAOQ,KAAKF,MAAMN,KAAKiN,eAAY9E,IACpN,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0S,OAAK,EAACwB,KAAK,KACd7b,KAAKF,MAAMqa,SAAa,kBAAC,IAAD,CAAUza,GAAG,eAErC,yBAAKtB,UAAU,gBACb,kBAAC,EAAD,QAIN,kBAAC,IAAD,CAAOic,OAAK,EAACwB,KAAK,SACd7b,KAAKF,MAAMqa,SACX,yBAAK/b,UAAU,gBACb,kBAAC,EAAD,CAAMmE,aAAcvC,KAAKuC,aAAcE,gBAAiBzC,KAAKyC,gBACvDjB,OAAQxB,KAAKwB,OAAQE,SAAU1B,KAAKF,MAAMN,KAAKkC,SAAUtC,MAAOY,KAAKF,MAAMN,KAAKJ,MAChFuC,SAAU3B,KAAKF,MAAMN,KAAKmC,SAAUuB,cAAelD,KAAKF,MAAMN,KAAK0D,cACnES,UAAW3D,KAAKF,MAAMN,KAAKmE,UAAWgB,UAAW3E,KAAKF,MAAMN,KAAKmF,UACjEN,cAAerE,KAAKF,MAAMN,KAAK6E,cAAevD,MAAOd,KAAKc,MAC1D0F,aAAcxG,KAAKF,MAAMN,KAAKgH,gBAGpC,kBAAC,IAAD,CAAU9G,GAAG,OAGnB,kBAAC,IAAD,CAAO2a,OAAK,EAACwB,KAAK,cACd7b,KAAKF,MAAMqa,SACX,yBAAK/b,UAAU,gBACb,kBAAC,EAAD,CAAWmE,aAAcvC,KAAKuC,aAAczB,MAAOd,KAAKc,SAGxD,kBAAC,IAAD,CAAUpB,GAAG,OAGnB,kBAAC,IAAD,CAAO2a,OAAK,EAACwB,KAAK,SACd7b,KAAKF,MAAMqa,SACX,yBAAK/b,UAAU,gBACb,kBAAC,GAAD,CAAMmE,aAAcvC,KAAKuC,aAAcE,gBAAiBzC,KAAKyC,gBACvDgK,UAAWzM,KAAKF,MAAMN,KAAKiN,UAAW3L,MAAOd,KAAKc,MAAOJ,OAAQV,KAAKF,MAAMN,KAAKkB,UAGvF,kBAAC,IAAD,CAAUhB,GAAG,OAGnB,kBAAC,IAAD,CAAO2a,OAAK,EAACwB,KAAK,gBACd7b,KAAKF,MAAMqa,UAAuC,UAA3Bna,KAAKF,MAAMN,KAAKkB,OACvC,yBAAKtC,UAAU,gBACb,kBAAC,GAAD,CAAYmE,aAAcvC,KAAKuC,aAAcE,gBAAiBzC,KAAKyC,gBAAiB3B,MAAOd,KAAKc,SAGhG,kBAAC,IAAD,CAAUpB,GAAG,WAGnB,kBAAC,IAAD,CAAO2a,OAAK,EAACwB,KAAK,eACd7b,KAAKF,MAAMqa,UAAYna,KAAKF,MAAMN,KAAKiN,UACvC,yBAAKrO,UAAU,gBACb,kBAAC,GAAD,CAAYqO,UAAWzM,KAAKF,MAAMN,KAAKiN,UAAW/L,OAAQV,KAAKF,MAAMN,KAAKkB,OAAQ6B,aAAcvC,KAAKuC,aAAczB,MAAOd,KAAKc,SAG/H,kBAAC,IAAD,CAAUpB,GAAG,OAGnB,kBAAC,IAAD,CAAO2a,OAAK,EAACwB,KAAK,qBACd7b,KAAKF,MAAMqa,UAAwC,UAA3Bna,KAAKF,MAAMN,KAAKkB,QAAiD,WAA3BV,KAAKF,MAAMN,KAAKkB,OAK5E,kBAAC,IAAD,CAAUhB,GAAG,gBAJf,yBAAKtB,UAAU,gBACb,kBAAC,GAAD,CAAgBmE,aAAcvC,KAAKuC,aAAczB,MAAOd,KAAKc,UAMnE,kBAAC,IAAD,CAAOuZ,OAAK,EAACwB,KAAK,SACd7b,KAAKF,MAAMqa,UAAYna,KAAKF,MAAMN,KAAKiN,UACvC,yBAAKrO,UAAU,iBAGb,kBAAC,IAAD,CAAUsB,GAAG,OAGnB,kBAAC,IAAD,CAAO2a,OAAK,EAACwB,KAAK,UACd7b,KAAKF,MAAMqa,SAAa,kBAAC,IAAD,CAAUza,GAAG,MAErC,yBAAKtB,UAAU,gBACb,kBAAC,EAAD,CAAOuC,MAAOX,KAAKW,MAAOG,MAAOd,KAAKc,UAK5C,kBAAC,IAAD,CAAOuZ,OAAK,EAACwB,KAAK,WACd7b,KAAKF,MAAMqa,SACX,kBAAC,EAAD,CAAQ3Y,OAAQxB,KAAKwB,SAEnB,kBAAC,IAAD,CAAU9B,GAAG,OAGnB,kBAAC,IAAD,CAAO2a,OAAK,EAACwB,KAAK,aACd7b,KAAKF,MAAMqa,SAAa,kBAAC,IAAD,CAAUza,GAAG,MAErC,yBAAKtB,UAAU,gBACb,kBAAC,EAAD,CAAU0C,MAAOd,KAAKc,UAK5B,kBAAC,IAAD,CAAOuZ,OAAK,EAACwB,KAAK,oBACd7b,KAAKF,MAAMqa,SAAa,kBAAC,IAAD,CAAUza,GAAG,MAErC,yBAAKtB,UAAU,gBACb,kBAAC,GAAD,CAAgB0C,MAAOd,KAAKc,UAIlC,kBAAC,IAAD,CAAO+a,KAAK,yBACVC,OAAQ,SAAC/c,GAAD,OAAY,kBAAC,GAAD,iBAAmBA,EAAnB,CAA0B+B,MAAO,EAAKA,YAC5D,kBAAC,IAAD,KACE,yBAAK1C,UAAU,gBACb,kBAAC,GAAD,CAAQuc,MAAM,eACd,kBAAC,GAAD,SAIN,kBAAC,GAAD,MACA,yBAAKvc,UAAU,mBACXkd,S,GA7PIla,IAAMC,YCrBlB0a,GAAcC,QACW,cAA7B1W,OAAO6H,SAAS8O,UAEe,UAA7B3W,OAAO6H,SAAS8O,UAEhB3W,OAAO6H,SAAS8O,SAASrC,MACvB,2DAgDN,SAASsC,GAAgBC,EAAOC,GAC9BpW,UAAUC,cACPoW,SAASF,GACT5b,MAAK,SAAA4F,GACJA,EAAamW,cAAgB,WAC3B,IAAMC,EAAmBpW,EAAaqW,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBzc,QACfkG,UAAUC,cAAcyW,YAI1Bxb,QAAQC,IACN,iHAKEib,GAAUA,EAAOO,UACnBP,EAAOO,SAASxW,KAMlBjF,QAAQC,IAAI,sCAGRib,GAAUA,EAAOQ,WACnBR,EAAOQ,UAAUzW,WAO5BnF,OAAM,SAAAC,GACLC,QAAQD,MAAM,4CAA6CA,MCnGjE4b,IAASf,OACP,kBAAC,IAAMgB,WAAP,KACE,kBAAC,GAAD,OAEF9J,SAAS+J,eAAe,SDWnB,SAAkBX,GACvB,GAA6C,kBAAmBpW,UAAW,CAGzE,GADkB,IAAIgX,IAAIC,GAAwB3X,OAAO6H,SAAS7B,MACpD4R,SAAW5X,OAAO6H,SAAS+P,OAIvC,OAGF5X,OAAO2N,iBAAiB,QAAQ,WAC9B,IAAMkJ,EAAK,UAAMc,GAAN,sBAEPlB,KA0EV,SAAiCI,EAAOC,GAEtCe,MAAMhB,EAAO,CACX9Z,QAAS,CAAE,iBAAkB,YAE5B9B,MAAK,SAAAC,GAEJ,IAAM4c,EAAc5c,EAAS6B,QAAQwF,IAAI,gBAEnB,MAApBrH,EAASE,QACO,MAAf0c,IAA8D,IAAvCA,EAAYxZ,QAAQ,cAG5CoC,UAAUC,cAAcC,MAAM3F,MAAK,SAAA4F,GACjCA,EAAakX,aAAa9c,MAAK,WAC7B+E,OAAO6H,SAASC,eAKpB8O,GAAgBC,EAAOC,MAG1Bpb,OAAM,WACLE,QAAQC,IACN,oEAjGAmc,CAAwBnB,EAAOC,GAI/BpW,UAAUC,cAAcC,MAAM3F,MAAK,WACjCW,QAAQC,IACN,iHAMJ+a,GAAgBC,EAAOC,MAG3B9W,OAAOiY,KAAKtK,iBAAiB,QAAQ,SAAAuK,GACnC,IAAM/c,EAAO+c,EAAM/c,KAAKgd,OAChB9C,EAAUla,EAAVka,MAEF+C,EAAO,CACXA,KAAMjd,EAAKid,MAGbF,EAAMG,UAAUrY,OAAOiY,KAAKpX,aAAayX,iBAAiBjD,EAAO+C,QC5CvEzX,I,gBCfA4X,EAAOC,QAAU,CACfvP,UAAW,CAAC,OAAQ,SAAU,SAAU,YAAa,YAAa,YAAa,mBAAoB,QAAS,SAAU,UAAW,aAAc,SAC/I8I,MAAO,CACL,KAAQ,CAAC,wBAAyB,iCAAkC,6BAA8B,qCAClG,OAAU,CAAC,uCAAwC,kCAAmC,yBAA0B,iCAChH,OAAU,CAAC,oCAAqC,wBAAyB,4BAA6B,+BACtG,UAAa,CAAC,oBAAqB,uBAAwB,uBAAwB,4BACnF,UAAa,CAAC,gCAAiC,6BAA8B,qCAAsC,2BACnH,UAAa,CAAC,uBAAwB,wBAAyB,yBAA0B,oCACzF,mBAAoB,CAAC,wCAAyC,mCAAoC,oCAAqC,0BACvI,MAAS,CAAC,yBAA0B,wCAAyC,gCAAiC,gCAC9G,OAAU,CAAC,0BAA2B,4BAA6B,6BAA8B,oCACjG,QAAW,CAAC,mCAAoC,oCAAqC,0BAA2B,iCAChH,aAAc,CAAC,gCAAiC,oBAAqB,+BAAgC,uBACrG,MAAS,CAAC,4BAA6B,4BAA6B,kCAAmC,kCAEzGI,OAAQ,CACN,KAAQ,CAAC,WAAY,cAAe,gBACpC,OAAU,CAAC,cAAe,gBAC1B,OAAU,CAAC,WAAY,cAAe,gBACtC,UAAa,CAAC,WAAY,cAAe,gBACzC,UAAa,CAAC,cAAe,gBAC7B,UAAa,CAAC,WAAY,cAAe,gBACzC,mBAAoB,CAAC,cAAe,eAAgB,eACpD,MAAS,CAAC,WAAY,cAAe,gBACrC,OAAU,CAAC,WAAY,cAAe,eAAgB,eACtD,QAAW,CAAC,cAAe,gBAC3B,aAAc,CAAC,cAAe,gBAC9B,MAAS,CAAC,WAAY,cAAe,iBAEvCM,QAAS,CACP,OAAU,CACR9B,OAAQ,eACRhP,MAAO,IAET,SAAY,CACVgP,OAAQ,cACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,qBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,mBACRhP,MAAO,GAET,IAAO,CACLgP,OAAQ,kBACRhP,MAAO,GAET,SAAY,CACVgP,OAAQ,oBACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,gBACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,iBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,aACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,iBACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,sBACRhP,MAAO,GAET,SAAY,CACVgP,OAAQ,mBACRhP,MAAO,IAET,MAAS,CACPgP,OAAQ,eACRhP,MAAO,GAET,GAAM,CACJgP,OAAQ,uBACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,wBACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,aACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,cACRhP,MAAO,GAET,SAAY,CACVgP,OAAQ,oBACRhP,MAAO,GAET,IAAO,CACLgP,OAAQ,cACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,aACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,cACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,eACRhP,MAAO,IAET,SAAY,CACVgP,OAAQ,mBACRhP,MAAO,GAET,WAAc,CACZgP,OAAQ,eACRhP,MAAO,GAET,QAAW,CACTgP,OAAQ,qBACRhP,MAAO,GAET,QAAW,CACTgP,OAAQ,cACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,cACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,kBACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,mBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,eACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,UACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,UACRhP,MAAO,GAET,IAAO,CACLgP,OAAQ,cACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,OACRhP,MAAO,GAET,SAAY,CACVgP,OAAQ,aACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,QACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,gBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,WACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,SACRhP,MAAO,GAET,QAAW,CACTgP,OAAQ,WACRhP,MAAO,GAET,SAAY,CACVgP,OAAQ,kBACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,aACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,oBACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,SACRhP,MAAO,GAET,SAAY,CACVgP,OAAQ,eACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,OACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,uBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,yBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,gBACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,aACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,qBACRhP,MAAO,GAET,MAAS,CACPgP,OAAQ,iBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,oBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,aACRhP,MAAO,GAET,OAAU,CACRgP,OAAQ,wBACRhP,MAAO,GAET,IAAO,CACLgP,OAAQ,sBACRhP,MAAO,GAET,KAAQ,CACNgP,OAAQ,iBACRhP,MAAO,IAGXiO,eAAgB,CAAC,OAAQ,cAAe,cAAe,aAAc,0BAA2B,QAAS,gBAAiB,UAAW,cACrIQ,mBAAoB,CAClB,cAAe,CAAC,MAAO,SAAU,WAAY,YAC7C,cAAe,CAAC,MAAO,OAAQ,SAAU,SACzC,aAAc,CAAC,QAAS,MAAO,QAAS,QAAS,OAAQ,KAAM,WAAY,OAAQ,SAAU,SAC7F,0BAA2B,CAAC,UAAW,WAAY,QAAS,QAC5D,MAAS,CAAC,WAAY,OAAQ,KAAM,OAAQ,WAAY,SAAU,QAClE,gBAAiB,CAAC,MAAO,OAAQ,OAAQ,WAAY,SAAU,WAAY,UAC3E,QAAW,CAAC,MAAO,aAAc,UAAW,WAAY,QAAS,OAAQ,OAAQ,OAAQ,WAAY,WAAY,OAAQ,QACzH,aAAc,CAAC,WAAY,SAAU,OAAQ,OAAQ,SAAU,SAAU,UAE3EpS,UAAW,CAAC,SAAU,WAAY,MAAO,WAAY,SAAU,WAAY,OAAQ,OAAQ,QAAS,KAAM,OAAQ,aAAc,UAAW,SAAU,SAAU,OAAQ,QAAS,WAAY,OAAQ,QAAS,WAAY,QAAS,WAAY,OAAQ,QAAS,OAAQ,OAAQ,MAAO,QACtR8R,eAAgB,CAAC,OAAQ,qBAAsB,eAAgB,QAAS,cAAe,QAAS,eAAgB,UAAW,QAC3HO,mBAAoB,CAClB,qBAAsB,CAAC,SAAU,OAAQ,QACzC,eAAgB,CAAC,SAAU,OAAQ,SACnC,MAAS,CAAC,OAAQ,UAAW,OAAQ,SAAU,QAAS,YACxD,cAAe,CAAC,QAAS,OAAQ,SAAU,SAAU,OAAQ,QAAS,YACtE,MAAS,CAAC,MAAO,QAAS,SAAU,SAAU,UAC9C,eAAgB,CAAC,SAAU,OAAQ,QAAS,SAC5C,QAAW,CAAC,QAAS,MAAO,OAAQ,OAAQ,QAAS,UAAW,OAAQ,QAAS,OAAQ,WAAY,WAAY,UACjH,KAAQ,CAAC,QAAS,SAAU,UAAW,MAAO,QAAS,SAAU,SAAU,SAAU,SAAU,OAAQ,QAAS,WAElHlR,UAAW,CAAC,QAAS,OAAQ,SAAU,QAAS,MAAO,OAAQ,SAAU,WAAY,QAAS,SAAU,QAAS,WAAY,UAAW,OAAQ,OAAQ,SAAU,MAAO,QAAS,UAAW,QAAS,QAAS,OAAQ,SAAU,SAAU,OAAQ,QAAS,OAAQ,UACpQmK,KAAM,CAAC,OAAQ,SAAU,SAAU,YAAa,YAAa,YAAa,mBAAoB,QAAS,SAAU,UAAW,aAAc,SAC1I0G,QAAS,CACPU,OAAQ,CACN,SAAY,CAAC,iBAAkB,WAAY,gBAAiB,qBAAsB,iBAAkB,iBACpG,OAAU,CAAC,gBAAiB,iBAC5B,SAAY,CAAC,iBAAkB,YAC/B,IAAO,CAAC,iBAAkB,YAC1B,SAAY,CAAC,WAAY,iBACzB,OAAU,CAAC,iBAAkB,iBAC7B,SAAY,CAAC,qBAAsB,kBACnC,MAAS,CAAC,iBAAkB,kBAC5B,GAAM,CAAC,iBAAkB,YACzB,KAAQ,CAAC,gBAAiB,kBAC1B,KAAQ,CAAC,iBAAkB,sBAC3B,KAAQ,CAAC,WAAY,iBACrB,WAAc,CAAC,iBAAkB,iBACjC,QAAW,CAAC,WAAY,sBACxB,OAAU,CAAC,iBAAkB,iBAC7B,OAAU,CAAC,WAAY,kBACvB,KAAQ,CAAC,qBAAsB,kBAC/B,MAAS,CAAC,iBAAkB,YAC5B,SAAY,CAAC,iBAAkB,iBAC/B,KAAQ,CAAC,qBAAsB,iBAC/B,MAAS,CAAC,qBAAsB,iBAChC,SAAY,CAAC,WAAY,iBACzB,MAAS,CAAC,iBAAkB,iBAC5B,SAAY,CAAC,iBAAkB,kBAC/B,KAAQ,CAAC,qBAAsB,iBAC/B,MAAS,CAAC,qBAAsB,iBAChC,KAAQ,CAAC,iBAAkB,YAC3B,KAAQ,CAAC,gBAAiB,kBAC1B,IAAO,CAAC,iBAAkB,kBAC1B,KAAQ,CAAC,WAAY,kBAEvBE,QAAS,CACP,SAAY,CAAC,cAAe,qBAAsB,oBAAqB,kBAAmB,aAAc,oBACxG,MAAS,CAAC,cAAe,qBACzB,KAAQ,CAAC,qBAAsB,cAC/B,OAAU,CAAC,qBAAsB,oBACjC,MAAS,CAAC,cAAe,cACzB,IAAO,CAAC,cAAe,sBACvB,KAAQ,CAAC,kBAAmB,oBAC5B,OAAU,CAAC,kBAAmB,cAC9B,SAAY,CAAC,cAAe,oBAC5B,MAAS,CAAC,cAAe,sBACzB,OAAU,CAAC,cAAe,cAC1B,MAAS,CAAC,qBAAsB,qBAChC,SAAY,CAAC,kBAAmB,cAChC,QAAW,CAAC,kBAAmB,oBAC/B,KAAQ,CAAC,cAAe,mBACxB,KAAQ,CAAC,aAAc,oBACvB,OAAU,CAAC,qBAAsB,mBACjC,IAAO,CAAC,cAAe,qBACvB,MAAS,CAAC,qBAAsB,mBAChC,QAAW,CAAC,cAAe,mBAC3B,MAAS,CAAC,oBAAqB,mBAC/B,MAAS,CAAC,cAAe,mBACzB,KAAQ,CAAC,cAAe,cACxB,OAAU,CAAC,cAAe,cAC1B,OAAU,CAAC,oBAAqB,cAChC,KAAQ,CAAC,aAAc,oBACvB,MAAS,CAAC,kBAAmB,oBAC7B,KAAQ,CAAC,cAAe,oBACxB,OAAU,CAAC,kBAAmB,gBAGlCgC,cAAe,CACb,iBAAkB,EAClB,SAAY,EACZ,gBAAiB,EACjB,qBAAsB,EACtB,iBAAkB,EAClB,gBAAiB,EACjB,cAAe,EACf,qBAAsB,EACtB,oBAAqB,EACrB,kBAAmB,EACnB,aAAc,EACd,mBAAoB,GAEtBlP,eAAgB,e","file":"static/js/main.d9840907.chunk.js","sourcesContent":["/* client/src/components/pages/Home.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Home\r\n  @desc: render home page\r\n*/\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"page\" id=\"home\">\r\n      This is the home page.\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","/* client/components/partials/Loading.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Loading\r\n  @desc: render a loading animation\r\n*/\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <svg className=\"circular\" viewBox=\"25 25 50 50\">\r\n        <circle className=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading;\r\n","/* client/components/partials/LoginForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: LoginForm\r\n  @desc: render login form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop password: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"login-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Login Form</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.user : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password-field\">\r\n        <label className=\"form__label\" htmlFor=\"password\">Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password == null ? \"\" : \" form__input--error\")} value={props.password} id=\"password\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password : \"\")}</span>\r\n        <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Login</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm;\r\n","/* client/components/api/LoginAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nimport LoginForm from \"../partials/LoginForm.js\";\r\n\r\n/*\r\n  @func: LoginAPI\r\n  @desc: manage state of login form and login requests to server\r\n  @prop login: function\r\n  @state:\r\n    email: String\r\n    password: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass LoginAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.post(\"/api/users/login\", {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TOKEN_ISSUED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.login(response.data.token, response.data.expiresIn, response.data.user);\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.message.status, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to log in.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"LoginAPI\">\r\n        <LoginForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} password={this.state.password} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LoginAPI;\r\n","/* client/src/components/pages/Login.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport LoginAPI from \"../api/LoginAPI.js\";\r\n\r\n/*\r\n  @func: Login\r\n  @desc: render login page\r\n  @prop login: function\r\n  @prop alert: function\r\n*/\r\nconst Login = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"login\">\r\n      <LoginAPI login={props.login} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","/* client/src/components/pages/Logout.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Logout\r\n  @desc: call client-side logout when rendered\r\n  @prop logout: function\r\n*/\r\nconst Logout = (props) => {\r\n  props.logout();\r\n  return (\r\n    <div className=\"page\" id=\"logout\"></div>\r\n  )\r\n}\r\n\r\nexport default Logout;\r\n","/* client/components/partials/RegisterForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: RegisterForm\r\n  @desc: render register form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop email: String\r\n  @prop password1: String\r\n  @prop password2: String\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst RegisterForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"register-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Register Form</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"username-field\">\r\n        <label className=\"form__label\" htmlFor=\"username\">Username</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.username == null ? \"\" : \" form__input--error\")} value={props.username} id=\"username\" type=\"name\" required/>\r\n        <span className=\"form__description\">Must match platform</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.username : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.user : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"platform-field\">\r\n        <label className=\"form__label\" htmlFor=\"platform\">Platform</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.platform == null ? \"\" : \" form__input--error\")} value={props.platform} id=\"platform\" required>\r\n          <option>XBOX</option>\r\n          <option>PC</option>\r\n          <option>PS4</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.platform : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Register</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default RegisterForm;\r\n","/* client/components/api/RegisterAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nimport RegisterForm from \"../partials/RegisterForm.js\";\r\n\r\n/*\r\n  @func: RegisterAPI\r\n  @desc: manage state of register form and register requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass RegisterAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      email: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n      platform: \"XBOX\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.post(\"/api/users/register\", {\r\n      username: this.state.username,\r\n      email: this.state.email,\r\n      platform: this.state.platform,\r\n      password1: this.state.password1,\r\n      password2: this.state.password2\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"USER_REGISTERED\":\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to register.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"RegisterAPI\">\r\n          <RegisterForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} password1={this.state.password1} password2={this.state.platform2} platform={this.state.platform} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default RegisterAPI;\r\n","/* client/src/components/pages/Register.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport RegisterAPI from \"../api/RegisterAPI.js\";\r\n\r\n/*\r\n  @func: Register\r\n  @desc: render register page\r\n  @prop alert: function\r\n*/\r\nconst Register = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"register\">\r\n      <RegisterAPI alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","/* client/components/partials/UpdatePlatformForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdatePlatformForm\r\n  @desc: render update platform form for user to interact with\r\n  @prop onChange: function\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdatePlatformForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-platform-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Platform</p>\r\n      <fieldset className=\"form__fieldset\" id=\"platform-field\">\r\n        <label className=\"form__label\">Platform</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.platform == null ? \"\" : \" form__input--error\")} value={props.platform} id=\"platform\" required>\r\n          <option>XBOX</option>\r\n          <option>PC</option>\r\n          <option>PS4</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.platform : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdatePlatformForm;\r\n","/* client/components/api/UpdatePlatformAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport UpdatePlatformForm from \"../partials/UpdatePlatformForm.js\";\r\n\r\n/*\r\n  @func: UpdatePlatformAPI\r\n  @desc: manage state of update platform form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop platform: String\r\n  @state:\r\n    platform: String\r\n*/\r\nclass UpdatePlatformAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      platform: this.props.platform,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-platform\", {\r\n      platform: this.state.platform\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"PLATFORM_UPDATED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your platform has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to update platform.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdatePlatformAPI\">\r\n        <UpdatePlatformForm onChange={this.onChange} platform={this.state.platform} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdatePlatformAPI;\r\n","/* client/components/partials/UpdateUsernameForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdateUsernameForm\r\n  @desc: render update username form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop username: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdateUsernameForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-username-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Username</p>\r\n      <fieldset className=\"form__fieldset\" id=\"username-field\">\r\n        <label className=\"form__label\" htmlFor=\"username\">Username</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.username == null ? \"\" : \" form__input--error\")} value={props.username} id=\"username\" type=\"name\" required/>\r\n        <span className=\"form__description\">Must match platform</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.username : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdateUsernameForm;\r\n","/* client/components/api/UpdateUsernameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport UpdateUsernameForm from \"../partials/UpdateUsernameForm.js\";\r\n\r\n/*\r\n  @func: UpdateUsernameAPI\r\n  @desc: manage state of update platform form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop username: String\r\n  @state:\r\n    username: String\r\n*/\r\nclass UpdateUsernameAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: this.props.username,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-username\", {\r\n      username: this.state.username\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"USERNAME_UPDATED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your username has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to update username.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateUsernameAPI\">\r\n        <UpdateUsernameForm onSubmit={this.onSubmit} onChange={this.onChange} username={this.state.username} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateUsernameAPI;\r\n","/* client/components/partials/UpdateEmailForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdateEmailForm\r\n  @desc: render update platform form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdateEmailForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-email-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Email</p>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdateEmailForm;\r\n","/* client/components/api/UpdateEmailAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport UpdateEmailForm from \"../partials/UpdateEmailForm.js\";\r\n\r\n/*\r\n  @func: UpdateEmailAPI\r\n  @desc: manage state of update email form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop email: String\r\n  @state:\r\n    email: String\r\n*/\r\nclass UpdateEmailAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: this.props.email,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-email\", {\r\n      email: this.state.email\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"EMAIL_UPDATED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your email has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to update email.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateEmailAPI\">\r\n        <UpdateEmailForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateEmailAPI;\r\n","/* client/components/partials/UpdatePasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdatePasswordForm\r\n  @desc: render update password form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdatePasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-password-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Password</p>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdatePasswordForm;\r\n","/* client/components/api/UpdatePasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport UpdatePasswordForm from \"../partials/UpdatePasswordForm.js\";\r\n\r\n/*\r\n  @func: UpdatePasswordAPI\r\n  @desc: manage state of update password form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    password1: String\r\n    password2: String\r\n*/\r\nclass UpdatePasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      password1: \"\",\r\n      password2: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-password\", {\r\n      password1: this.state.password1,\r\n      password2: this.state.password2\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"PASSWORD_UPDATED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your password has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to update password.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateUsernameAPI\">\r\n        <UpdatePasswordForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdatePasswordAPI;\r\n","/* client/components/partials/AttackerRoleForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: AttackerRoleForm\r\n  @desc: render attacker role form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop role: String\r\n  @prop errors: Object\r\n*/\r\nconst AttackerRoleForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"set-attacker-role-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"attacker-role-field\">\r\n        <label className=\"form__label\" htmlFor=\"attacker_role\">Primary Attacker Role</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.role ? \" form__input--error\" : \"\")} value={props.attacker_role} id=\"attacker_role\" required>\r\n          <option>NONE</option>\r\n          <option>HARD BREACH</option>\r\n          <option>SOFT BREACH</option>\r\n          <option>ENTRY FRAG</option>\r\n          <option>AREA DENIAL/FLANK WATCH</option>\r\n          <option>INTEL</option>\r\n          <option>UTILITY CLEAR</option>\r\n          <option>SUPPORT</option>\r\n          <option>ROAM CLEAR</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.role : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AttackerRoleForm;\r\n","/* client/components/api/SetAttackerRoleAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport AttackerRoleForm from \"../partials/AttackerRoleForm.js\";\r\n\r\n/*\r\n  @func: SetAttackerRoleAPI\r\n  @desc: make a request to server to set attacker role\r\n  @prop attacker_role: String\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass SetAttackerRoleAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      attacker_role: this.props.attacker_role\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-attacker-role\", {\r\n      role: this.state.attacker_role\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"ATTACKER_ROLE_SET\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occured while attempting to set attacker role.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetAttackerRoleAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <AttackerRoleForm attacker_role={this.state.attacker_role} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetAttackerRoleAPI;\r\n","/* client/components/partials/AttackersForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\nimport { ATTACKERS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: AttackersForm\r\n  @desc: render attackers form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop attackers: Array\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst AttackersForm = (props) => {\r\n  const attacker_buttons = ATTACKERS.map((attacker, index) => {\r\n    return (\r\n      <div className=\"attackers-form__attacker\" key={index}>\r\n        <input onChange={() => { props.onChange(attacker); } } className={\"attackers-form__input \" + (props.attackers.indexOf(attacker) >= 0 ? \"attackers-form__input--checked\" : \"\")} type=\"checkbox\" id={\"attackers-form__input--\" + attacker.toLowerCase()} checked={props.attackers.indexOf(attacker) >= 0} key={index}/>\r\n        <label className=\"attackers-form__label\" htmlFor={\"attackers-form__input--\" + attacker.toLowerCase()}>\r\n          <img className=\"attackers-form__image\" alt={attacker + \" Image\"} src={\"https://cdn.r6stats.com/badges/\" + attacker.toLowerCase() + \"_badge.png\"}/>\r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <form className=\"form\" id=\"set-attackers-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"attackers-field\">\r\n        <div>\r\n          <p className=\"form__label\">Preferred Attackers</p>\r\n            { attacker_buttons }\r\n          <span className=\"form__error\">{(props.errors ? props.errors.attackers : \"\")}</span>\r\n          <button className=\"form__button form__button--submit\" type=\"submit\">Save</button>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AttackersForm;\r\n","/* client/components/api/SetAttackersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport AttackersForm from \"../partials/AttackersForm.js\";\r\n\r\n/*\r\n  @func: SetAttackersAPI\r\n  @desc: make a request to server to set attackers\r\n  @prop attackers: Array\r\n  @prop getAuthToken: function\r\n\r\n\r\n*/\r\nclass SetAttackersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      attackers: this.props.attackers\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(attacker) {\r\n    const index = this.state.attackers.indexOf(attacker);\r\n    if (index < 0) {\r\n      this.setState({\r\n        attackers: [...this.state.attackers, attacker]\r\n      })\r\n    } else {\r\n      let new_attackers = [...this.state.attackers];\r\n      new_attackers.splice(index, 1);\r\n      this.setState({\r\n        attackers: new_attackers\r\n      })\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-attackers\", {\r\n      attackers: this.state.attackers\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"ATTACKERS_SET\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to set attackers.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetAttackersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <AttackersForm attackers={this.state.attackers} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetAttackersAPI;\r\n","/* client/components/partials/DefenderRoleForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: DefenderRoleForm\r\n  @desc: render defender role form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop role: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst DefenderRoleForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"set-defender-role-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"defender-role-field\">\r\n        <label className=\"form__label\" htmlFor=\"defender_role\">Primary Defender Role</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.role ? \" form__input--error\" : \"\")} value={props.defender_role} id=\"defender_role\" required>\r\n          <option>NONE</option>\r\n          <option>HARD BREACH DENIAL</option>\r\n          <option>INTEL DENIAL</option>\r\n          <option>INTEL</option>\r\n          <option>AREA DENIAL</option>\r\n          <option>TRAPS</option>\r\n          <option>UTILITY SOAK</option>\r\n          <option>SUPPORT</option>\r\n          <option>ROAM</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.role : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default DefenderRoleForm;\r\n","/* client/components/api/SetDefenderRoleAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport DefenderRoleForm from \"../partials/DefenderRoleForm.js\";\r\n\r\n/*\r\n  @func: SetDefenderRoleAPI\r\n  @desc: make a request to server to set attacker role\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass SetDefenderRoleAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      defender_role: this.props.defender_role\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop defender_role: String\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-defender-role\", {\r\n      role: this.state.defender_role\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"DEFENDER_ROLE_SET\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to set defender role.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetDefenderRoleAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <DefenderRoleForm defender_role={this.state.defender_role} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetDefenderRoleAPI;\r\n","/* client/components/partials/DefendersForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\nimport { DEFENDERS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: DefendersForm\r\n  @desc: render defenders form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop defenders: Array\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst DefendersForm = (props) => {\r\n  const defender_buttons = DEFENDERS.map((defender, index) => {\r\n    return (\r\n      <div className=\"defenders-form__defender\" key={index}>\r\n        <input onChange={() => { props.onChange(defender); } } className={\"defenders-form__input \" + (props.defenders.indexOf(defender) >= 0 ? \"defenders-form__input--checked\" : \"\")} type=\"checkbox\" id={\"defenders-form__defender--\" + defender.toLowerCase()} checked={props.defenders.indexOf(defender) >= 0}/>\r\n        <label className=\"defenders-form__label\" htmlFor={\"defenders-form__defender--\" + defender.toLowerCase()}>\r\n          <img className=\"defenders-form__image\" alt={defender + \" Image\"} src={\"https://cdn.r6stats.com/badges/\" + defender.toLowerCase() + \"_badge.png\"}/>\r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <form className=\"form\" id=\"set-defenders-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"defenders-field\">\r\n        <div>\r\n          <p className=\"form__label\">Preferred Defenders</p>\r\n            { defender_buttons }\r\n          <span className=\"form__error\">{(props.errors ? props.errors.defenders : \"\")}</span>\r\n          <button className=\"form__button form__button--submit\" type=\"submit\">Save</button>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default DefendersForm;\r\n","/* client/components/api/SetDefendersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport DefendersForm from \"../partials/DefendersForm.js\";\r\n\r\n/*\r\n  @func: SetDefendersAPI\r\n  @desc: make a request to server to set defenders\r\n  @prop defenders: Array\r\n  @prop getAuthToken: function\r\n\r\n\r\n*/\r\nclass SetDefendersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      defenders: this.props.defenders\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(defender) {\r\n    const index = this.state.defenders.indexOf(defender);\r\n    if (index < 0) {\r\n      this.setState({\r\n        defenders: [...this.state.defenders, defender]\r\n      })\r\n    } else {\r\n      let new_defenders = [...this.state.defenders];\r\n      new_defenders.splice(index, 1);\r\n      this.setState({\r\n        defenders: new_defenders\r\n      })\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-defenders\", {\r\n      defenders: this.state.defenders\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"DEFENDERS_SET\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to set defenders.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetDefendersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <DefendersForm defenders={this.state.defenders} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetDefendersAPI;\r\n","/* client/components/api/PushNotificationsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\n\r\nconst vapidPublicKey = \"BKe8OGW20LmKc386UPPLHqXoFr-hWJQL6GeI83RNt1vPTTdZgau_H_KGc96zzV0h-U1xuN72WzSAEVLEyj07gLY\";\r\nconst convertedVapidKey = urlBase64ToUint8Array(vapidPublicKey);\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n  const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\r\n  const base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\");\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\n\r\n\r\nclass PushNotificationsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.subscribePush = this.subscribePush.bind(this);\r\n    this.unsubscribePush = this.unsubscribePush.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  subscribePush() {\r\n    const component = this;\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      if (!registration.pushManager) {\r\n        window.alert(\"Push Notifications Unsupported.\");\r\n        return;\r\n      }\r\n\r\n      registration.pushManager.subscribe({\r\n        userVisibleOnly: true,\r\n        applicationServerKey: convertedVapidKey\r\n      }).then((subscription) => {\r\n        component.setState({\r\n          loading: true\r\n        });\r\n        axios.defaults.headers.common[\"Authorization\"] = component.props.getAuthToken();\r\n        axios.post(\"/api/push/register\", {\r\n          subscription: subscription\r\n        }).then((response) => {\r\n          switch (response.data.status) {\r\n            case \"SUCCESS\":\r\n              component.setState({\r\n                loading: false,\r\n              });\r\n              break;\r\n              component.props.updateAuthToken();\r\n              component.props.alert(\"You have subscribed to push notifications on this device.\", \"SUCCESS\");\r\n            default:\r\n              component.setState({\r\n                loading: false,\r\n              });\r\n              component.props.alert(response.data.message, response.data.status);\r\n              break;\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error);\r\n          component.props.alert(\"An error has occurred while attempting to get push notifications.\", \"ERROR\");\r\n        });\r\n      })\r\n    })\r\n  }\r\n  unsubscribePush() {\r\n    const component = this;\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.pushManager.getSubscription().then((subscription) => {\r\n        if (!subscription) {\r\n          return;\r\n        }\r\n\r\n        subscription.unsubscribe().then(() => {\r\n          component.setState({\r\n            loading: true\r\n          });\r\n          axios.defaults.headers.common[\"Authorization\"] = component.props.getAuthToken();\r\n          axios.delete(\"/api/push/unregister\").then((response) => {\r\n            switch (response.data.status) {\r\n              case \"SUCCESS\":\r\n                component.setState({\r\n                  loading: false,\r\n                });\r\n                break;\r\n                component.props.updateAuthToken();\r\n                component.props.alert(\"You have unsubscribed from push notifications on this device.\", \"SUCCESS\");\r\n              default:\r\n                component.setState({\r\n                  loading: false,\r\n                });\r\n                component.props.alert(response.data.message, response.data.status);\r\n                break;\r\n            }\r\n          }).catch((error) => {\r\n            console.log(error);\r\n            component.props.alert(\"An error has occurred while attempting to stop push notifications.\", \"ERROR\");\r\n          });\r\n        })\r\n      })\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"PushNotificationsAPI\">\r\n        { this.state.loading ? <Loading/> : (\r\n          <div>\r\n            { this.props.subscription ? (\r\n              <button className=\"button--danger\" onClick={this.unsubscribePush}>Don't Get Notifications</button>\r\n            ) : (\r\n              <button onClick={this.subscribePush}>Get Notifications</button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PushNotificationsAPI;\r\n","/* client/components/api/DeleteUserAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\n\r\n/*\r\n  @func: DeleteUserAPI\r\n  @desc: make a request to server to delete account\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass DeleteUserAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n  */\r\n  onSubmit() {\r\n    if (window.confirm(\"Confirming this dialogue will permanently delete your account and all associated data including teams of which you are the sole member, editor, or admin. This cannot be undone.\")) {\r\n      const component = this;\r\n      this.setState({\r\n        errors: {},\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(\"/api/users/delete\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"USER_DELETED\":\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"Your account has been deleted.\", \"SUCCESS\");\r\n            this.props.logout();\r\n          case \"USER_AND_TEAM_DELETED\":\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"Your account and associated team have been deleted.\", \"SUCCESS\");\r\n            this.props.logout();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.props.alert(\"An error has occurred while attempting to delete user.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"DeleteUserAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <p>Warning: this action is permanent and cannot be undone.</p>\r\n            <button id=\"deleteAccount\" className=\"button button--danger\" onClick={this.onSubmit}>Delete Account</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteUserAPI;\r\n","/* client/src/components/pages/User.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport UpdatePlatformAPI from \"../api/UpdatePlatformAPI.js\";\r\nimport UpdateUsernameAPI from \"../api/UpdateUsernameAPI.js\";\r\nimport UpdateEmailAPI from \"../api/UpdateEmailAPI.js\";\r\nimport UpdatePasswordAPI from \"../api/UpdatePasswordAPI.js\";\r\nimport SetAttackerRoleAPI from \"../api/SetAttackerRoleAPI.js\";\r\nimport SetAttackersAPI from \"../api/SetAttackersAPI.js\";\r\nimport SetDefenderRoleAPI from \"../api/SetDefenderRoleAPI.js\";\r\nimport SetDefendersAPI from \"../api/SetDefendersAPI.js\";\r\nimport PushNotificationsAPI from \"../api/PushNotificationsAPI.js\";\r\nimport DeleteUserAPI from \"../api/DeleteUserAPI.js\";\r\n\r\n/*\r\n  @func: User\r\n  @desc: render user page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop logout: function\r\n  @prop username: String\r\n  @prop email: String\r\n  @prop platform: String\r\n  @prop attacker_role: String\r\n  @prop attackers: Array\r\n  @prop defenders: Array\r\n  @prop defender_role: String\r\n  @prop alert: function\r\n\r\n*/\r\nconst User = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"user\">\r\n      <div className=\"account-section\">\r\n        <h3>Preferences</h3>\r\n        <div className=\"role\">\r\n          <h4>Roles</h4>\r\n          <SetAttackerRoleAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} attacker_role={props.attacker_role} alert={props.alert}/>\r\n          <SetDefenderRoleAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} defender_role={props.defender_role} alert={props.alert}/>\r\n        </div>\r\n        <div className=\"operators\">\r\n          <h4>Operators</h4>\r\n          <SetAttackersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} attackers={props.attackers} alert={props.alert}/>\r\n          <SetDefendersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} defenders={props.defenders} alert={props.alert}/>\r\n        </div>\r\n      </div>\r\n      <div className=\"account-section\" id=\"account-info\">\r\n        <h3>Account Information</h3>\r\n        <UpdatePlatformAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} platform={props.platform} alert={props.alert}/>\r\n        <UpdateUsernameAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} username={props.username} alert={props.alert}/>\r\n        <UpdateEmailAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} email={props.email} alert={props.alert}/>\r\n        <UpdatePasswordAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      </div>\r\n      <div className=\"account-section\" id=\"push-notifications\">\r\n        <h3>Notifications</h3>\r\n        <PushNotificationsAPI getAuthToken={props.getAuthToken} alert={props.alert} subscription={props.subscription}/>\r\n      </div>\r\n      <div className=\"account-section account-section--danger\">\r\n        <h3>Manage Account</h3>\r\n        <DeleteUserAPI getAuthToken={props.getAuthToken} logout={props.logout} alert={props.alert} updateAuthToken={props.getAuthToken}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User;\r\n","/* client/src/components/partials/ProgressCircle.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ProgressCircle extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.count = this.count.bind(this);\r\n\r\n    this.state = {\r\n      value: 0,\r\n      counted: false\r\n    }\r\n  }\r\n  count() {\r\n    if (this.state.value < this.props.value) {\r\n      this.setState({\r\n        value: this.state.value + (0.05 * this.props.value)\r\n      });\r\n    } else {\r\n      this.setState({\r\n        value: this.props.value,\r\n        counted: true\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.counted) {\r\n      this.counter = setInterval(this.count, 50);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"progress-circle\">\r\n        <p>{this.props.label}</p>\r\n        <p className=\"progress-circle__value\">{Math.floor(this.state.value * 100) / 100}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProgressCircle;\r\n","/* client/components/api/GeneralStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ProgressCircle from \"../partials/ProgressCircle.js\";\r\n\r\n/*\r\n  @func: GetGeneralStatisticsAPI\r\n  @desc: get general stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass GeneralStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/general\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"GENERAL_STATS_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats\r\n          });\r\n          console.log(response.data.stats);\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get general statistics\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"GeneralStatisticsAPI\" className=\"statistics-api\">\r\n        <h2 className=\"statistics-title\">Overview</h2>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics-container\">\r\n              <img className=\"user-image\" alt=\"User\" src={this.state.stats.avatar_url_256}/>\r\n              <h3 className=\"stats-grid__heading\">General</h3>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Progression</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"Level\" value={this.state.stats.progression.level}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Playtime</p>\r\n                    <span className=\"stat__value\">{Math.floor(this.state.stats.stats.general.playtime / 3600)} Hrs</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Games Played</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.games_played}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Personal Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"K/D\" value={this.state.stats.stats.general.kd}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Kills</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.kills}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Deaths</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.deaths}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Headshot %</p>\r\n                    <span className=\"stat__value\">{Math.round((this.state.stats.stats.general.headshots / this.state.stats.stats.general.kills) * 100)}%</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Team Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"W/L\" value={this.state.stats.stats.general.wl}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Wins</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.wins}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Losses</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.losses}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <h3 className=\"stats-grid__heading\">Ranked</h3>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Progression</h4>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Playtime</p>\r\n                    <span className=\"stat__value\">{Math.floor(this.state.stats.stats.queue.ranked.playtime / 3600)} Hrs</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Games Played</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.games_played}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Personal Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"K/D\" value={this.state.stats.stats.queue.ranked.kd}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Kills</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.kills}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Deaths</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.deaths}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Team Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"W/L\" value={this.state.stats.stats.queue.ranked.wl}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Wins</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.wins}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Losses</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.losses}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-error\">Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GeneralStatisticsAPI;\r\n","/* client/components/api/SeasonalStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { CURRENT_SEASON } from \"../../data.js\";\r\n\r\n/*\r\n  @func: SeasonalStatisticsAPI\r\n  @desc: get seasonal stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass SeasonalStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false,\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/seasonal\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"SEASONAL_STATS_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get seasonal statistics.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    const season_arr = CURRENT_SEASON.split(\"_\");\r\n    const season = season_arr[0].charAt(0).toUpperCase() + season_arr[0].slice(1) + \" \" + season_arr[1].charAt(0).toUpperCase() + season_arr[1].slice(1);\r\n    return (\r\n      <div id=\"SeasonalStatisticsAPI\" className=\"statistics-api\">\r\n        <h2 className=\"statistics-title\">Operation {season}</h2>\r\n        <h3 className=\"statistics-title\">Seasonal Performance</h3>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics\">\r\n              <div className=\"stat--main\">\r\n                <h3 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].rank_text}</h3>\r\n                <p className=\"stat__label\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].mmr} MMR</p>\r\n                <p className=\"stat__label stat__label--secondary\">MMR Change: {this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].last_match_mmr_change}</p>\r\n              </div>\r\n              <div className=\"stat\">\r\n                <h3 className=\"stat__value--main\">{Math.floor(100 * (this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills / this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths)) / 100} KD</h3>\r\n                <p className=\"stat__label\">Kills</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills}</h4>\r\n                <p className=\"stat__label\">Deaths</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths}</h4>\r\n                <p className=\"stat__label\">K/D Spread</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills - this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths}</h4>\r\n              </div>\r\n              <div className=\"stat\">\r\n                <h3 className=\"stat__value--main\">{Math.floor(100 * (this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins / this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses)) / 100} WL</h3>\r\n                <p className=\"stat__label\">Wins</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins}</h4>\r\n                <p className=\"stat__label\">Losses</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses}</h4>\r\n                <p className=\"stat__label\">W/L Spread</p>\r\n                <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins - this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses}</h4>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <p>Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SeasonalStatisticsAPI;\r\n","/* client/components/partials/OperatorStatistics.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Operator\r\n  @desc: render operator\r\n  @prop image: String\r\n  @prop name: String\r\n  @prop kd: String\r\n  @prop kills: String\r\n  @prop deaths: String\r\n  @prop wl: String\r\n  @prop wins: String\r\n  @prop losses: String\r\n  @prop playtime: String\r\n  @prop hsp: float\r\n*/\r\nconst OperatorStatistics = (props) => {\r\n  return (\r\n    <div className=\"operator-statistics\">\r\n      <div className=\"operator-info\">\r\n        <img className=\"operator-info__image\" alt=\"Operator\" src={props.image}/>\r\n        <h3 className=\"operator-info__name\">{props.name}</h3>\r\n      </div>\r\n      <div className=\"operator-stats\">\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">K/D</p>\r\n          <span className=\"operator-stats__value\">{props.kd}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Kills</p>\r\n          <span className=\"operator-stats__value\">{props.kills}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Deaths</p>\r\n          <span className=\"operator-stats__value\">{props.deaths}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">W/L</p>\r\n          <span className=\"operator-stats__value\">{props.wl}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Wins</p>\r\n          <span className=\"operator-stats__value\">{props.wins}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Losses</p>\r\n          <span className=\"operator-stats__value\">{props.losses}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Playtime</p>\r\n          <span className=\"operator-stats__value\">{Math.floor(props.playtime / 3600)} Hrs</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Headshot %</p>\r\n          <span className=\"operator-stats__value\">{Math.round(props.hsp * 100 * 100) / 100}%</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OperatorStatistics;\r\n","/* client/components/api/OperatorStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport OperatorStatistics from \"../partials/OperatorStatistics.js\";\r\n\r\n/*\r\n  @func: OperatorStatisticsAPI\r\n  @desc: get operator stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass OperatorStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n    this.sortOperators = this.sortOperators.bind(this);\r\n    this.searchOperators = this.searchOperators.bind(this);\r\n    this.toggleRows = this.toggleRows.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      search: \"\",\r\n      rows: false,\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/operators\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"OPERATOR_STATS_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats,\r\n            operators: response.data.stats.operators\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get operator statistics.\", \"ERROR\");\r\n    });\r\n  }\r\n  sortOperators(e) {\r\n    let operators = [...this.state.stats.operators];\r\n    switch (e.target.id.toUpperCase()) {\r\n      case \"RELEASE\":\r\n        operators = operators;\r\n        break;\r\n      case \"NAME\":\r\n        operators = operators.sort((a, b) => { return (a.name > b.name) ? 1 : -1 });\r\n        break;\r\n      case \"KD\":\r\n        operators = operators.sort((a, b) => { return (a.kd > b.kd) ? -1 : 1 });\r\n        break;\r\n      case \"PLAYTIME\":\r\n        operators = operators.sort((a, b) => { return (a.playtime > b.playtime) ? -1 : 1 });\r\n        break;\r\n    }\r\n    this.setState({\r\n      operators: operators\r\n    });\r\n  }\r\n  searchOperators(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n  }\r\n  toggleRows() {\r\n    this.setState({\r\n      rows: !this.state.rows\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    let operators = []\r\n    if (this.state.stats) {\r\n      this.state.operators.map((operator, index) => {\r\n        if (!operator.name.includes(\"Recruit\") && (this.state.search === \"\" || operator.name.toUpperCase().includes(this.state.search.toUpperCase()))) {\r\n          operators.push(<OperatorStatistics image={operator.badge_image} name={operator.name} kd={Math.round(operator.kd * 100) / 100} kills={operator.kills} deaths={operator.deaths} wl={Math.round(operator.wl * 100) / 100} wins={operator.wins} losses={operator.losses} playtime={Math.round(operator.playtime * 100) / 100} hsp={Math.round(operator.headshots / operator.kills * 100) / 100} key={index}/>)\r\n        }\r\n      });\r\n    }\r\n    return (\r\n      <div id=\"OperatorStatisticsAPI\" className={\"statistics-api\" + (this.state.rows ? \" statistics-api--rows\" : \"\")}>\r\n        <h2 className=\"statistics-title\">Operators</h2>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics\">\r\n              <div className=\"controls\">\r\n                <input onChange={this.searchOperators} value={this.state.search} placeholder=\"Search By Name\"/>\r\n                <button onClick={this.sortOperators} id=\"release\">Sort By Release</button>\r\n                <button onClick={this.sortOperators} id=\"name\">Sort By Name</button>\r\n                <button onClick={this.sortOperators} id=\"kd\">Sort By KD</button>\r\n                <button onClick={this.sortOperators} id=\"playtime\">Sort By Playtime</button>\r\n                <button onClick={this.toggleRows} id=\"rows\">{ this.state.rows ? \"Display Cards\" : \"Display Rows\" }</button>\r\n              </div>\r\n              { operators }\r\n            </div>\r\n          ) : (\r\n            <p>Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OperatorStatisticsAPI;\r\n","/* client/src/components/pages/Dashboard.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport GeneralStatisticsAPI from \"../api/GeneralStatisticsAPI.js\";\r\nimport SeasonalStatisticsAPI from \"../api/SeasonalStatisticsAPI.js\";\r\nimport OperatorStatisticsAPI from \"../api/OperatorStatisticsAPI.js\";\r\n\r\n/*\r\n  @func: Dashboard\r\n  @desc: render dashboard\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst Dashboard = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"dashboard\">\r\n      <h1>Dashboard</h1>\r\n      <GeneralStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      <SeasonalStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      <OperatorStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard;\r\n","/* client/components/partials/CreateTeamForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: CreateTeamForm\r\n  @desc: render create team form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst CreateTeamForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"create-team-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"name-field\">\r\n        <label className=\"form__label\" htmlFor=\"name\">Team Name</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.name == null ? \"\" : \" form__input--error\")} value={props.name} id=\"name\" type=\"text\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.name : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit button\" type=\"submit\">Create Team</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CreateTeamForm;\r\n","/* client/components/api/CreateTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateTeamForm from \"../partials/CreateTeamForm.js\";\r\n\r\n/*\r\n  @func: CreateTeamAPI\r\n  @desc: manage state of team name and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass CreateTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(\"/api/teams/create-team\", {\r\n      name: this.state.name\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TEAM_CREATED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your team has been created.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to create team.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"CreateTeamAPI\">\r\n        <h3>Create a Team</h3>\r\n        <CreateTeamForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading} name={this.state.name}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateTeamAPI;\r\n","/* client/components/partials/JoinTeamForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: JoinTeamForm\r\n  @desc: render join team form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop join_code: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst JoinTeamForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"join-team-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"join-code-field\">\r\n        <label className=\"form__label\" htmlFor=\"join_code\">Team Code</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.join_code == null ? \"\" : \" form__input--error\")} value={props.join_code} id=\"join_code\" type=\"text\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.join_code : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit button button--secondary\" type=\"submit\">Join Team</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default JoinTeamForm;\r\n","/* client/components/api/JoinTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport JoinTeamForm from \"../partials/JoinTeamForm.js\";\r\n\r\n/*\r\n  @func: JoinTeamAPI\r\n  @desc: manage state of team name and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    join_code: String\r\n*/\r\nclass JoinTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      join_code: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/join-team\", {\r\n      join_code: this.state.join_code\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TEAM_JOINED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"You have joined the team.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to join team.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"JoinTeamAPI\">\r\n        <h3>Join a Team</h3>\r\n        <JoinTeamForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading} join_code={this.state.join_code}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default JoinTeamAPI;\r\n","/* client/src/components/partials/ErrorLoading.js */\r\n\r\nimport React from \"react\";\r\n\r\nconst ErrorLoading = () => {\r\n  return (\r\n    <div className=\"error-loading\">\r\n      <div className=\"error-loading__modal\">\r\n        <h3>Unable to load data</h3>\r\n        <p>Stratbook was unable to load the data required for this page to function. This typically happens when the client (your device) is unable to contact the servers, so check your network connection and refresh the page.\r\n        <br/><br/>\r\n        If you have a network connection and are still unable to retrieve the necessary data, there is likely a bug or other problem with the servers.\r\n        If you suspect this is the case, please email the lead developer at\r\n        <a id=\"email\" target=\"_blank\" href=\"mailto:cameron@burkholderwd.com\">cameron@burkholderwd.com</a>.</p>\r\n        <a id=\"refresh\" href=\"/\">Refresh</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorLoading;\r\n","/* client/components/partials/teamMember.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: teamMember\r\n  @desc: render team member\r\n  @prop username: String\r\n  @prop attacker_role: String\r\n  @prop attackers: Array\r\n  @prop defender_role: String\r\n  @prop defenders: Array\r\n  @prop status: String\r\n\r\n*/\r\nconst TeamMember = (props) => {\r\n  const attackers = props.attackers.map((attacker, index) => {\r\n    return (\r\n      <div className=\"attacker\" key={index}>\r\n        <img className=\"attacker__image\" alt={attacker} src={\"https://cdn.r6stats.com/badges/\" + attacker.toLowerCase() + \"_badge.png\"}/>\r\n      </div>\r\n    )\r\n  });\r\n  const defenders = props.defenders.map((defender, index) => {\r\n    return (\r\n      <div className=\"defender\" key={index}>\r\n        <img className=\"defender__image\" alt={defender} src={\"https://cdn.r6stats.com/badges/\" + defender.toLowerCase() + \"_badge.png\"}/>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <div className=\"team-member\">\r\n      <h4 className=\"team-member__username\">{props.username}</h4>\r\n      <p className=\"team-member__status\">{props.status}</p>\r\n      <p className=\"team-member__quality\">{props.attacker_role}</p>\r\n      <p className=\"team-member__quality\">{props.defender_role}</p>\r\n      { attackers.length > 0 ? (\r\n        <div className=\"attackers\">\r\n          <p className=\"team-member__attackers\">Preferred Attackers</p>\r\n          { attackers }\r\n        </div>\r\n      ) : \"\" }\r\n      { defenders.length > 0 ? (\r\n        <div className=\"defenders\">\r\n          <p className=\"team-member__defenders\">Preferred Defenders</p>\r\n          { defenders }\r\n        </div>\r\n      ) : \"\" }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeamMember;\r\n","/* client/components/api/ViewTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport TeamMember from \"../partials/TeamMember.js\";\r\n\r\n/*\r\n  @func: ViewTeamAPI\r\n  @desc: manage state of team data\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ViewTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamData.bind(this);\r\n\r\n    this.state = {\r\n      team: {},\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamData() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TEAM_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            team: response.data.team\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to view team.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.team.name) {\r\n      this.fetchTeamData();\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let teamMembers = [];\r\n        let index = 0;\r\n        if (this.state.team) {\r\n          this.state.team.admins.map((admin) => {\r\n            teamMembers.push(<TeamMember username={admin.username} status={admin.status} attacker_role={admin.attacker_role} attackers={admin.attackers} defender_role={admin.defender_role} defenders={admin.defenders} key={index++}/>);\r\n          });\r\n          this.state.team.editors.map((editor) => {\r\n            teamMembers.push(<TeamMember username={editor.username} status={editor.status} attacker_role={editor.attacker_role} attackers={editor.attackers} defender_role={editor.defender_role} defenders={editor.defenders} key={index++}/>);\r\n          });\r\n          this.state.team.members.map((member) => {\r\n            teamMembers.push(<TeamMember username={member.username} status={member.status} attacker_role={member.attacker_role} attackers={member.attackers} defender_role={member.defender_role} defenders={member.defenders} key={index++}/>);\r\n          })\r\n          contents = (\r\n            <div className=\"team\">\r\n              <h2 className=\"team-name\">{this.state.team.name}</h2>\r\n              <h3 className=\"team-description\">{this.state.team.platform} - {this.state.team.join_code}</h3>\r\n              <div className=\"roster\">\r\n                <h3>Roster</h3>\r\n                { teamMembers }\r\n              </div>\r\n            </div>\r\n          );\r\n        } else {\r\n          contents = <ErrorLoading/>\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ViewTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            { contents }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewTeamAPI;\r\n","/* client/components/partials/TeamMemberStats.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: TeamMemberStats\r\n  @desc: render team member statistics\r\n  @prop username: String\r\n  @prop kd: Float\r\n  @prop wl: Float\r\n  @prop mmr: Int\r\n  @prop mmrchange: Int\r\n  @prop level: Int\r\n\r\n*/\r\nconst TeamMemberStats = (props) => {\r\n  return (\r\n    <div className=\"team-member-stats\">\r\n      <h4 className=\"team-member-stats__username\">{props.username}</h4>\r\n      <p className=\"team-member-stats__stat\">{props.mmr} MMR</p>\r\n      <p className=\"team-member-stats__stat\">{props.kd} K/D</p>\r\n      <p className=\"team-member-stats__stat\">Level {props.level}</p>\r\n      <p className=\"team-member-stats__stat\">+/-{props.mmrchange} MMR</p>\r\n      <p className=\"team-member-stats__stat\">{props.wl} W/L</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeamMemberStats;\r\n","/* client/components/api/ViewTeamStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport TeamMemberStats from \"../partials/TeamMemberStats.js\";\r\nimport ProgressCircle from \"../partials/ProgressCircle.js\";\r\n\r\n/*\r\n  @func: ViewTeamStatisticsAPI\r\n  @desc: view team stats\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ViewTeamStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TEAM_STATS_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            stats: {\r\n              team: response.data.team,\r\n              kd: response.data.kd,\r\n              wl: response.data.wl,\r\n              mmr: response.data.mmr,\r\n              mmrchange: response.data.mmrchange,\r\n              level: response.data.level\r\n            }\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to view team statistics.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.stats) {\r\n      this.fetchTeamStats();\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let index = 0;\r\n        if (this.state.stats.team) {\r\n          const teamMembers = this.state.stats.team.map((member) => {\r\n            return (\r\n              <TeamMemberStats username={member.username} kd={member.kd} wl={member.wl} mmr={member.mmr} mmrchange={member.mmrchange} level={member.level}/>\r\n            )\r\n          });\r\n          contents = (\r\n            <div className=\"team-statistics\">\r\n              <h2>Statistics</h2>\r\n              <div className=\"overview\">\r\n                <h3 className=\"overview-label\">Team Performance</h3>\r\n                <ProgressCircle value={this.state.stats.kd} label=\"K/D\"/>\r\n                <ProgressCircle value={this.state.stats.wl} label=\"W/L\"/>\r\n                <ProgressCircle value={this.state.stats.mmr} label=\"MMR\"/>\r\n                <p className=\"team-stat-label\"><span className=\"stat-label\">MMR +/-</span> {this.state.stats.mmrchange}</p>\r\n              </div>\r\n              <div className=\"member-statistics\">\r\n                <h3 className=\"overview-label\">Individual Performances</h3>\r\n                { teamMembers }\r\n              </div>\r\n            </div>\r\n          );\r\n        } else {\r\n          contents = <ErrorLoading/>\r\n        }\r\n      }\r\n    } else {\r\n      contents = <Loading/>\r\n    }\r\n    return (\r\n      <div id=\"ViewTeamStatisticsAPI\">\r\n        <div>\r\n          { contents }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewTeamStatisticsAPI;\r\n","/* client/components/api/LeaveTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\n/*\r\n  @func: LeaveTeamAPI\r\n  @desc: make request to server to leave team\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass LeaveTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Are you sure you want to leave the team?\")) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/leave-team\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"USER_LEFT_TEAM\":\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"You have left the team.\", \"SUCCESS\");\r\n            this.props.updateAuthToken();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.props.alert(\"An error has occurred while attempting to leave team.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"LeaveTeamAPI\">\r\n        <button onClick={this.onSubmit} className=\"button--danger\">Leave Team</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LeaveTeamAPI;\r\n","/* client/src/components/pages/Team.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport CreateTeamAPI from \"../api/CreateTeamAPI.js\";\r\nimport JoinTeamAPI from \"../api/JoinTeamAPI.js\";\r\nimport ViewTeamAPI from \"../api/ViewTeamAPI.js\";\r\nimport ViewTeamStatisticsAPI from \"../api/ViewTeamStatisticsAPI.js\";\r\nimport LeaveTeamAPI from \"../api/LeaveTeamAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: Team\r\n  @desc: render team page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop team_code: String\r\n  @prop alert: function\r\n  @prop status: String\r\n*/\r\nconst Team = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"team\">\r\n      <h1>Team</h1>\r\n      { props.team_code ? (\r\n        <div className=\"hasTeam\">\r\n          { props.status === \"ADMIN\" ? (\r\n            <Link className=\"button\" to=\"/team/manage\">Manage Team</Link>\r\n          ) : \"\"}\r\n          <ViewTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          <ViewTeamStatisticsAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          <LeaveTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n        </div>\r\n      ) : (\r\n        <div className=\"hasNoTeam\">\r\n          <h2>You do not have a team</h2>\r\n          <p>It appears that you do not belong to a team. In order to use all the features of Stratbook, make or join one here.</p>\r\n          <div className=\"team-grid\">\r\n            <CreateTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} name={props.name} alert={props.alert}/>\r\n            <JoinTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Team;\r\n","/* client/src/components/api/UpdateTeamNameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\n\r\nclass UpdateTeamNameAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamName = this.fetchTeamName.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      currentName: \"\",\r\n      newName: \"\"\r\n    }\r\n  }\r\n  fetchTeamName() {\r\n    const component = this;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TEAM_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            currentName: response.data.team.name\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get current team name.\", \"ERROR\");\r\n    });\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      newName: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-name\", {\r\n      name: this.state.newName\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TEAM_NAME_UPDATED\":\r\n          component.setState({\r\n            loading: false,\r\n            currentName: component.state.newName\r\n          });\r\n          component.props.alert(\"Team name has been updated.\", \"SUCCESS\");\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to update team name.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (this.state.loading) {\r\n      this.fetchTeamName();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"UpdateTeamNameAPI\">\r\n      { this.state.loading ? (\r\n        <Loading/>\r\n      ) : (\r\n        <div>\r\n          <h3 className=\"current-name\">{this.state.currentName}</h3>\r\n          <div className=\"update-name-group\">\r\n            <input className=\"team-name-input form__input\" onChange={this.onChange} id=\"newName\" type=\"text\" value={this.state.newName} placeholder={this.state.currentName}/>\r\n            <button className=\"team-name-button button\" onClick={this.onSubmit}>Update Name</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateTeamNameAPI;\r\n","/* client/src/components/partials/ManageTeamMember.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func ManageTeamMember\r\n  @desc manage state of team member on roster\r\n\r\n  @prop username: String\r\n  @prop status: String\r\n  @prop updateUserStatus: function\r\n  @prop blockUser: function\r\n\r\n*/\r\n\r\nconst ManageTeamMember = (props) => {\r\n  return (\r\n    <div className=\"manage-team-member\">\r\n      <h4 className=\"manage-team-member__username\">{props.username}</h4>\r\n      { props.status === \"ADMIN\" ? (\r\n        <p className=\"manage-team-member__status\">{props.status}</p>\r\n      ) : (\r\n        <select className=\"manage-team-member__input form__select\" onChange={(e) => { props.updateUserStatus(props.username, e.target.value) }} value={props.status}>\r\n          <option>MEMBER</option>\r\n          <option>EDITOR</option>\r\n          <option>ADMIN</option>\r\n        </select>\r\n      )}\r\n      { props.status === \"ADMIN\" ? (\"\") : (\r\n        <button onClick={() => { props.blockUser(props.username) }} className=\"manage-team-member__button button button--warning\">Block User</button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageTeamMember;\r\n","/* client/src/components/api/ManageTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport ManageTeamMember from \"../partials/ManageTeamMember.js\";\r\n\r\n/*\r\n  @func: ManageTeamAPI\r\n  @desc: manage state of team data\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ManageTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamData.bind(this);\r\n    this.updateUserStatus = this.updateUserStatus.bind(this);\r\n    this.blockUser = this.blockUser.bind(this);\r\n\r\n    this.state = {\r\n      team: {},\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamData() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"TEAM_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            team: response.data.team\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(\"An error occurred while fetching team.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.team.name) {\r\n      this.fetchTeamData();\r\n    }\r\n  }\r\n  updateUserStatus(username, status) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-user-status\", {\r\n      username: username,\r\n      status: status\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"USER_STATUS_UPDATED\":\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.fetchTeamData();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to update user status.\", \"ERROR\");\r\n    });\r\n  }\r\n  blockUser(username) {\r\n    if (window.confirm(`You are about to block ${username} from the team. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/block-user\", {\r\n        username: username\r\n      })\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"USER_BLOCKED\":\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"SUCCESS\", \"User has been blocked successfully.\");\r\n            component.fetchTeamData();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n        setTimeout(() => {\r\n          window.location.reload(false);\r\n        }, 500);\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(\"An error has occurred while attempting to block user.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let contents = <Loading/>;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let teamMembers = [];\r\n        let index = 0;\r\n        this.state.team.admins.map((admin) => {\r\n          teamMembers.push(<ManageTeamMember username={admin.username} status={admin.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        });\r\n        this.state.team.editors.map((editor) => {\r\n          teamMembers.push(<ManageTeamMember username={editor.username} status={editor.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        });\r\n        this.state.team.members.map((member) => {\r\n          teamMembers.push(<ManageTeamMember username={member.username} status={member.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        })\r\n        contents = (\r\n          <div className=\"team\">\r\n            { teamMembers }\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ManageTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <h3>Roster</h3>\r\n            { contents }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ManageTeamAPI;\r\n","/* client/src/components/api/UpdateTeamNameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\n\r\nclass DeleteTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Deleting your team is a permanent action that cannot be undone. All data associated with this team will be purged from the Stratbook databases. Are you sure you want to do this?\")) {\r\n      const component = this;\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(\"/api/teams/delete-team\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"TEAM_DELETED\":\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"Your team has been deleted.\", \"SUCCESS\");\r\n            component.props.updateAuthToken();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.updateAuthToken();\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(\"An error occurred while attempting to delete team.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"DeleteTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <button onClick={this.onSubmit} className=\"form__button form__button--submit button button--danger\" id=\"DeleteTeamAPI\">Delete Team</button>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteTeamAPI;\r\n","/* client/src/components/api/BlockedUsersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\n\r\n/*\r\n  @func: BlockedUsersAPI\r\n  @desc: view and manage blocked users\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass BlockedUsersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchBlockedUsers = this.fetchBlockedUsers.bind(this);\r\n    this.unblockUser = this.unblockUser.bind(this);\r\n\r\n    this.state = {\r\n      blocked_users: undefined,\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchBlockedUsers() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-blocked-users\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"BLOCKED_USERS_FOUND\":\r\n          component.setState({\r\n            loading: false,\r\n            blocked_users: response.data.blocked_users\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(\"An error occurred while fetching blocked users.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.blocked_users) {\r\n      this.fetchBlockedUsers();\r\n    }\r\n  }\r\n  unblockUser(username, id) {\r\n    if (window.confirm(`You are about to unblock ${username}. He/she will be able to join the team if he/she has the join code. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/unblock-user\", {\r\n        id: id\r\n      })\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"USER_UNBLOCKED\":\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"User has been unblocked successfully.\", \"SUCCESS\");\r\n            component.fetchBlockedUsers();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(\"An error has occurred while attempting to unblock user.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let contents = <Loading/>;\r\n    if (this.state.error) {\r\n      contents = <ErrorLoading/>;\r\n    } else {\r\n      if (this.state.blocked_users) {\r\n        if (this.state.blocked_users.length > 0) {\r\n          contents = this.state.blocked_users.map((user) => {\r\n            return (\r\n              <div className=\"blocked-user\">\r\n                <h4>{user.username}</h4>\r\n                <button className=\"button button--secondary\" onClick={() => { this.unblockUser(user.username, user._id) }}>Unblock</button>\r\n              </div>\r\n            )\r\n          })\r\n        } else {\r\n          contents = \"No users have been blocked.\";\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"BlockedUsersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <h3>Blocked Users</h3>\r\n            { contents }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlockedUsersAPI;\r\n","/* client/src/components/pages/ManageTeam.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport UpdateTeamNameAPI from \"../api/UpdateTeamNameAPI.js\";\r\nimport ManageTeamAPI from \"../api/ManageTeamAPI.js\";\r\nimport DeleteTeamAPI from \"../api/DeleteTeamAPI.js\";\r\nimport BlockedUsersAPI from \"../api/BlockedUsersAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: ManageTeam\r\n  @desc: render manage team page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst ManageTeam = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"manage-team\">\r\n      <h1>Manage Team</h1>\r\n      <Link className=\"button\" to=\"/team\">Back to Team</Link>\r\n      <UpdateTeamNameAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      <ManageTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      <BlockedUsersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      <DeleteTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageTeam;\r\n","/* client/components/partials/LoadingModal.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Loading\r\n  @desc: render a loading animation\r\n*/\r\nconst LoadingModal = (props) => {\r\n  return (\r\n    <div className=\"loading-modal\">\r\n      <div className=\"loader\">\r\n        <svg className=\"circular\" viewBox=\"25 25 50 50\">\r\n          <circle className=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\r\n        </svg>\r\n      </div>\r\n      { props.message ? props.message : \"Fetching Data\" }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoadingModal;\r\n","/* client/components/api/ViewStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport { MAP_NAMES } from \"../../data.js\";\r\n\r\n/*\r\n  @func: ViewStrategiesAPI\r\n  @desc: manage state of strategies page and make requests to server\r\n  @prop team_code: String\r\n  @prop getAuthToken: function\r\n  @state:\r\n    strategies: Object\r\n    index: Int\r\n    loading: Boolean\r\n*/\r\nclass ViewStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStrategies = this.fetchStrategies.bind(this);\r\n    this.selectStrategy = this.selectStrategy.bind(this);\r\n    this.exitStrategy = this.exitStrategy.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n\r\n    this.state = {\r\n      strategies: {},\r\n      index: 0,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      listView: true,\r\n      search: \"\"\r\n    }\r\n  }\r\n  /*\r\n    @func selectStrategy\r\n    @desc choose a strategy\r\n  */\r\n  selectStrategy(index) {\r\n    this.setState({\r\n      index: index,\r\n      listView: false\r\n    });\r\n  }\r\n  /*\r\n    @func exitStrategy\r\n    @desc go back to list view\r\n  */\r\n  exitStrategy() {\r\n    this.setState({\r\n      listView: true\r\n    })\r\n  }\r\n  /*\r\n\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func fetchStrategies\r\n    @desc get strategies from server\r\n  */\r\n  fetchStrategies() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/strategies/view\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"STRATEGIES_FOUND\":\r\n          const maps = Object.keys(response.data.strategies).filter((map) => MAP_NAMES.indexOf(map) >= 0);\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            strategies: response.data.strategies,\r\n            maps: maps\r\n          });\r\n          break;\r\n          default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get strategies.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStrategies();\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (this.state.loading) {\r\n      contents = <LoadingModal message=\"Fetching Strategies\"/>\r\n    } else {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        if (this.props.team_code && this.props.team_code !== \"\") {\r\n          if (this.state.strategies.length > 0) {\r\n            const strats = this.state.strategies.map((strat, index) => {\r\n              if (this.state.search === \"\" || strat.name.toUpperCase().includes(this.state.search.toUpperCase())) {\r\n                return (\r\n                  <div className=\"strategy-preview\" key={index}>\r\n                    <h3 className=\"strategy-preview-heading\" onClick={() => { this.selectStrategy(index) }}>{strat.name}</h3>\r\n                    <p className=\"strategy-preview-type\">{strat.type}</p>\r\n                  </div>\r\n                )\r\n              }\r\n            });\r\n            contents = (this.state.listView) ? (\r\n              <div className=\"strategy-list\">\r\n                <input className=\"strategy-search\" onChange={this.onChange} value={this.state.search} type=\"text\" placeholder=\"Search Strategies\"/>\r\n                { strats }\r\n              </div>\r\n            ) : (\r\n              <p></p>\r\n            )\r\n          } else {\r\n            contents = <p>Your team does not currently have any strategies.</p>\r\n          }\r\n        } else {\r\n          contents = <p>You do not belong to a team at this time. In order to view strategies, you must be a part of a team.</p>\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ViewStrategiesAPI\">\r\n        { contents }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewStrategiesAPI;\r\n","/* client/src/components/pages/Strategies.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewStrategiesAPI from \"../api/ViewStrategiesAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: Strategies\r\n  @desc: render strategies page\r\n  @prop team_code: String\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst Strategies = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"strategies\">\r\n      <h1>View Strategies</h1>\r\n      { props.status === \"EDITOR\" || props.status === \"ADMIN\" ? (\r\n        <Link className=\"button\" to=\"/strategies/edit\">Edit Strategies</Link>\r\n      ) : \"\"}\r\n      <ViewStrategiesAPI team_code={props.team_code} getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Strategies;\r\n","/* client/src/components/partials/MapSelector.js */\r\n\r\nimport React from \"react\";\r\nimport { MAPS } from \"../../data.js\";\r\n\r\nconst MapSelector = (props) => {\r\n  const maps = MAPS.filter((map) => props.maps.indexOf(map) < 0).map((map, index) => {\r\n    return (\r\n      <div className=\"map-option\" onClick={() => { props.selectMap(map) }} key={index}>\r\n        <img className=\"map-option__image\" src=\"\"/>\r\n        <h4 className=\"map-option__title\">{map}</h4>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <div className=\"map-selector\">\r\n      <h3>Select a Map to Add to your Stratbook</h3>\r\n      { maps }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MapSelector;\r\n","/* client/src/components/partials/Toolbar.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass Toolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeName = this.changeName.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.updateStrategyName = this.updateStrategyName.bind(this);\r\n    this.toggleStrategyNavigation = this.toggleStrategyNavigation.bind(this);\r\n\r\n    this.state = {\r\n      strategy: (this.props.strategy !== \"\" ? this.props.strategy : \"Unnamed\"),\r\n      active: false,\r\n      nav: false\r\n    }\r\n  }\r\n  changeName() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    });\r\n  }\r\n  updateName(e) {\r\n    this.setState({\r\n      strategy: e.target.value\r\n    });\r\n  }\r\n  updateStrategyName() {\r\n    if (this.state.strategy !== \"\" && this.state.strategy !== \" \") {\r\n      this.props.updateStrategyName(this.state.strategy);\r\n      this.setState({\r\n        active: false\r\n      });\r\n    } else {\r\n      this.props.alert(\"Strategy name cannot be empty.\");\r\n    }\r\n  }\r\n  toggleStrategyNavigation() {\r\n    this.setState({\r\n      nav: !this.state.nav\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.strategy !== this.state.strategy && !this.state.active) {\r\n      this.setState({\r\n        strategy: this.props.strategy\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let sites = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.sites.map((site, index) => {\r\n        return (\r\n          <button onClick={() => { this.props.selectSite(index) }} className={(index === this.props.siteIndex ? \"site--active\" : \"\")} key={index}>{site}</button>\r\n        )\r\n      })\r\n    ))\r\n    let strategies = this.props.strategies.map((strat, index) => {\r\n      return (\r\n        <button onClick={() => { this.props.selectStrategy(index) }} className={(index === this.props.strategyIndex ? \"strategy--active\" : \"\")} key={index}>{strat.name}</button>\r\n      )\r\n    });\r\n    return (\r\n      <div className=\"toolbar\">\r\n        <button onClick={this.toggleStrategyNavigation} className={\"toolbar__navigation-button\" + (this.state.nav ? \" toolbar__navigation-button--active\" : \"\")}>&#9776;</button>\r\n        { this.state.active ? (\r\n          <div className=\"strategy__name-input\">\r\n            <input className=\"strategy__input\" onChange={this.updateName} value={this.state.strategy}/>\r\n            <button onClick={this.updateStrategyName}>&#10003;</button>\r\n          </div>\r\n        ) : (\r\n          <h4 className=\"toolbar__strategy\" onClick={this.changeName}>{this.state.strategy}</h4>\r\n        )}\r\n        { this.props.type === \"ATTACK\" ? (\r\n          <div className=\"dropdown-container\">\r\n            <p onClick={this.props.insertDrone}>Drones</p>\r\n            <p onClick={this.props.insertBreach}>Breaches</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"dropdown-container\">\r\n            <p onClick={this.props.insertRotate}>Rotates</p>\r\n            <p onClick={this.props.insertReinforcement}>Reinforcements</p>\r\n          </div>\r\n        )}\r\n        <div className={\"toolbar__navigation\" + (this.state.nav ? \" toolbar__navigation--active\" : \"\")}>\r\n          <h3>{this.props.map.name}</h3>\r\n          <button className=\"button toolbar__button\" onClick={this.props.save}>Save</button>\r\n          <button onClick={this.props.showMaps} id=\"showMaps\">Back to Maps</button>\r\n          <div className=\"strategy__navigation\">\r\n            <h4>Mode</h4>\r\n            <div className=\"type-selector\">\r\n              <button onClick={() => { this.props.updateType(\"ATTACK\") }} className={this.props.type === \"ATTACK\" ? \"type--active\" : \"\"}>Attack</button>\r\n              <button onClick={() => { this.props.updateType(\"DEFENSE\") }} className={this.props.type === \"ATTACK\" ? \"\" : \"type--active\"}>Defense</button>\r\n            </div>\r\n            { this.props.type === \"ATTACK\" ? \"\" : (\r\n              <div className=\"site-container\">\r\n                <h4>Sites</h4>\r\n                <div>\r\n                  { sites }\r\n                </div>\r\n              </div>\r\n            )}\r\n            <h4>Strategies</h4>\r\n            <div className=\"strategy-selector\">\r\n              { strategies }\r\n              <div className=\"strategy-control\">\r\n                <button onClick={this.props.addStrategy}>Add Strategy</button>\r\n                <button onClick={this.props.removeStrategy}>Remove Strategy</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Toolbar;\r\n","/* client/src/components/partials/Sidebar.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass Sidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeName = this.changeName.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n\r\n    this.state = {\r\n      index: 0,\r\n      name: \"\",\r\n      active: false\r\n    }\r\n  }\r\n  changeName(e, index) {\r\n    if (e) {\r\n      e.stopPropagation();\r\n    }\r\n    if (this.state.active) {\r\n      this.props.updateSceneName(this.state.name, this.state.index);\r\n      this.setState({\r\n        index: 0,\r\n        name: \"\",\r\n        active: false\r\n      });\r\n    } else {\r\n      this.setState({\r\n        index: index,\r\n        name: this.props.scenes[index].name,\r\n        active: true\r\n      });\r\n    }\r\n  }\r\n  updateName(e) {\r\n    this.setState({\r\n      name: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    const sites = this.props.sites.map((site, index) => {\r\n      return (\r\n        <div className={\"site\" + (this.props.siteIndex === index ? \" site--active\" : \"\")} onClick={() => { this.props.selectSite(index) }} key={index}>\r\n          <span className=\"site__number\">Site {index + 1}</span>\r\n          <p className=\"site__name\">{site}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const scenes = this.props.scenes.map((scene, index) => {\r\n      return (\r\n        <div className={\"scene\" + (this.props.sceneIndex === index ? \" scene--active\" : \"\")}\r\n          onClick={() => {\r\n            if (!this.state.active) {\r\n              this.props.selectScene(index);\r\n            }\r\n          }} key={index}>\r\n          <span className=\"scene__number\">Scene {index + 1}</span>\r\n          { this.state.active && this.state.index === index ? (\r\n            <div className=\"scene__name-input\">\r\n              <input className=\"scene__input\" onChange={this.updateName} value={this.state.name}/>\r\n              <button onClick={this.changeName}>&#10003;</button>\r\n            </div>\r\n          ) : (\r\n            <p className=\"scene__name\" onClick={(e) => { this.changeName(e, index) }}>{scene.name}</p>\r\n          )}\r\n        </div>\r\n      )\r\n    });\r\n    const strategies = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.strategies.map((strat, index) => {\r\n        return (\r\n          <div className={\"strategy\" + (this.props.strategyIndex === index ? \" strategy--active\" : \"\")} onClick={() => { this.props.selectStrategy(index) }} key={index}>\r\n            <p className=\"strategy__name\">{strat.name}</p>\r\n          </div>\r\n        )\r\n      })\r\n    ));\r\n    return (\r\n      <div className=\"sidebar\">\r\n        { this.props.type === \"ATTACK\" ? (\r\n          <div className=\"site-container\">\r\n            <h3 className=\"site-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n            <h4 className=\"site-container__subtitle\">{this.props.strategy}</h4>\r\n            { sites }\r\n          </div>\r\n        ) : (\r\n          <div className=\"strategy-container\">\r\n            <h3 className=\"strategy-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n            <h4 className=\"strategy-container__subtitle\">{this.props.sites[this.props.siteIndex]}</h4>\r\n            { strategies }\r\n          </div>\r\n        )}\r\n        <div className=\"scene-container\">\r\n          <h3 className=\"scene-container__heading\">Scenes</h3>\r\n          { scenes }\r\n        </div>\r\n        <div className=\"scene-controls\">\r\n          <button onClick={this.props.addScene}>Add Scene</button>\r\n          <button onClick={this.props.removeScene}>Remove Scene</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Sidebar;\r\n","/* client/src/components/partials/FloorSelector.js */\r\n\r\nimport React from \"react\";\r\n\r\nconst FloorSelector = (props) => {\r\n  const options = props.floors.map((floor, index) => {\r\n    return <option key={index}>{floor}</option>\r\n  })\r\n  return (\r\n    <select onChange={props.onChange} className=\"form__select\" value={props.floor}>\r\n      {options}\r\n    </select>\r\n  )\r\n}\r\n\r\nexport default FloorSelector;\r\n","/* client/src/components/partials/DragItem.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass DragItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drag: false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ top: (this.props.y ? this.props.y : 0), left: (this.props.x ? this.props.x : 0), backgroundImage: `url(${this.props.url})`, backgroundSize: \"cover\", backgroundPosition: \"center\" }}\r\n      className={\"drag-item\" + (this.props.drag ? \" drag\" : \"\")}\r\n        onMouseDown={() => {\r\n          this.setState({\r\n            drag: true\r\n          }, () => {\r\n            if (this.props.type === \"GADGET\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gindex);\r\n            } else if (this.props.type === \"UTILITY\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.uindex);\r\n            } else {\r\n              this.props.selectElement(this.props.index, this.props.type);\r\n            }\r\n          });\r\n        }} data-type={this.props.type}>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DragItem;\r\n","/* client/src/components/partials/PositionOverlay.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport DragItem from \"./DragItem.js\";\r\n\r\nclass PositionOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectElement = this.selectElement.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n    this.detectChange = this.detectChange.bind(this);\r\n\r\n    this.selector = React.createRef();\r\n\r\n    this.state = {\r\n      index: 0,\r\n      type: \"\",\r\n      operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n      gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n      utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n      drones: (this.props.drones ? [...this.props.drones] : []),\r\n      rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n      reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n      breaches: (this.props.breaches ? [...this.props.breaches] : [])\r\n    }\r\n  }\r\n  selectElement(index, type, gi) {\r\n    this.setState({\r\n      index: index,\r\n      drag: true,\r\n      type: type,\r\n      gi: gi\r\n    }, () => {\r\n      document.addEventListener(\"mousemove\", this.onMouseMove);\r\n      document.addEventListener(\"mouseup\", this.onMouseUp);\r\n    });\r\n  }\r\n  onMouseMove(e) {\r\n    let width = 60;\r\n    let height = 60;\r\n    let newPositions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        newPositions = [...this.state.operatorPositions];\r\n        break;\r\n      case \"DRONE\":\r\n        newPositions = [...this.state.drones];\r\n        break;\r\n      case \"GADGET\":\r\n        newPositions = [...this.state.gadgetPositions][this.state.index];\r\n        break;\r\n      case \"UTILITY\":\r\n        newPositions = [...this.state.utilityPositions][this.state.index];\r\n        break;\r\n      case \"ROTATE\":\r\n        newPositions = [...this.state.rotates];\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        newPositions = [...this.state.reinforcements];\r\n        break;\r\n      case \"BREACH\":\r\n        newPositions = [...this.state.breaches];\r\n        break;\r\n    }\r\n    let newX = e.pageX - this.state.bounds.left - (width / 2);\r\n    let newY = e.pageY - this.state.bounds.top - (height / 2);\r\n    if (newX < 0) {\r\n      newX = 0;\r\n    } else if (newX > this.state.bounds.width - width) {\r\n      newX = this.state.bounds.width - width;\r\n    }\r\n    if (newY < 0) {\r\n      newY = 0;\r\n    } else if (newY > this.state.bounds.height - height) {\r\n      newY = this.state.bounds.height - height;\r\n    }\r\n    if (this.state.type === \"GADGET\" || this.state.type === \"UTILITY\") {\r\n      newPositions[this.state.gi].x = newX;\r\n      newPositions[this.state.gi].y = newY;\r\n    } else {\r\n      newPositions[this.state.index].x = newX;\r\n      newPositions[this.state.index].y = newY;\r\n    }\r\n    let positions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        this.setState({\r\n          operatorPositions: newPositions\r\n        });\r\n        break;\r\n      case \"DRONE\":\r\n        this.setState({\r\n          drones: newPositions\r\n        });\r\n        break;\r\n      case \"GADGET\":\r\n        positions = [...this.state.gadgetPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          gadgetPositions: positions\r\n        });\r\n        break;\r\n      case \"UTILITY\":\r\n        positions = [...this.state.utilityPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          utilityPositions: positions\r\n        });\r\n        break;\r\n      case \"ROTATE\":\r\n        this.setState({\r\n          rotates: newPositions\r\n        });\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        this.setState({\r\n          reinforcements: newPositions\r\n        });\r\n        break;\r\n      case \"BREACH\":\r\n        this.setState({\r\n          breaches: newPositions\r\n        });\r\n        break;\r\n    }\r\n  }\r\n  onMouseUp(e) {\r\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    this.setState({\r\n      drag: false\r\n    }, () => {\r\n      switch (this.state.type) {\r\n        case \"OPERATOR\":\r\n          this.props.updateOperatorPositions(this.state.operatorPositions);\r\n          break;\r\n        case \"DRONE\":\r\n          this.props.updateDronePositions(this.state.drones);\r\n          break;\r\n        case \"GADGET\":\r\n          this.props.updateGadgetPositions(this.state.gadgetPositions);\r\n          break;\r\n        case \"UTILITY\":\r\n          this.props.updateUtilityPositions(this.state.utilityPositions);\r\n          break;\r\n        case \"ROTATE\":\r\n          this.props.updateRotatePositions(this.state.rotates);\r\n          break;\r\n        case \"REINFORCEMENT\":\r\n          this.props.updateReinforcementPositions(this.state.reinforcements);\r\n          break;\r\n        case \"BREACH\":\r\n          this.props.updateBreachPositions(this.state.breaches);\r\n          break;\r\n      }\r\n      this.setState({\r\n        type: undefined,\r\n        gi: undefined\r\n      });\r\n    });\r\n  }\r\n  detectChange(prevProps, prevState) {\r\n    let bool = false;\r\n    if (prevProps != this.props) {\r\n      bool = true;\r\n    }\r\n    return bool;\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      this.setState({\r\n        bounds: this.selector.current.getBoundingClientRect()\r\n      })\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.detectChange(prevProps, prevState)) {\r\n      this.setState({\r\n        index: 0,\r\n        type: \"\",\r\n        operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n        gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n        utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n        drones: (this.props.drones ? [...this.props.drones] : []),\r\n        rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n        reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n        breaches: (this.props.breaches ? [...this.props.breaches] : [])\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    console.log(this.props);\r\n    const operators = this.state.operatorPositions.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = `https://cdn.r6stats.com/badges/${this.props.operators[index].toLowerCase()}_badge.png`;\r\n        return (\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"OPERATOR\" bounds={this.state.bounds}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n\r\n    let drones = [];\r\n    this.state.drones.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../media/drone.png\";\r\n        drones.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"DRONE\" bounds={this.state.bounds}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n\r\n    let gadgets = [];\r\n    this.state.gadgetPositions.map((pos, index) => {\r\n      pos.forEach((g, gindex) => {\r\n        if (g.floor === this.props.floorIndex) {\r\n          let url = \"https://i.redd.it/r90417o3mq411.jpg\";\r\n          gadgets.push(\r\n            <DragItem url={url}\r\n            x={g.x} y={g.y}\r\n            selectElement={this.selectElement} index={index} gindex={gindex} key={gindex * index + gindex} drag={this.state.drag}\r\n            type=\"GADGET\" bounds={this.state.bounds}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    let utility = [];\r\n    this.state.utilityPositions.map((pos, index) => {\r\n      pos.forEach((u, uindex) => {\r\n        if (u.floor === this.props.floorIndex) {\r\n          let url = `../media/${this.props.utility[index].replace(\" \", \"_\").replace(\" \", \"_\")}.png`;\r\n          utility.push(\r\n            <DragItem url={url}\r\n            x={u.x} y={u.y}\r\n            selectElement={this.selectElement} index={index} uindex={uindex} key={uindex * index + uindex} drag={this.state.drag}\r\n            type=\"UTILITY\" bounds={this.state.bounds}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    let rotates = [];\r\n    this.state.rotates.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../medida/rotate.png\";\r\n        rotates.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"ROTATE\" bounds={this.state.bounds}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let reinforcements = [];\r\n    this.state.reinforcements.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../media/reinforcement.png\";\r\n        reinforcements.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"REINFORCEMENT\" bounds={this.state.bounds}/>\r\n        )\r\n      }\r\n    });\r\n\r\n\r\n    let breaches = [];\r\n    this.state.breaches.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../media/breach.png\";\r\n        breaches.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"BREACH\" bounds={this.state.bounds}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div className=\"position-overlay\" ref={this.selector}>\r\n        { operators }\r\n        { drones }\r\n        { rotates }\r\n        { gadgets }\r\n        { utility }\r\n        { reinforcements }\r\n        { breaches }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PositionOverlay;\r\n","/* client/src/components/partials/Blueprint.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport PositionOverlay from \"./PositionOverlay.js\";\r\n\r\nconst BlueprintForm = (props) => {\r\n  const url = `../media/${props.map.replace(\" \", \"_\")}-${props.floor.toUpperCase().replace(\" \", \"_\")}.jpg`;\r\n  const style = {\r\n    backgroundImage: `url(${url})`,\r\n    backgroundPosition: \"center\",\r\n    backgroundSize: \"cover\"\r\n  }\r\n  return (\r\n    <div className=\"blueprint-form\" style={style}>\r\n      <PositionOverlay\r\n        operators={props.operators}\r\n        operatorPositions={props.operatorPositions}\r\n        gadgets={props.gadgets}\r\n        gadgetPositions={props.gadgetPositions}\r\n        utility={props.utility}\r\n        utilityPositions={props.utilityPositions}\r\n        drones={props.drones}\r\n        rotates={props.rotates}\r\n        reinforcements={props.reinforcements}\r\n        floorIndex={props.floorIndex}\r\n        breaches={props.breaches}\r\n        updateOperatorPositions={props.updateOperatorPositions}\r\n        updateGadgetPositions={props.updateGadgetPositions}\r\n        updateDronePositions={props.updateDronePositions}\r\n        updateUtilityPositions={props.updateUtilityPositions}\r\n        updateRotatePositions={props.updateRotatePositions}\r\n        updateReinforcementPositions={props.updateReinforcementPositions}\r\n        updateBreachPositions={props.updateBreachPositions}\r\n        type={props.type}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlueprintForm;\r\n","/* client/src/components/partials/Canvas.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport FloorSelector from \"./FloorSelector.js\";\r\nimport BlueprintForm from \"./BlueprintForm.js\";\r\n\r\nclass Canvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"canvas\">\r\n        <div className=\"canvas__controls\">\r\n          <FloorSelector onChange={this.props.updateFloor} floors={this.props.floors} floor={this.props.floor}/>\r\n        </div>\r\n        <BlueprintForm type={this.props.type}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          drones={this.props.drones}\r\n          rotates={this.props.rotates}\r\n          reinforcements={this.props.reinforcements}\r\n          map={this.props.map} site={this.props.site} floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          floor={this.props.floor}\r\n          updateOperatorPositions={this.props.updateOperatorPositions}\r\n          updateGadgetPositions={this.props.updateGadgetPositions}\r\n          updateDronePositions={this.props.updateDronePositions}\r\n          updateUtilityPositions={this.props.updateUtilityPositions}\r\n          updateRotatePositions={this.props.updateRotatePositions}\r\n          updateReinforcementPositions={this.props.updateReinforcementPositions}\r\n          updateBreachPositions={this.props.updateBreachPositions}/>\r\n        <div className=\"canvas__body\">\r\n          <h3>Objectives</h3>\r\n          <ul>\r\n            <li>DO first things first</li>\r\n            <li>Get wall open</li>\r\n            <li>Plan</li>\r\n          </ul>\r\n          <h3>Notes</h3>\r\n          <p></p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Canvas;\r\n","/* client/src/components/partials/Toolbar.js */\r\n\r\nimport React from \"react\";\r\nimport { ATTACKER_ROLES, ATTACKER_OPERATORS, DEFENDER_ROLES, DEFENDER_OPERATORS, UTILITY_GUIDE, UTILITY } from \"../../data.js\";\r\nconst attackRoles = ATTACKER_ROLES;\r\nconst defenderRoles = DEFENDER_ROLES;\r\nconst utility_guide = UTILITY;\r\n\r\nclass Lineup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    const roleOptions = (this.props.type === \"ATTACK\" ? (\r\n      attackRoles.map((option, index) => {\r\n        return <option key={index}>{option}</option>\r\n      })\r\n    ) : (\r\n      defenderRoles.map((option, index) => {\r\n        return <option key={index}>{option}</option>\r\n      })\r\n    ));\r\n    const roles = (this.props.type === \"ATTACK\" ? (\r\n      ATTACKER_ROLES\r\n    ) : (\r\n      DEFENDER_ROLES\r\n    ));\r\n    const operators = (this.props.type === \"ATTACK\" ? (\r\n      ATTACKER_OPERATORS\r\n    ) : (\r\n      DEFENDER_OPERATORS\r\n    ));\r\n\r\n    const lineup = this.props.roles.map((role, index) => {\r\n      const i = index;\r\n      const operatorOptions = (this.props.roles[index] !== \"ROLE\" ? (\r\n        operators[this.props.roles[index]].map((operator, index) => {\r\n          if (this.props.operators.indexOf(operator) < 0 || this.props.operators.indexOf(operator) === i) {\r\n            return <option key={index}>{operator.toUpperCase()}</option>\r\n          }\r\n        })\r\n      ) : \"\");\r\n      const utilityOptions = (this.props.type === \"ATTACK\" ? (\r\n        utility_guide.attack[this.props.operators[index]].map((gadget, index) => {\r\n          return <option key={index}>{gadget}</option>\r\n        })\r\n      ) : (\r\n        utility_guide.defense[this.props.operators[index]].map((gadget, index) => {\r\n          return <option key={index}>{gadget}</option>\r\n        })\r\n      ));\r\n        return (\r\n          <div className={\"role\" + (this.props.activeOperator === index ? \" role--active\" : \"\")} key={index}>\r\n            <div className=\"role__head\">\r\n              { this.props.activeOperator === index ? (\r\n                <div>\r\n                  <select className=\"form__select\" onChange={(e) => { this.props.updateRoles(e, index) }} value={this.props.roles[index]}>\r\n                    { roleOptions }\r\n                  </select>\r\n                  <select className=\"form__select\" onChange={(e) => { this.props.updateOperators(e, index) }} value={this.props.operators[index]} disabled={this.props.roles[index] === \"ROLE\"}>\r\n                    <option>OPERATOR</option>\r\n                    { operatorOptions }\r\n                  </select>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <p className=\"role__role\">Role: {this.props.roles[index]}</p>\r\n                  <p className=\"role__utility\">Utility: {this.props.utility[index]}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"role__image\" onClick={() => { this.props.selectOperator(index) }}>\r\n              <img className=\"role__image\" src={`../media/${this.props.operators[index]}.jpg`}/>\r\n            </div>\r\n            { this.props.activeOperator === index ? (\r\n              <div className=\"role__body\">\r\n                <div className=\"role__operator\">\r\n                  <button className=\"insert\" onClick={() => { this.props.insertOperator(this.props.activeOperator) }}>Insert Op</button>\r\n                  <button className=\"remove\" onClick={() => { this.props.removeOperator(this.props.activeOperator) }}>Remove Op</button>\r\n                </div>\r\n                <div className=\"role__gadget\">\r\n                  <p>{this.props.gadgets[index].gadget}</p>\r\n                  <div className=\"button-container\">\r\n                    <button className=\"insert\" onClick={() => { this.props.insertGadget(this.props.activeOperator) }}>+</button>\r\n                    <button className=\"remove\" onClick={() => { this.props.removeGadget(this.props.activeOperator) }}>-</button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"role__utility\">\r\n                  <select className=\"form__select\" onChange={(e) => { this.props.updateUtility(e, index) }} value={this.props.utility[index]}>\r\n                    <option>UTILITY</option>\r\n                    { utilityOptions }\r\n                  </select>\r\n                  <div className=\"button-container\">\r\n                    <button className=\"insert\" onClick={() => { this.props.insertUtility(this.props.activeOperator) }}>+</button>\r\n                    <button className=\"remove\" onClick={() => { this.props.removeUtility(this.props.activeOperator) }}>-</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : \"\"}\r\n          </div>\r\n        )\r\n    })\r\n    return (\r\n      <div className=\"lineup\">\r\n        <h3>Lineup</h3>\r\n        { lineup }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Lineup;\r\n","/* client/components/api/CreateStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport MapSelector from \"../partials/MapSelector.js\";\r\nimport Toolbar from \"../partials/Toolbar.js\";\r\nimport Sidebar from \"../partials/Sidebar.js\";\r\nimport Canvas from \"../partials/Canvas.js\";\r\nimport Lineup from \"../partials/Lineup.js\";\r\n\r\n// LEGACY\r\n/*\r\nimport SiteSelector from \"../partials/SiteSelector.js\";\r\nimport TypeSelector from \"../partials/TypeSelector.js\";\r\nimport Pagination from \"../partials/Pagination.js\";\r\nimport LineupForm from \"../partials/LineupForm.js\";\r\nimport BlueprintForm from \"../partials/BlueprintForm.js\";\r\nimport FloorSelector from \"../partials/FloorSelector.js\";\r\nimport OLD_Toolbar from \"../partials/OLD_Toolbar.js\";*/\r\n\r\nimport { MAP_NAMES, SITES, FLOORS, GADGETS, UTILITY_GUIDE } from \"../../data.js\";\r\n\r\n/*\r\n  @func: CreateStrategiesAPI\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass CreateStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectMap = this.selectMap.bind(this);\r\n    this.showMaps = this.showMaps.bind(this);\r\n    this.selectSite = this.selectSite.bind(this);\r\n    this.updateType = this.updateType.bind(this);\r\n    this.updateRoles = this.updateRoles.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.updateFloor = this.updateFloor.bind(this);\r\n    this.save = this.save.bind(this);\r\n\r\n    // Strategies\r\n    this.addStrategy = this.addStrategy.bind(this);\r\n    this.removeStrategy = this.removeStrategy.bind(this);\r\n    this.selectStrategy = this.selectStrategy.bind(this);\r\n\r\n    // Scenes\r\n    this.selectScene = this.selectScene.bind(this);\r\n    this.addScene = this.addScene.bind(this);\r\n    this.removeScene = this.removeScene.bind(this);\r\n    this.updateSceneName = this.updateSceneName.bind(this);\r\n\r\n    // Operators\r\n    this.updateOperators = this.updateOperators.bind(this);\r\n    this.updateOperatorPositions = this.updateOperatorPositions.bind(this);\r\n    this.selectOperator = this.selectOperator.bind(this);\r\n    this.insertOperator = this.insertOperator.bind(this);\r\n    this.removeOperator = this.removeOperator.bind(this);\r\n\r\n    // Drones\r\n    this.updateDronePositions = this.updateDronePositions.bind(this);\r\n    this.insertDrone = this.insertDrone.bind(this);\r\n    this.removeDrone = this.removeDrone.bind(this);\r\n\r\n    // Gadgets\r\n    this.updateGadgetPositions = this.updateGadgetPositions.bind(this);\r\n    this.insertGadget = this.insertGadget.bind(this);\r\n    this.removeGadget = this.removeGadget.bind(this);\r\n\r\n    // Utility\r\n    this.updateUtility = this.updateUtility.bind(this);\r\n    this.updateUtilityPositions = this.updateUtilityPositions.bind(this);\r\n    this.insertUtility = this.insertUtility.bind(this);\r\n    this.removeUtility = this.removeUtility.bind(this);\r\n\r\n    // Rotates\r\n    this.updateRotatePositions = this.updateRotatePositions.bind(this);\r\n    this.insertRotate = this.insertRotate.bind(this);\r\n    this.removeRotate = this.removeRotate.bind(this);\r\n\r\n    // Reinforcements\r\n    this.updateReinforcementPositions = this.updateReinforcementPositions.bind(this);\r\n    this.insertReinforcement = this.insertReinforcement.bind(this);\r\n    this.removeReinforcement = this.removeReinforcement.bind(this);\r\n\r\n    // Breaches\r\n    this.updateBreachPositions = this.updateBreachPositions.bind(this);\r\n    this.insertBreach = this.insertBreach.bind(this);\r\n    this.removeBreach = this.removeBreach.bind(this);\r\n\r\n    this.state = {\r\n      activeOperator: 0,\r\n      showMaps: true\r\n    }\r\n  }\r\n  selectMap(name) {\r\n    if (MAP_NAMES.indexOf(name) >= 0) {\r\n      let map = {\r\n        name: name,\r\n        attack: []\r\n      };\r\n      let attackStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"]\r\n      };\r\n      SITES[name].map((site) => {\r\n        attackStrategy[site] = [\r\n          {\r\n            objectives: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            breaches: [],\r\n            operatorPositions: [{x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}],\r\n            drones: [],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      });\r\n      map.attack.push(attackStrategy);\r\n      let defenseStrategy = {};\r\n      SITES[name].map((site) => {\r\n        defenseStrategy[site] = [\r\n          {\r\n            name: \"Unnamed\",\r\n            roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n            operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n            utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n            gadgets: [\"\", \"\", \"\", \"\", \"\"],\r\n            reinforcements: [],\r\n            rotates: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            scenes: [\r\n              {\r\n                objectives: [],\r\n                operatorPositions: [{x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}],\r\n                notes: \"\",\r\n                name: \"Unnamed\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      });\r\n      map.defense = defenseStrategy;\r\n      this.setState({\r\n        showMaps: false,\r\n        map: map,\r\n        sites: SITES[map.name],\r\n        site: SITES[map.name][0],\r\n        siteIndex: 0,\r\n        strategyIndex: 0,\r\n        strategies: map.attack,\r\n        sceneIndex: 0,\r\n        scenes: map.attack[0][SITES[map.name][0]],\r\n        floors: FLOORS[map.name],\r\n        floorIndex: 0,\r\n        type: \"ATTACK\",\r\n      });\r\n    }\r\n  }\r\n  showMaps() {\r\n    this.setState({\r\n      showMaps: true\r\n    });\r\n  }\r\n  selectSite(index) {\r\n    this.setState({\r\n      site: this.state.sites[index],\r\n      siteIndex: index,\r\n      sceneIndex: 0,\r\n      scenes: (this.state.type === \"ATTACK\" ? this.state.map.attack[this.state.strategyIndex][this.state.sites[index]] : this.state.map.defense[this.state.sites[index]][this.state.strategyIndex].scenes),\r\n      strategyIndex: 0,\r\n      strategies: (this.state.type === \"ATTACK\" ? this.state.strategies : this.state.map.defense[this.state.sites[index]])\r\n    });\r\n  }\r\n  updateType(type) {\r\n    if (type === \"ATTACK\") {\r\n      this.setState({\r\n        type: \"ATTACK\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.attack,\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.attack[0][this.state.sites[0]],\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    } else {\r\n      this.setState({\r\n        type: \"DEFENSE\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.defense[this.state.sites[0]],\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.defense[this.state.sites[0]][0].scenes,\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    }\r\n  }\r\n  updateRoles(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].roles[index] = e.target.value;\r\n      map.attack[this.state.strategyIndex].operators[index] = \"OPERATOR\";\r\n      map.attack[this.state.strategyIndex].gadgets[index] = \"\";\r\n      map.attack[this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].roles[index] = e.target.value;\r\n      map.defense[this.state.site][this.state.strategyIndex].operators[index] = \"OPERATOR\";\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgets[index] = \"\";\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateName(name) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].name = name;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].name = name;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateFloor(e) {\r\n    this.setState({\r\n      floorIndex: this.state.floors.indexOf(e.target.value)\r\n    });\r\n  }\r\n  selectOperator(index) {\r\n    this.setState({\r\n      activeOperator: index\r\n    });\r\n  }\r\n  save() {\r\n    console.log(\"saved\");\r\n  }\r\n\r\n  // Strategies\r\n  addStrategy() {\r\n    let map = this.state.map;\r\n    let newStrategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      let attackStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"]\r\n      };\r\n      SITES[this.state.map.name].map((site) => {\r\n        attackStrategy[site] = [\r\n          {\r\n            objectives: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            breaches: [],\r\n            operatorPositions: [{x: 0, y: 0, floor: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}],\r\n            drones: [],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      });\r\n      map.attack.push(attackStrategy);\r\n      newStrategies = map.attack;\r\n    } else {\r\n      let defenseStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"],\r\n        reinforcements: [],\r\n        rotates: [],\r\n        utilityPositions: [[], [], [], [], []],\r\n        gadgetPositions: [[], [], [], [], []],\r\n        scenes: [\r\n          {\r\n            objectives: [],\r\n            operatorPositions: [{x: null, y: null}, {x: null, y: null}, {x: null, y: null}, {x: null, y: null}, {x: null, y: null}],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      };\r\n      map.defense[this.state.sites[this.state.siteIndex]].push(defenseStrategy);\r\n      newStrategies = map.defense[this.state.sites[this.state.siteIndex]];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      strategies: newStrategies,\r\n      strategyIndex: this.state.strategyIndex + 1\r\n    });\r\n  }\r\n  removeStrategy() {\r\n    if (this.state.strategies.length !== 1) {\r\n      let newStrategies = [...this.state.strategies];\r\n      newStrategies.splice(this.state.strategyIndex, 1);\r\n      let map = this.state.map;\r\n      if (this.state.type === \"ATTACK\") {\r\n        map.attack = newStrategies;\r\n      } else {\r\n        map.defense[this.state.sites[this.state.siteIndex]] = newStrategies;\r\n      }\r\n      this.setState({\r\n        map: map,\r\n        strategyIndex: (this.state.strategyIndex - 1 >= 0 ? this.state.strategyIndex - 1 : 0),\r\n        strategies: newStrategies,\r\n      });\r\n    }\r\n  }\r\n  selectStrategy(index) {\r\n    this.setState({\r\n      strategyIndex: index\r\n    });\r\n  }\r\n\r\n  // Scenes\r\n  addScene() {\r\n    let scenes;\r\n    let map = this.state.map;\r\n    let name = \"Unnamed\";\r\n    if (this.state.type === \"ATTACK\") {\r\n      scenes = [...map.attack[this.state.strategyIndex][this.state.site]];\r\n      let newScene = JSON.parse(JSON.stringify(scenes[scenes.length - 1]));\r\n      newScene.notes = \"\";\r\n      newScene.name = name;\r\n      newScene.objectives = [];\r\n      scenes.push(newScene);\r\n      map.attack[this.state.strategyIndex][this.state.site] = scenes;\r\n    } else {\r\n      scenes = [...map.defense[this.state.site][this.state.strategyIndex].scenes];\r\n      let newScene = JSON.parse(JSON.stringify(scenes[scenes.length - 1]));\r\n      newScene.notes = \"\";\r\n      newScene.objectives = [];\r\n      newScene.name = name;\r\n      scenes.push(newScene);\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes = scenes;\r\n    }\r\n    this.setState({\r\n      scenes: scenes,\r\n      map: map,\r\n      sceneIndex: this.state.sceneIndex + 1\r\n    });\r\n  }\r\n  removeScene() {\r\n    if (this.state.sceneIndex - 1 >= 0) {\r\n      let scenes;\r\n      let map = this.state.map;\r\n      if (this.state.type === \"ATTACK\") {\r\n        scenes = [...map.attack[this.state.strategyIndex][this.state.site]];\r\n        scenes.splice(this.state.sceneIndex, 1);\r\n        map.attack[this.state.strategyIndex][this.state.site] = scenes;\r\n      } else {\r\n        scenes = [...map.defense[this.state.site][this.state.strategyIndex].scenes];\r\n        scenes.splice(this.state.sceneIndex, 1);\r\n        map.defense[this.state.site][this.state.strategyIndex].scenes = scenes;\r\n      }\r\n      this.setState({\r\n        scenes: scenes,\r\n        map: map,\r\n        sceneIndex: this.state.sceneIndex - 1\r\n      });\r\n    }\r\n  }\r\n  selectScene(index) {\r\n    this.setState({\r\n      sceneIndex: index\r\n    });\r\n  }\r\n  updateSceneName(name, index) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][index].name = name;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[index].name = name;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Operators\r\n  insertOperator(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].floor = this.state.floorIndex;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].floor = this.state.floorIndex;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeOperator(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].floor = undefined;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].floor = undefined;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateOperators(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].operators[index] = e.target.value;\r\n      map.attack[this.state.strategyIndex].gadgets[index] = GADGETS[e.target.value];\r\n      map.attack[this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].operators[index] = e.target.value;\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgets[index] = GADGETS[e.target.value];\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateOperatorPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Drones\r\n  insertDrone() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.length + 1 <= 10) {\r\n      let drone = {\r\n        x: 0,\r\n        y: 0,\r\n        floor: this.state.floorIndex\r\n      };\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.push(drone);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeDrone() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.length - 1 >= 0) {\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.pop();\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  updateDronePositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones = positions;\r\n    scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n    strategies = map.attack;\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Gadgets\r\n  insertGadget(index) {\r\n    let map = this.state.map;\r\n    let gadget = {\r\n      x: 0,\r\n      y: 0,\r\n      floor: this.state.floorIndex\r\n    };\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions[index].push(gadget);\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions[index].push(gadget);\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeGadget(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions[index].pop();\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions[index].pop();\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateGadgetPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Utility\r\n  updateUtility(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].utility[index] = e.target.value;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = e.target.value;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateUtilityPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertUtility(index) {\r\n    let map = this.state.map;\r\n    let utility = {\r\n      x: 0,\r\n      y: 0,\r\n      floor: this.state.floorIndex\r\n    };\r\n    if (this.state.type === \"ATTACK\") {\r\n      if (map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].length + 1 <= UTILITY_GUIDE[map.attack[this.state.strategyIndex].utility[index]]) {\r\n        map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].push(utility);\r\n      }\r\n    } else {\r\n      if (map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].length + 1 <= UTILITY_GUIDE[map.defense[this.state.site][this.state.strategyIndex].utility[index]]) {\r\n        map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].push(utility);\r\n      }\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeUtility(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].pop();\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].pop();\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Rotates\r\n  updateRotatePositions(positions) {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates = positions;\r\n    strategies = map.defense[this.state.site];\r\n    this.setState({\r\n      map: map,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertRotate() {\r\n    let map = this.state.map;\r\n    let rotate = {\r\n      x: 0,\r\n      y: 0,\r\n      floor: this.state.floorIndex\r\n    };\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates.push(rotate);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeRotate() {\r\n    let map = this.state.map;\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates.pop();\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Reinforcements\r\n  updateReinforcementPositions(positions) {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    map.defense[this.state.site][this.state.strategyIndex].reinforcements = positions;\r\n    strategies = map.defense[this.state.site];\r\n    this.setState({\r\n      map: map,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertReinforcement() {\r\n    let map = this.state.map;\r\n    let reinforcement = {\r\n      x: 0,\r\n      y: 0,\r\n      floor: this.state.floorIndex\r\n    };\r\n    map.defense[this.state.site][this.state.strategyIndex].reinforcements.push(reinforcement);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeReinforcement() {\r\n    let map = this.state.map;\r\n    map.defense[this.state.site][this.state.strategyIndex].reinforcements.pop();\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Breaches\r\n  updateBreachPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches = positions;\r\n    scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n    strategies = map.attack;\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertBreach() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.length + 1 <= 10) {\r\n      let breach = {\r\n        x: 0,\r\n        y: 0,\r\n        floor: this.state.floorIndex\r\n      };\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.push(breach);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeBreach() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.length - 1 >= 0) {\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.pop();\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      <div id=\"CreateStrategiesAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div className=\"add-map\">\r\n            { this.state.showMaps ? (\r\n              <MapSelector selectMap={this.selectMap} maps={this.props.maps}/>\r\n            ) : (\r\n              <div className=\"add-map__ui\">\r\n                <Toolbar\r\n                  showMaps={this.showMaps}\r\n                  map={this.state.map}\r\n                  strategies={this.state.strategies}\r\n                  strategyIndex={this.state.strategyIndex}\r\n                  selectStrategy={this.selectStrategy}\r\n                  type={this.state.type}\r\n                  updateType={this.updateType}\r\n                  siteIndex={this.state.siteIndex}\r\n                  sites={this.state.sites}\r\n                  selectSite={this.selectSite}\r\n                  addStrategy={this.addStrategy}\r\n                  removeStrategy={this.removeStrategy}\r\n                  strategy={this.state.type === \"ATTACK\" ? (\r\n                    this.state.map.attack[this.state.strategyIndex].name\r\n                  ): (\r\n                    this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n                  )}\r\n                  updateStrategyName={this.updateName}\r\n                  drones={this.state.type === \"ATTACK\" ? (\r\n                    this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones) : undefined}\r\n                  insertDrone={this.insertDrone}\r\n                  removeDrone={this.removeDrone}\r\n                  rotates={this.state.type === \"ATTACK\"? (\r\n                    undefined\r\n                  ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n                  insertRotate={this.insertRotate}\r\n                  removeRotate={this.removeRotate}\r\n                  reinforcements={this.state.type === \"ATTACK\" ? (\r\n                    undefined\r\n                  ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n                  insertReinforcement={this.insertReinforcement}\r\n                  removeReinforcement={this.removeReinforcement}\r\n                  breaches={(this.state.type === \"ATTACK\" ? (\r\n                    this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n                  ) : undefined)}\r\n                  insertBreach={this.insertBreach}\r\n                  removeBreach={this.removeBreach}\r\n                  alert={this.props.alert} save={this.save}/>\r\n                <main>\r\n                  <Sidebar\r\n                    map={this.state.map.name}\r\n                    strategy={this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].name\r\n                    ): (\r\n                      this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n                    )}\r\n                    strategies={this.state.strategies}\r\n                    selectStrategy={this.selectStrategy}\r\n                    strategyIndex={this.state.strategyIndex}\r\n                    sites={this.state.sites}\r\n                    selectSite={this.selectSite}\r\n                    siteIndex={this.state.siteIndex}\r\n                    scenes={this.state.scenes}\r\n                    selectScene={this.selectScene}\r\n                    sceneIndex={this.state.sceneIndex}\r\n                    addScene={this.addScene}\r\n                    removeScene={this.removeScene}\r\n                    updateSceneName={this.updateSceneName}\r\n                    type={this.state.type}/>\r\n                  <Canvas\r\n                    type={this.state.type}\r\n                    operators={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].operators\r\n                    ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n                    operatorPositions={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions) : (\r\n                      this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions\r\n                    ))}\r\n                    gadgets={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].gadgets\r\n                    ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n                    gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n                      this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n                    ))}\r\n                    utility={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].utility\r\n                    ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n                    utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n                      this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n                    ))}\r\n                    drones={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones\r\n                    ) : undefined)}\r\n                    rotates={(this.state.type === \"ATTACK\" ? (\r\n                      undefined\r\n                    ) : this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n                    reinforcements={(this.state.type === \"ATTACK\" ? (\r\n                      undefined\r\n                    ) : this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n                    map={this.state.map.name} site={this.state.site} floorIndex={this.state.floorIndex}\r\n                    breaches={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n                    ) : undefined)}\r\n                    floor={this.state.floors[this.state.floorIndex]}\r\n                    updateOperatorPositions={this.updateOperatorPositions}\r\n                    updateGadgetPositions={this.updateGadgetPositions}\r\n                    updateDronePositions={this.updateDronePositions}\r\n                    updateUtilityPositions={this.updateUtilityPositions}\r\n                    updateRotatePositions={this.updateRotatePositions}\r\n                    updateReinforcementPositions={this.updateReinforcementPositions}\r\n                    updateBreachPositions={this.updateBreachPositions}\r\n                    updateFloor={this.updateFloor}\r\n                    floors={this.state.floors}\r\n                    />\r\n                  <Lineup\r\n                    type={this.state.type}\r\n                    roles={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].roles\r\n                    ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].roles ))}\r\n                    operators={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].operators\r\n                    ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n                    utility={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].utility\r\n                    ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n                    updateRoles={this.updateRoles} updateOperators={this.updateOperators} updateUtility={this.updateUtility}\r\n                    selectOperator={this.selectOperator} activeOperator={this.state.activeOperator}\r\n                    insertOperator={this.insertOperator} removeOperator={this.removeOperator}\r\n                    insertUtility={this.insertUtility} removeUtility={this.removeUtility}\r\n                    insertGadget={this.insertGadget} removeGadget={this.removeGadget}\r\n                    gadgets={(this.state.type === \"ATTACK\" ? (\r\n                      this.state.map.attack[this.state.strategyIndex].gadgets\r\n                    ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}/>\r\n                </main>\r\n\r\n\r\n                {/*\r\n                <div className=\"add-map__header\">\r\n                  <div>\r\n                    <Pagination index={this.state.strategyIndex} title=\"Strategy\"\r\n                      decrement={this.decrementStrategy} increment={this.incrementStrategy}/>\r\n                    <div className=\"add-map__strategy-buttons\">\r\n                      <button onClick={this.addStrategy} className=\"add-map__strategy-button\">Add Strategy</button>\r\n                      <button onClick={this.removeStrategy} className=\"add-map__strategy-button\">Remove Strategy</button>\r\n                    </div>\r\n                    <input onChange={this.updateName} className=\"add-map__name-input\" type=\"text\"\r\n                      value={(this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex].name\r\n                      ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].name))}\r\n                      placeholder=\"Strategy Name\"/>\r\n                  </div>\r\n                </div>\r\n                <div className=\"add-map__body\">\r\n                  <aside className=\"aside\">\r\n                    <OLD_Toolbar type={this.state.type}\r\n                      operators={(this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex].operators\r\n                      ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n                      insertOperator={this.insertOperator} removeOperator={this.removeOperator}\r\n                      utility={(this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex].utility\r\n                      ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n                      insertUtility={this.insertUtility}\r\n                      removeUtility={this.removeUtility}\r\n                      utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n                        this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n                      ))}\r\n                      gadgets={(this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex].gadgets\r\n                      ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n                      gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n                        this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n                      ))}\r\n                      insertGadget={this.insertGadget}\r\n                      removeGadget={this.removeGadget}\r\n                      drones={this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones) : undefined}\r\n                      insertDrone={this.insertDrone}\r\n                      removeDrone={this.removeDrone}\r\n                      rotates={this.state.type === \"ATTACK\"? (\r\n                        undefined\r\n                      ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n                      insertRotate={this.insertRotate}\r\n                      removeRotate={this.removeRotate}\r\n                      reinforcements={this.state.type === \"ATTACK\" ? (\r\n                        undefined\r\n                      ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n                      insertReinforcement={this.insertReinforcement}\r\n                      removeReinforcement={this.removeReinforcement}\r\n                      breaches={(this.state.type === \"ATTACK\" ? (\r\n                        this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n                      ) : undefined)}\r\n                      insertBreach={this.insertBreach}\r\n                      removeBreach={this.removeBreach}\r\n                      activeOperator={this.state.activeOperator}/>\r\n                  </aside>\r\n                </div>\r\n                OBJECTIVES\r\n                NOTES\r\n                */}\r\n              </div>\r\n\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateStrategiesAPI;\r\n","/* client/src/components/api/EditStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport CreateStrategiesAPI from \"./CreateStrategiesAPI\";\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst MAP_NAMES = [\"BANK\", \"BORDER\", \"CHALET\", \"CLUBHOUSE\", \"COASTLINE\", \"CONSULATE\", \"KAFE DOSTOYEVSKY\", \"KANAL\", \"OREGON\", \"OUTBACK\", \"THEME PARK\", \"VILLA\"];\r\nclass EditStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.addMap = this.addMap.bind(this);\r\n    this.fetchStrategies = this.fetchStrategies.bind(this);\r\n\r\n\r\n    this.updateStrategy = this.updateStrategy.bind(this);\r\n    this.deleteStrategy = this.deleteStrategy.bind(this);\r\n    this.selectStrategy = this.selectStrategy.bind(this);\r\n    this.exitStrategy = this.exitStrategy.bind(this);\r\n    this.onSearchChange = this.onSearchChange.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.removeObjective = this.removeObjective.bind(this);\r\n    this.getComponent = this.getComponent.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n\r\n    this.state = {\r\n      strategies: [],\r\n      index: 0,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      listView: true,\r\n      add: false,\r\n      name: \"\",\r\n      type: \"ATTACK\",\r\n      newObjective: \"\",\r\n      objectives: [],\r\n      execution: \"\",\r\n      roles: [\"ANY\", \"ANY\", \"ANY\", \"ANY\", \"ANY\"],\r\n      operators: [\"\", \"\", \"\" , \"\", \"\"],\r\n      utility: [\"ANY\", \"ANY\", \"ANY\", \"ANY\", \"ANY\"],\r\n      errors: {},\r\n    }\r\n  }\r\n  addMap() {\r\n    this.setState({\r\n      add: true\r\n    });\r\n  }\r\n  /*\r\n    @func fetchStrategies\r\n    @desc get strategies from server\r\n  */\r\n  fetchStrategies() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/strategies/view\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case \"STRATEGIES_FOUND\":\r\n          const maps = Object.keys(response.data.strategies).filter((map) => MAP_NAMES.indexOf(map) >= 0);\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            strategies: response.data.strategies,\r\n            maps: maps\r\n          });\r\n          break;\r\n          default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get strategies.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStrategies();\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /*\r\n    @func selectStrategy\r\n    @desc choose a strategy\r\n  */\r\n  selectStrategy(index) {\r\n\r\n  }\r\n  /*\r\n    @func exitStrategy\r\n    @desc go back to list view\r\n  */\r\n  exitStrategy() {\r\n    this.setState({\r\n      listView: true\r\n    })\r\n  }\r\n  /*\r\n\r\n  */\r\n  onSearchChange(e) {\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n  }\r\n\r\n  /*\r\n    @func: updateStrategy\r\n    @desc: update strategy\r\n  */\r\n  updateStrategy() {\r\n\r\n  }\r\n  /*\r\n    @func: deleteStrategy\r\n    @desc: delete a strategy\r\n    @pararm index: Int\r\n  */\r\n  deleteStrategy(index) {\r\n    if (window.confirm(\"Please confirm that you would like to delete this strategy. This cannot be undone.\")) {\r\n      const component = this;\r\n      this.setState({\r\n        errors: {},\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/strategies/delete\", {\r\n        index: index\r\n      }).then((response) => {\r\n        switch (response.data.status) {\r\n          case \"STRATEGY_DELETED\":\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"Your strategy has been deleted.\", \"SUCCESS\");\r\n            component.fetchStrategies();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n              errors: response.data.errors\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            component.props.fetchStrategies();\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.props.alert(\"An error has occurred while attempting to delete strategy.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of strategy field\r\n    @param e: Object.Event\r\n    @param index: Int\r\n  */\r\n  onChange(e, index) {\r\n    if (e.target.id !== \"objectives\") {\r\n      if (e.target.id.includes(\"attacker-role\") || e.target.id.includes(\"defender-role\")) {\r\n        let newRoles = [...this.state.roles];\r\n        let newOperators = [...this.state.operators];\r\n        let newUtility = [...this.state.utility];\r\n        newRoles[index] = e.target.value;\r\n        newOperators[index] = \"\";\r\n        newUtility[index] = \"ANY\";\r\n        this.setState({\r\n          roles: newRoles,\r\n          operators: newOperators,\r\n          utility: newUtility\r\n        });\r\n      } else if (e.target.id.includes(\"attacker-form\") || e.target.id.includes(\"defender-form\")) {\r\n        let newOperators = [...this.state.operators];\r\n        newOperators[index] = e.target.value;\r\n        this.setState({\r\n          operators: newOperators\r\n        });\r\n      } else if (e.target.id.includes(\"type\")) {\r\n        this.setState({\r\n          [e.target.id]: e.target.value,\r\n          roles: [\"ANY\", \"ANY\", \"ANY\", \"ANY\", \"ANY\"],\r\n          operators: [\"\", \"\", \"\", \"\", \"\"]\r\n        });\r\n      } else if (e.target.id.includes(\"utility-form\")) {\r\n        let newUtility = [...this.state.utility];\r\n        newUtility[index] = e.target.value;\r\n        this.setState({\r\n          utility: newUtility\r\n        });\r\n      } else {\r\n        this.setState({\r\n          [e.target.id]: e.target.value\r\n        });\r\n      }\r\n    }\r\n  }\r\n  /*\r\n    @func onKeyPress\r\n    @desc: check to see if a user hit enter to create a new li\r\n    @param e: Object.Event\r\n    @param component: React.Component\r\n  */\r\n  onKeyPress(e, component) {\r\n    if (e.key === \"Enter\") {\r\n      let newObjectives = [...component.state.objectives];\r\n      newObjectives.push(component.state.newObjective);\r\n      setTimeout(() => {\r\n        component.setState({\r\n          objectives: newObjectives,\r\n          newObjective: \"\"\r\n        });\r\n      }, 100);\r\n    }\r\n  }\r\n  /*\r\n    @func: getComponent\r\n    @desc: return access to root component\r\n  */\r\n  getComponent() {\r\n    return this;\r\n  }\r\n  /*\r\n    @func: removeObjective\r\n    @desc: update objective list\r\n    @param index: index of item to be removed\r\n  */\r\n  removeObjective(index) {\r\n    let newObjectives = [...this.state.objectives];\r\n    newObjectives.splice(index, 1);\r\n    this.setState({\r\n      objectives: newObjectives\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e, index) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/strategies/update\", {\r\n      index: index,\r\n      strategy: {\r\n        name: component.state.name,\r\n        type: component.state.type,\r\n        objectives: component.state.objectives,\r\n        roles: component.state.roles,\r\n        utility: component.state.utility,\r\n        operators: component.state.operators,\r\n        execution: component.state.execution\r\n      }\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"STRATEGY_UPDATED\":\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your strategy has been updated.\", \"SUCCESS\");\r\n          component.fetchStrategies();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          component.fetchStrategies();\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to update strategy.\", \"ERROR\");\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n    let contents;\r\n    if (this.state.loading) {\r\n      contents = \"\";\r\n    } else if (this.state.add) {\r\n      contents = <CreateStrategiesAPI getAuthToken={this.props.getAuthToken} alert={this.props.alert} fetchStrategies={this.fetchStrategies} maps={this.state.maps}/>\r\n    } else {\r\n      if (this.state.maps && this.state.maps.length > 0) {\r\n\r\n      } else {\r\n        contents = <p>Your team does not currently have any strategies.</p>\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"EditStrategiesAPI\">\r\n        { this.state.loading ? <LoadingModal message=\"Fetching Strategies\"/> : (\r\n          <div>\r\n            { this.state.maps ? (\r\n              <div>\r\n                { this.state.add ? \"\" : (\r\n                  <div className=\"edit-buttons\">\r\n                    <Link className=\"button\" to=\"/strategies\">Back to view</Link>\r\n                    <button className=\"button\" onClick={this.addMap}>Add Map</button>\r\n                  </div>\r\n                )}\r\n                { contents }\r\n              </div>\r\n            ) : (\r\n              <ErrorLoading/>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditStrategiesAPI;\r\n","/* client/src/components/pages/EditStrategies.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport EditStrategiesAPI from \"../api/EditStrategiesAPI.js\";\r\n\r\n/*\r\n  @func: EditStrategies\r\n  @desc: render manage team page\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst EditStrategies = (props) => {\r\n  return (\r\n    <div id=\"edit-strategies\">\r\n      <EditStrategiesAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditStrategies;\r\n","/* client/components/pages/NotFound.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: NotFound\r\n  @desc: render 404 page\r\n*/\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"page\" id=\"not-found\">\r\n      The route you requested could not be found.\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFound;\r\n","/* client/components/partials/ForgotPasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: ForgotPasswordForm\r\n  @desc: render ForgotPassword form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst ForgotPasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"ForgotPassword-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Forgot Password</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email associated with account</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Send Reset Link</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ForgotPasswordForm;\r\n","/* client/components/api/ForgotPasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nimport ForgotPasswordForm from \"../partials/ForgotPasswordForm.js\";\r\n\r\n/*\r\n  @func: ForgotPasswordAPI\r\n  @desc: manage state of ForgotPassword form and ForgotPassword requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass ForgotPasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.patch(\"/api/users/forgot-password\", {\r\n      email: this.state.email\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"PASSWORD_RESET_LINK_SENT\":\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to send reset link.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"ForgotPasswordAPI\">\r\n          <ForgotPasswordForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ForgotPasswordAPI;\r\n","/* client/src/components/pages/ForgotPassword.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ForgotPasswordAPI from \"../api/ForgotPasswordAPI.js\";\r\n\r\n/*\r\n  @func: Forgot password\r\n  @desc: render forgot password\r\n  @prop alert: function\r\n*/\r\nconst ForgotPassword = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"forgot-password\">\r\n      <ForgotPasswordAPI alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword;\r\n","/* client/components/partials/ResetPasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: ResetPasswordForm\r\n  @desc: render ResetPassword form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop email: String\r\n  @prop password1: String\r\n  @prop password2: String\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst ResetPasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"ResetPassword-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Reset Password</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Reset Password</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ResetPasswordForm;\r\n","/* client/components/api/ResetPasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nimport ResetPasswordForm from \"../partials/ResetPasswordForm.js\";\r\n\r\n/*\r\n  @func: ResetPasswordAPI\r\n  @desc: manage state of ResetPassword form and ResetPassword requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass ResetPasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      password1: \"\",\r\n      password2: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.patch(\"/api/users/reset-password\", {\r\n      password1: this.state.password1,\r\n      password2: this.state.password2,\r\n      token: this.props.token\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case \"PASSWORD_RESET\":\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(\"An error has occurred while attempting to reset password.\", \"ERROR\");\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"ResetPasswordAPI\">\r\n          <ResetPasswordForm onSubmit={this.onSubmit} onChange={this.onChange} password={this.state.password} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ResetPasswordAPI;\r\n","/* client/src/components/pages/ResetPassword.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ResetPasswordAPI from \"../api/ResetPasswordAPI.js\";\r\nimport { useParams } from \"react-router\";\r\n\r\n/*\r\n  @func: Reset password\r\n  @desc: render Reset password\r\n  @prop alert: function\r\n*/\r\nconst ResetPassword = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"Reset-password\">\r\n      <ResetPasswordAPI alert={props.alert} token={props.match.params.token}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPassword;\r\n","/* client/components/partials/UserDropdown.js */\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: UserDropdown\r\n  @desc: render user dropdown in navigation bar\r\n  @prop username: String\r\n*/\r\nclass UserDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleDropdown = this.toggleDropdown.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggleDropdown() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={\"user-dropdown \" + (this.state.active ? \"user-dropdown--active\" : \"user-dropdown--inactive\")}>\r\n        <img className=\"user-dropdown__icon\" onClick={this.toggleDropdown} alt=\"User Icon\" src=\"../media/User Icon.png\"/>\r\n        <div className=\"user-dropdown__body\">\r\n          <span id=\"user-dropdown-title\">{this.props.username}</span>\r\n          <Link onClick={() => { this.toggleDropdown(); this.props.toggleMenu(); }} className=\"user-dropdown__link\" to=\"/user\">Account</Link>\r\n          <Link onClick={() => { this.toggleDropdown(); this.props.toggleMenu(); }} className=\"user-dropdown__link\" to=\"/logout\" id=\"logout-link\">Logout</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserDropdown;\r\n","/* client/components/partials/Navigation.js */\r\n\r\nimport React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport UserDropdown from \"./UserDropdown.js\";\r\n\r\n/*\r\n  @func: Navigation\r\n  @desc: render dynamic navigation bar\r\n  @prop loggedIn: Boolean\r\n*/\r\nclass Navigation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n\r\n    this.state = {\r\n      first: true,\r\n      active: false,\r\n      loggedIn: this.props.loggedIn\r\n    };\r\n  }\r\n  /*\r\n    @func: toggleMenu\r\n    @desc: toggle state of menu\r\n  */\r\n  toggleMenu() {\r\n    this.setState({\r\n      first: false,\r\n      active: !this.state.active,\r\n      loggedIn: this.props.loggedIn\r\n    });\r\n  }\r\n  /*\r\n    @desc: update loggedIn state if App changes\r\n  */\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.loggedIn !== prevProps.loggedIn) {\r\n      this.setState({\r\n        loggedIn: this.props.loggedIn\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const inactiveClass = (this.state.first ? \"\" : \"nav--inactive\");\r\n    return (\r\n      <nav className={\"nav \" + (this.state.active ? \"nav--active\" : inactiveClass)}>\r\n        <ul className=\"nav__head\">\r\n          <img className=\"nav__image\" alt=\"Logo\" src=\"\"/>\r\n          <h3 className=\"nav__heading\">Stratbook</h3>\r\n          <span className=\"nav__subtitle\">[Beta]</span>\r\n        </ul>\r\n        <ul className=\"nav__body\">\r\n          { this.state.loggedIn ? (\r\n            <li className=\"nav__item\">\r\n              <NavLink exact activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/dashboard\">Dashboard</NavLink>\r\n            </li>\r\n          ) : (\r\n            <li className=\"nav__item\">\r\n              <NavLink exact activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/\">Home</NavLink>\r\n            </li>\r\n          )}\r\n          {\r\n            this.state.loggedIn ? \"\" : (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/login\">Login</NavLink>\r\n              </li>\r\n            )\r\n          }\r\n          {\r\n            this.state.loggedIn ? \"\" : (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/register\">Register</NavLink>\r\n              </li>\r\n            )\r\n          }\r\n          {\r\n            this.state.loggedIn ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/team\">Team</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn && this.props.team ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/strategies\">Strategies</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn && this.props.team ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/chat\">Chat</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn ? (\r\n              <UserDropdown username={this.props.username} toggleMenu={this.toggleMenu}/>\r\n            ) : ( \"\" )\r\n          }\r\n        </ul>\r\n        <button id=\"nav__button\" onClick={this.toggleMenu}>&#9776;</button>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","/* client/src/components/partials/Alert.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @prop index: Int\r\n  @prop message: String\r\n  @prop status: String\r\n  @prop clearAlert: function\r\n*/\r\n\r\nconst Alert = (props) => {\r\n  return (\r\n    <div className={\"alert\" + (props.status === \"ERROR\" ? \" alert--error\" : \"\") + (props.status === \"SUCCESS\" ? \" alert--success\" : \"\")}>\r\n      <h5 className=\"alert__type\">{props.status}</h5>\r\n      <p className=\"alert__message\">{props.message}</p>\r\n      <button onClick={() => { props.clearAlert(props.index) }} className=\"alert__button\">X</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Alert;\r\n","/* client/components/partials/Header.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Header\r\n  @desc: render header element with custom title and subtitle\r\n  @prop title: String\r\n  @prop subtitle: String\r\n*/\r\nconst Header = (props) => {\r\n  return (\r\n    <header className=\"header\" style={{ background: \"url('media/Header Background.jpg')\", backgroundSize: \"cover\", backgroundPosition: \"center\" }}>\r\n      <div className=\"header__overlay\">\r\n        <h1 className=\"header__title\">{props.title}</h1>\r\n        <h2 className=\"header__subtitle\">{props.subtitle}</h2>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","/* client/components/partials/Footer.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Footer\r\n  @desc: render footer\r\n*/\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      This is a footer.\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","/* client/src/App.js */\r\n\r\nimport React from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\n// import pages\r\nimport Home from \"./components/pages/Home.js\";\r\nimport Login from \"./components/pages/Login.js\";\r\nimport Logout from \"./components/pages/Logout.js\";\r\nimport Register from \"./components/pages/Register.js\";\r\nimport User from \"./components/pages/User.js\";\r\nimport Dashboard from \"./components/pages/Dashboard.js\";\r\nimport Team from \"./components/pages/Team.js\";\r\nimport ManageTeam from \"./components/pages/ManageTeam.js\";\r\nimport Strategies from \"./components/pages/Strategies.js\";\r\nimport EditStrategies from \"./components/pages/EditStrategies.js\";\r\nimport NotFound from \"./components/pages/NotFound.js\";\r\nimport ForgotPassword from \"./components/pages/ForgotPassword.js\";\r\nimport ResetPassword from \"./components/pages/ResetPassword.js\";\r\n\r\n// import presentational components\r\nimport Navigation from \"./components/partials/Navigation.js\";\r\nimport Alert from \"./components/partials/Alert.js\";\r\nimport Header from \"./components/partials/Header.js\";\r\nimport Footer from \"./components/partials/Footer.js\";\r\n\r\nimport \"./css/style.css\";\r\n\r\n/*\r\n  App: root component, used to manage client-side auth and routing\r\n*/\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.login = this.login.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n    this.updateState = this.updateState.bind(this);\r\n    this.setLocalStorage = this.setLocalStorage.bind(this);\r\n    this.clearLocalStorage = this.clearLocalStorage.bind(this);\r\n    this.getAuthToken = this.getAuthToken.bind(this);\r\n    this.updateAuthToken = this.updateAuthToken.bind(this);\r\n    this.alert = this.alert.bind(this);\r\n    this.clearAlert = this.clearAlert.bind(this);\r\n\r\n    this.state = {\r\n      loggedIn: Date.now() < new Date(localStorage.getItem(\"expires\")) ? true : false,\r\n      user: JSON.parse(localStorage.getItem(\"user\")),\r\n      alerts: []\r\n    }\r\n  }\r\n  /*\r\n    login: login a user on the client side\r\n\r\n    token {String}: JWT\r\n    expiresIn {Int}: expiry time for JWT\r\n    user {Object}: user data object to store in localStorage\r\n  */\r\n  login(token, expiresIn, user) {\r\n    this.setLocalStorage(token, expiresIn, user, this.updateState);\r\n    axios.defaults.headers.common[\"Authorization\"] = this.state.token;\r\n  }\r\n  /*\r\n    logout: logout a user on the client side\r\n  */\r\n  logout() {\r\n    this.clearLocalStorage();\r\n    axios.defaults.headers.common[\"Authorization\"] = null;\r\n    this.updateState();\r\n  }\r\n  /*\r\n    updateState: refresh application state of client-side authentication\r\n  */\r\n  updateState() {\r\n    this.setState({\r\n      loggedIn: Date.now() < new Date(localStorage.getItem(\"expires\")) ? true : false,\r\n      user: JSON.parse(localStorage.getItem(\"user\"))\r\n    });\r\n  }\r\n  /*\r\n    setLocalStorage: store token and expiration date in local storage\r\n\r\n    token {String}: JWT\r\n    expiresIn {Int}: expiry time for JWT\r\n    user {Object}: user data object\r\n    callback {function}: function to call after local storage set\r\n  */\r\n  setLocalStorage(token, expiresIn, user, callback) {\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"expires\", new Date(Date.now() + expiresIn).toDateString());\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n    callback();\r\n  }\r\n  /*\r\n    clearLocalStorage: clear token and expiration date in local storage\r\n  */\r\n  clearLocalStorage() {\r\n    localStorage.clear();\r\n  }\r\n  /*\r\n    getAuthToken: get the auth token stored in localStorage\r\n  */\r\n  getAuthToken() {\r\n    return localStorage.getItem(\"token\");\r\n  }\r\n  /*\r\n    updateAuthToken: update the state of client-side auth and data\r\n  */\r\n  updateAuthToken() {\r\n    if (this.state.loggedIn) {\r\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.getItem(\"token\");\r\n      axios.get(\"/api/users/update-token\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"TOKEN_UPDATED\":\r\n            const user = response.data.user;\r\n            this.login(response.data.token, response.data.expiresIn, user);\r\n            break;\r\n          default:\r\n            this.alert(\"An error has occurred.\");\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        this.alert(\"Your login has expired or become invalid.\");\r\n        this.logout();\r\n      });\r\n    }\r\n  }\r\n  /*\r\n    alert: write a message to the screen\r\n\r\n    msg {String}: msg to display\r\n  */\r\n  alert(msg, status) {\r\n    let newAlerts = [...this.state.alerts];\r\n    newAlerts.push({ message: msg, status: status });\r\n    this.setState({\r\n      alerts: newAlerts\r\n    });\r\n  }\r\n  /*\r\n    clearAlert: clear an alert from the screen\r\n    index {Int}: index of alert to clear\r\n  */\r\n  clearAlert(index) {\r\n    let newAlerts = [...this.state.alerts];\r\n    newAlerts.splice(index, 1);\r\n    this.setState({\r\n      alerts: newAlerts\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.updateAuthToken();\r\n  }\r\n  render() {\r\n    const alerts = this.state.alerts.map((alert, index) => {\r\n      return <Alert clearAlert={this.clearAlert} index={index} message={alert.message} status={alert.status}/>\r\n    });\r\n    return (\r\n      <Router>\r\n        <div className=\"container\">\r\n          <Navigation loggedIn={this.state.loggedIn} username={(this.state.user ? this.state.user.username : \"\")} status={this.state.user ? this.state.user.status : \"\"} team={(this.state.user ? this.state.user.team_code : undefined)}/>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/dashboard\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Home/>\r\n                </div>\r\n              )}\r\n            </Route>\r\n            <Route exact path=\"/user\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <User getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken}\r\n                        logout={this.logout} username={this.state.user.username} email={this.state.user.email}\r\n                        platform={this.state.user.platform} attacker_role={this.state.user.attacker_role}\r\n                        attackers={this.state.user.attackers} defenders={this.state.user.defenders}\r\n                        defender_role={this.state.user.defender_role} alert={this.alert}\r\n                        subscription={this.state.user.subscription}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/dashboard\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Dashboard getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/team\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Team getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken}\r\n                        team_code={this.state.user.team_code} alert={this.alert} status={this.state.user.status}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/team/manage\">\r\n              { this.state.loggedIn && this.state.user.status === \"ADMIN\" ? (\r\n                <div className=\"page-wrapper\">\r\n                  <ManageTeam getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/team\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies\">\r\n              { this.state.loggedIn && this.state.user.team_code ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Strategies team_code={this.state.user.team_code} status={this.state.user.status} getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies/edit\">\r\n              { this.state.loggedIn && (this.state.user.status === \"ADMIN\" || this.state.user.status === \"EDITOR\") ? (\r\n                <div className=\"page-wrapper\">\r\n                  <EditStrategies getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/strategies\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/chat\">\r\n              { this.state.loggedIn && this.state.user.team_code ? (\r\n                <div className=\"page-wrapper\">\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Login login={this.login} alert={this.alert}/>\r\n                </div>\r\n                )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/logout\">\r\n              { this.state.loggedIn ? (\r\n                <Logout logout={this.logout}/>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/register\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Register alert={this.alert}/>\r\n                </div>\r\n                )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/forgot-password\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <ForgotPassword alert={this.alert}/>\r\n                </div>\r\n              )}\r\n            </Route>\r\n            <Route path=\"/reset-password/:token\"\r\n              render={(props) => (<ResetPassword {...props} alert={this.alert}/>)}/>\r\n            <Route>\r\n              <div className=\"page-wrapper\">\r\n                <Header title=\"Error: 404\"/>\r\n                <NotFound/>\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n          <Footer/>\r\n          <div className=\"alert-container\">\r\n            { alerts }\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n    window.self.addEventListener(\"push\", event => {\r\n      const data = event.data.json();\r\n      const { title } = data;\r\n\r\n      const body = {\r\n        body: data.body\r\n      }\r\n\r\n      event.waitUntil(window.self.registration.showNotification(title, body));\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","/* client/index.js */\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App.js\";\r\nimport * as serviceWorker from \"./serviceWorker.js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","/* data.js */\r\n\r\nmodule.exports = {\r\n  MAP_NAMES: [\"BANK\", \"BORDER\", \"CHALET\", \"CLUBHOUSE\", \"COASTLINE\", \"CONSULATE\", \"KAFE DOSTOYEVSKY\", \"KANAL\", \"OREGON\", \"OUTBACK\", \"THEME PARK\", \"VILLA\"],\r\n  SITES: {\r\n    \"BANK\": [\"B Lockers/B CCTV Room\", \"1F Teller's Office/1F Archives\", \"1F Staff Room/1F Open Area\", \"2F Executive Lounge/2F CEO Office\"],\r\n    \"BORDER\": [\"1F Customs Inspection/1F Supply Room\", \"1F Ventilation Room/1F Workshop\", \"1F Bathroom/1F Tellers\", \"2F Armory Lockers/2F Archives\"],\r\n    \"CHALET\": [\"B Wine Cellar/B Snowmobile Garage\", \"1F Bar/1F Gaming Room\", \"1F Dining Room/1F Kitchen\", \"2F Master Bedroom/2F Office\"],\r\n    \"CLUBHOUSE\": [\"B Church/B Armory\", \"1F Bar/1F Stock Room\", \"2F Cash Room/2F CCTV\", \"2F Gym/2F Master Bedroom\"],\r\n    \"COASTLINE\": [\"1F Kitchen/1F Service Entrace\", \"1F Sunrise Bar/1F Blue Bar\", \"2F Hookah Lounge/2F Billiards Room\", \"2F Penthouse/2F Theater\"],\r\n    \"CONSULATE\": [\"B Garage/B Cafeteria\", \"B Archives/1F Tellers\", \"1F Lobby/1F Press Room\", \"2F Consul Office/2F Meeting Room\"],\r\n    \"KAFE DOSTOYEVSKY\": [\"1F Kitchen Cooking/1F Kitchen Service\", \"2F Fireplace Hall/2F Mining Room\", \"2F Fireplace Hall/2F Reading Room\", \"3F Cocktail Bar/3F Bar\"],\r\n    \"KANAL\": [\"B Supply Room/B Kayaks\", \"1F Coast Guard Meeting Room/1F Lounge\", \"1F Security Room/1F Maps Room\", \"2F Radar Room/2F Server Room\"],\r\n    \"OREGON\": [\"B Laundry/B Supply Room\", \"1F Kitchen/1F Dining Room\", \"1F Kitchen/1F Meeting Room\", \"2F Kid's Dorm/2F Dorms Main Hall\"],\r\n    \"OUTBACK\": [\"1F Compressor Room/1F Gear Store\", \"1F Nature Room/1F Bushranger Room\", \"2F Office/2F Party Room\", \"2F Laundry Room/2F Games Room\"],\r\n    \"THEME PARK\": [\"1F Armory Room/1F Throne Room\", \"1F Lab/1F Storage\", \"2F Office/2F Initiation Room\", \"2F Bunk/2F Day Care\"],\r\n    \"VILLA\": [\"1F Living Room/1F Library\", \"1F Kitchen/1F Dining Room\", \"2F Trophy Room/2F Statuary Room\", \"2F Aviator Room/2F Games Room\"]\r\n  },\r\n  FLOORS: {\r\n    \"BANK\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"BORDER\": [\"First Floor\", \"Second Floor\"],\r\n    \"CHALET\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"CLUBHOUSE\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"COASTLINE\": [\"First Floor\", \"Second Floor\"],\r\n    \"CONSULATE\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"KAFE DOSTOYEVSKY\": [\"First Floor\", \"Second Floor\", \"Third Floor\"],\r\n    \"KANAL\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"OREGON\": [\"Basement\", \"First Floor\", \"Second Floor\", \"Third Floor\"],\r\n    \"OUTBACK\": [\"First Floor\", \"Second Floor\"],\r\n    \"THEME PARK\": [\"First Floor\", \"Second Floor\"],\r\n    \"VILLA\": [\"Basement\", \"First Floor\", \"Second Floor\"]\r\n  },\r\n  GADGETS: {\r\n    \"SLEDGE\": {\r\n      gadget: \"Sledgehammer\",\r\n      count: 25\r\n    },\r\n    \"THATCHER\": {\r\n      gadget: \"EMP Grenade\",\r\n      count: 3\r\n    },\r\n    \"SMOKE\": {\r\n      gadget: \"Remote Gas Grenade\",\r\n      count: 3\r\n    },\r\n    \"MUTE\": {\r\n      gadget: \"Signal Disruptor\",\r\n      count: 4\r\n    },\r\n    \"ASH\": {\r\n      gadget: \"Breaching Round\",\r\n      count: 3\r\n    },\r\n    \"THERMITE\": {\r\n      gadget: \"Exothermic Charge\",\r\n      count: 2\r\n    },\r\n    \"CASTLE\": {\r\n      gadget: \"Armored Panel\",\r\n      count: 3\r\n    },\r\n    \"PULSE\": {\r\n      gadget: \"Cardiac Sensor\",\r\n      count: 0\r\n    },\r\n    \"GLAS\": {\r\n      gadget: \"Flip Sight\",\r\n      count: 0\r\n    },\r\n    \"FUZE\": {\r\n      gadget: \"Cluster Charge\",\r\n      count: 4\r\n    },\r\n    \"KAPKAN\": {\r\n      gadget: \"Entry Denial Device\",\r\n      count: 5\r\n    },\r\n    \"TACHANKA\": {\r\n      gadget: \"Grenade Launcher\",\r\n      count: 10\r\n    },\r\n    \"BLITZ\": {\r\n      gadget: \"Flash Shield\",\r\n      count: 0\r\n    },\r\n    \"IQ\": {\r\n      gadget: \"Electronics Detector\",\r\n      count: 0\r\n    },\r\n    \"JAGER\": {\r\n      gadget: \"Active Defense System\",\r\n      count: 3\r\n    },\r\n    \"BANDIT\": {\r\n      gadget: \"Shock Wire\",\r\n      count: 4\r\n    },\r\n    \"TWITCH\": {\r\n      gadget: \"Shock Drone\",\r\n      count: 2\r\n    },\r\n    \"MONTAGNE\": {\r\n      gadget: \"Extendable Shield\",\r\n      count: 0\r\n    },\r\n    \"DOC\": {\r\n      gadget: \"Stim Pistol\",\r\n      count: 0\r\n    },\r\n    \"ROOK\": {\r\n      gadget: \"Armor Pack\",\r\n      count: 1\r\n    },\r\n    \"FROST\": {\r\n      gadget: \"Welcome Mat\",\r\n      count: 3\r\n    },\r\n    \"BUCK\": {\r\n      gadget: \"Skeleton Key\",\r\n      count: 16\r\n    },\r\n    \"VALKYRIE\": {\r\n      gadget: \"Black Eye Camera\",\r\n      count: 3\r\n    },\r\n    \"BLACKBEARD\": {\r\n      gadget: \"Rifle Shield\",\r\n      count: 0\r\n    },\r\n    \"CAPITAO\": {\r\n      gadget: \"Tactical Crossbolt\",\r\n      count: 4\r\n    },\r\n    \"CAVEIRA\": {\r\n      gadget: \"Silent Step\",\r\n      count: 0\r\n    },\r\n    \"ECHO\": {\r\n      gadget: \"Yokai Drone\",\r\n      count: 2\r\n    },\r\n    \"HIBANA\": {\r\n      gadget: \"X-Kairos Pellet\",\r\n      count: 9\r\n    },\r\n    \"JACKAL\": {\r\n      gadget: \"Eyenox Model III\",\r\n      count: 0\r\n    },\r\n    \"MIRA\": {\r\n      gadget: \"Black Mirror\",\r\n      count: 2\r\n    },\r\n    \"LESION\": {\r\n      gadget: \"Gu Mine\",\r\n      count: 8\r\n    },\r\n    \"YING\": {\r\n      gadget: \"Candela\",\r\n      count: 3\r\n    },\r\n    \"ELA\": {\r\n      gadget: \"Grzmot Mine\",\r\n      count: 3\r\n    },\r\n    \"ZOFIA\": {\r\n      gadget: \"KS79\",\r\n      count: 4\r\n    },\r\n    \"DOKKAEBI\": {\r\n      gadget: \"Logic Bomb\",\r\n      count: 0\r\n    },\r\n    \"VIGIL\": {\r\n      gadget: \"ERC-7\",\r\n      count: 0\r\n    },\r\n    \"FINKA\": {\r\n      gadget: \"Adrenal Surge\",\r\n      count: 0\r\n    },\r\n    \"LION\": {\r\n      gadget: \"EE-ONE-D\",\r\n      count: 0\r\n    },\r\n    \"ALIBI\": {\r\n      gadget: \"Prisma\",\r\n      count: 3\r\n    },\r\n    \"MAESTRO\": {\r\n      gadget: \"Evil Eye\",\r\n      count: 2\r\n    },\r\n    \"MAVERICK\": {\r\n      gadget: \"Breaching Torch\",\r\n      count: 0\r\n    },\r\n    \"CLASH\": {\r\n      gadget: \"CCE Shield\",\r\n      count: 0\r\n    },\r\n    \"KAID\": {\r\n      gadget: \"RTILA Electroclaw\",\r\n      count: 2\r\n    },\r\n    \"NOMAD\": {\r\n      gadget: \"Airjab\",\r\n      count: 3\r\n    },\r\n    \"GRIDLOCK\": {\r\n      gadget: \"Trax Stinger\",\r\n      count: 3\r\n    },\r\n    \"MOZZIE\": {\r\n      gadget: \"Pest\",\r\n      count: 3\r\n    },\r\n    \"WARDEN\": {\r\n      gadget: \"GLANCE SMART GLASSES\",\r\n      count: 0\r\n    },\r\n    \"NOKK\": {\r\n      gadget: \"Hel Presence Reduction\",\r\n      count: 0\r\n    },\r\n    \"GOYO\": {\r\n      gadget: \"Volcan Shield\",\r\n      count: 2\r\n    },\r\n    \"AMARU\": {\r\n      gadget: \"Garra Hook\",\r\n      count: 0\r\n    },\r\n    \"KALI\": {\r\n      gadget: \"LV Explosive Lance\",\r\n      count: 3\r\n    },\r\n    \"WAMAI\": {\r\n      gadget: \"Mag-net System\",\r\n      count: 4\r\n    },\r\n    \"IANA\": {\r\n      gadget: \"Gemini Replicator\",\r\n      count: 0\r\n    },\r\n    \"ORYX\": {\r\n      gadget: \"Remah Dash\",\r\n      count: 0\r\n    },\r\n    \"MELUSI\": {\r\n      gadget: \"Banshee Sonic Defense\",\r\n      count: 3\r\n    },\r\n    \"ACE\": {\r\n      gadget: \"SELMA Aqua Breacher\",\r\n      count: 3\r\n    },\r\n    \"ZERO\": {\r\n      gadget: \"Argus Launcher\",\r\n      count: 4\r\n    }\r\n  },\r\n  ATTACKER_ROLES: [\"ROLE\", \"HARD BREACH\", \"SOFT BREACH\", \"ENTRY FRAG\", \"AREA DENIAL/FLANK WATCH\", \"INTEL\", \"UTILITY CLEAR\", \"SUPPORT\", \"ROAM CLEAR\"],\r\n  ATTACKER_OPERATORS: {\r\n    \"HARD BREACH\": [\"ACE\", \"HIBANA\", \"MAVERICK\", \"THERMITE\"],\r\n    \"SOFT BREACH\": [\"ASH\", \"BUCK\", \"SLEDGE\", \"ZOFIA\"],\r\n    \"ENTRY FRAG\": [\"AMARU\", \"ASH\", \"BLITZ\", \"FINKA\", \"IANA\", \"IQ\", \"MONTAGNE\", \"NOKK\", \"TWITCH\", \"ZOFIA\"],\r\n    \"AREA DENIAL/FLANK WATCH\": [\"CAPITAO\", \"GRIDLOCK\", \"NOMAD\", \"ZERO\"],\r\n    \"INTEL\": [\"DOKKAEBI\", \"IANA\", \"IQ\", \"LION\", \"MONTAGNE\", \"TWITCH\", \"ZERO\"],\r\n    \"UTILITY CLEAR\": [\"ASH\", \"FUZE\", \"KALI\", \"MAVERICK\", \"SLEDGE\", \"THATCHER\", \"TWITCH\"],\r\n    \"SUPPORT\": [\"ACE\", \"BLACKBEARD\", \"CAPITAO\", \"DOKKAEBI\", \"FINKA\", \"GLAZ\", \"IANA\", \"LION\", \"MAVERICK\", \"MONTAGNE\", \"YING\", \"ZERO\"],\r\n    \"ROAM CLEAR\": [\"DOKKAEBI\", \"JACKAL\", \"LION\", \"NOKK\", \"SLEDGE\", \"TWITCH\", \"ZOFIA\"]\r\n  },\r\n  ATTACKERS: [\"SLEDGE\", \"THATCHER\", \"ASH\", \"THERMITE\", \"TWITCH\", \"MONTAGNE\", \"GLAZ\", \"FUZE\", \"BLITZ\", \"IQ\", \"BUCK\", \"BLACKBEARD\", \"CAPITAO\", \"HIBANA\", \"JACKAL\", \"YING\", \"ZOFIA\", \"DOKKAEBI\", \"LION\", \"FINKA\", \"MAVERICK\", \"NOMAD\", \"GRIDLOCK\", \"NOKK\", \"AMARU\", \"KALI\", \"IANA\", \"ACE\", \"ZERO\"],\r\n  DEFENDER_ROLES: [\"ROLE\", \"HARD BREACH DENIAL\", \"INTEL DENIAL\", \"INTEL\", \"AREA DENIAL\", \"TRAPS\", \"UTILITY SOAK\", \"SUPPORT\", \"ROAM\"],\r\n  DEFENDER_OPERATORS: {\r\n    \"HARD BREACH DENIAL\": [\"BANDIT\", \"KAID\", \"MUTE\"],\r\n    \"INTEL DENIAL\": [\"MOZZIE\", \"MUTE\", \"VIGIL\"],\r\n    \"INTEL\": [\"ECHO\", \"MAESTRO\", \"MIRA\", \"MOZZIE\", \"PULSE\", \"VALKYRIE\"],\r\n    \"AREA DENIAL\": [\"CLASH\", \"GOYO\", \"LESION\", \"MELUSI\", \"MIRA\", \"SMOKE\", \"TACHANKA\"],\r\n    \"TRAPS\": [\"ELA\", \"FROST\", \"KAPKAN\", \"LESION\", \"MELUSI\"],\r\n    \"UTILITY SOAK\": [\"CASTLE\", \"GOYO\", \"JAGER\", \"WAMAI\"],\r\n    \"SUPPORT\": [\"CLASH\", \"DOC\", \"ECHO\", \"GOYO\", \"JAGER\", \"MAESTRO\", \"MIRA\", \"PULSE\", \"ROOK\", \"TACHANKA\", \"VALKYRIE\", \"WARDEN\"],\r\n    \"ROAM\": [\"ALIBI\", \"BANDIT\", \"CAVEIRA\", \"ELA\", \"JAGER\", \"KAPKAN\", \"LESION\", \"MELUSI\", \"MOZZIE\", \"ORYX\", \"VIGIL\", \"WARDEN\"]\r\n  },\r\n  DEFENDERS: [\"SMOKE\", \"MUTE\", \"CASTLE\", \"PULSE\", \"DOC\", \"ROOK\", \"KAPKAN\", \"TACHANKA\", \"JAGER\", \"BANDIT\", \"FROST\", \"VALKYRIE\", \"CAVEIRA\", \"ECHO\", \"MIRA\", \"LESION\", \"ELA\", \"VIGIL\", \"MAESTRO\", \"ALIBI\", \"CLASH\", \"KAID\", \"MOZZIE\", \"WARDEN\", \"GOYO\", \"WAMAI\", \"ORYX\", \"MELUSI\"],\r\n  MAPS: [\"BANK\", \"BORDER\", \"CHALET\", \"CLUBHOUSE\", \"COASTLINE\", \"CONSULATE\", \"KAFE DOSTOYEVSKY\", \"KANAL\", \"OREGON\", \"OUTBACK\", \"THEME PARK\", \"VILLA\"],\r\n  UTILITY: {\r\n    attack: {\r\n      \"OPERATOR\": [\"BREACH CHARGES\", \"CLAYMORE\", \"FRAG GRENADES\", \"HARD BREACH CHARGE\", \"SMOKE GRENADES\", \"STUN GRENADES\"],\r\n      \"SLEDGE\": [\"FRAG GRENADES\", \"STUN GRENADES\"],\r\n      \"THATCHER\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"ASH\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"THERMITE\": [\"CLAYMORE\", \"STUN GRENADES\"],\r\n      \"TWITCH\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"MONTAGNE\": [\"HARD BREACH CHARGE\", \"SMOKE GRENADES\"],\r\n      \"BLITZ\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"IQ\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"GLAZ\": [\"FRAG GRENADES\", \"SMOKE GRENADES\"],\r\n      \"FUZE\": [\"BREACH CHARGES\", \"HARD BREACH CHARGE\"],\r\n      \"BUCK\": [\"CLAYMORE\", \"STUN GRENADES\"],\r\n      \"BLACKBEARD\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"CAPITAO\": [\"CLAYMORE\", \"HARD BREACH CHARGE\"],\r\n      \"HIBANA\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"JACKAL\": [\"CLAYMORE\", \"SMOKE GRENADES\"],\r\n      \"YING\": [\"HARD BREACH CHARGE\", \"SMOKE GRENADES\"],\r\n      \"ZOFIA\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"DOKKAEBI\": [\"SMOKE GRENADES\", \"STUN GRENADES\"],\r\n      \"LION\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"FINKA\": [\"HARD BREACH CHARGE\", \"FRAG GRENADES\"],\r\n      \"MAVERICK\": [\"CLAYMORE\", \"FRAG GRENADES\"],\r\n      \"NOMAD\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"GRIDLOCK\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"NOKK\": [\"HARD BREACH CHARGE\", \"FRAG GRENADES\"],\r\n      \"AMARU\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"KALI\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"IANA\": [\"FRAG GRENADES\", \"SMOKE GRENADES\"],\r\n      \"ACE\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"ZERO\": [\"CLAYMORE\", \"FRAG GRENADES\"]\r\n    },\r\n    defense: {\r\n      \"OPERATOR\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\", \"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\", \"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"SMOKE\": [\"BARBED WIRE\", \"DEPLOYABLE SHIELD\"],\r\n      \"MUTE\": [\"BULLETPROOF CAMERA\", \"NITRO CELL\"],\r\n      \"CASTLE\": [\"BULLETPROOF CAMERA\", \"PROXIMITY ALARMS\"],\r\n      \"PULSE\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"DOC\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\"],\r\n      \"ROOK\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"KAPKAN\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"TACHANKA\": [\"BARBED WIRE\", \"PROXIMITY ALARMS\"],\r\n      \"JAGER\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\"],\r\n      \"BANDIT\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"FROST\": [\"BULLETPROOF CAMERA\", \"DEPLOYABLE SHIELD\"],\r\n      \"VALKYRIE\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"CAVEIRA\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"ECHO\": [\"BARBED WIRE\", \"IMPACT GRENADES\"],\r\n      \"MIRA\": [\"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"LESION\": [\"BULLETPROOF CAMERA\", \"IMPACT GRENADES\"],\r\n      \"ELA\": [\"BARBED WIRE\", \"DEPLOYABLE SHIELD\"],\r\n      \"VIGIL\": [\"BULLETPROOF CAMERA\", \"IMPACT GRENADES\"],\r\n      \"MAESTRO\": [\"BARBED WIRE\", \"IMPACT GRENADES\"],\r\n      \"ALIBI\": [\"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\"],\r\n      \"CLASH\": [\"BARBED WIRE\", \"IMPACT GRENADES\"],\r\n      \"KAID\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"MOZZIE\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"WARDEN\": [\"DEPLOYABLE SHIELD\", \"NITRO CELL\"],\r\n      \"GOYO\": [\"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"WAMAI\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"ORYX\": [\"BARBED WIRE\", \"PROXIMITY ALARMS\"],\r\n      \"MELUSI\": [\"IMPACT GRENADES\", \"NITRO CELL\"]\r\n    }\r\n  },\r\n  UTILITY_GUIDE: {\r\n    \"BREACH CHARGES\": 3,\r\n    \"CLAYMORE\": 1,\r\n    \"FRAG GRENADES\": 2,\r\n    \"HARD BREACH CHARGE\": 1,\r\n    \"SMOKE GRENADES\": 2,\r\n    \"STUN GRENADES\": 3,\r\n    \"BARBED WIRE\": 2,\r\n    \"BULLETPROOF CAMERA\": 1,\r\n    \"DEPLOYABLE SHIELD\": 1,\r\n    \"IMPACT GRENADES\": 2,\r\n    \"NITRO CELL\": 1,\r\n    \"PROXIMITY ALARMS\": 2\r\n  },\r\n  CURRENT_SEASON: \"neon_dawn\"\r\n}\r\n"],"sourceRoot":""}