(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,a){e.exports=a(61)},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(31),o=a.n(n),l=a(3),i=a(4),c=a(1),m=a(6),u=a(5),d=a(9),h=a(7),E=a(2),p=a.n(E),_=function(){return r.a.createElement("div",{className:"page",id:"home"},"This is the home page.")},g=a(8),f=function(){return r.a.createElement("div",{className:"loading"})},b=function(e){return r.a.createElement("form",{className:"form",id:"login-form",onSubmit:e.onSubmit},r.a.createElement("h4",{className:"form__heading"},"Login Form"),r.a.createElement("fieldset",{className:"form__fieldset",id:"email-field"},r.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.email?"":" form__input--error"),value:e.email,id:"email",type:"email",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.email:""),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.user:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password?"":" form__input--error"),value:e.password,id:"password",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password:"")),e.loading?r.a.createElement(f,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Login"))},v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={email:"",password:"",errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),p.a.post("/api/users/login",{email:this.state.email,password:this.state.password}).then((function(e){switch(e.data.status){case"TOKEN_ISSUED":t.setState({loading:!1}),t.props.login(e.data.token,e.data.expiresIn,e.data.user);break;case"ERROR_WHILE_LOGGING_IN":t.setState({loading:!1,errors:{}}),alert("An error occurred while logging in. Please try again.");case"INVALID_LOGIN":case"USER_NOT_FOUND":case"INCORRECT_PASSWORD":default:t.setState({loading:!1,errors:e.data.errors,status:e.data.status})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"LoginAPI"},r.a.createElement(b,{onSubmit:this.onSubmit,onChange:this.onChange,email:this.state.email,password:this.state.password,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),N=function(e){return r.a.createElement("div",{className:"page",id:"login"},r.a.createElement(v,{login:e.login}))},A=function(e){return e.logout(),r.a.createElement("div",{className:"page",id:"logout"})},S=function(e){return r.a.createElement("form",{className:"form",id:"register-form",onSubmit:e.onSubmit},r.a.createElement("h4",{className:"form__heading"},"Register Form"),r.a.createElement("fieldset",{className:"form__fieldset",id:"username-field"},r.a.createElement("label",{className:"form__label",htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.username?"":" form__input--error"),value:e.username,id:"username",type:"name",required:!0}),r.a.createElement("span",{className:"form__description"},"Must match platform"),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.username:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"email-field"},r.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.email?"":" form__input--error"),value:e.email,id:"email",type:"email",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.email:""),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.user:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"platform-field"},r.a.createElement("label",{className:"form__label",htmlFor:"platform"},"Platform"),r.a.createElement("select",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.platform?"":" form__input--error"),value:e.platform,id:"platform",required:!0},r.a.createElement("option",null,"XBOX"),r.a.createElement("option",null,"PC"),r.a.createElement("option",null,"PS4")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.platform:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password1-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password1"},"Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password1?"":" form__input--error"),value:e.password1,id:"password1",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password1:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password2-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password2?"":" form__input--error"),value:e.password2,id:"password2",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password2:"")),e.loading?r.a.createElement(f,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Register"))},k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={username:"",email:"",password1:"",password2:"",platform:"XBOX",errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),p.a.post("/api/users/register",{username:this.state.username,email:this.state.email,platform:this.state.platform,password1:this.state.password1,password2:this.state.password2}).then((function(e){switch(e.data.status){case"USER_REGISTERED":t.setState({loading:!1,redirect:"/login"});break;case"ERROR_WHILE_REGISTERING":t.setState({loading:!1}),alert("An error occurred while registering. Please try again.");case"INVALID_REGISTRATION":case"PROFANE_INPUT":case"EXISTING_USER":default:t.setState({loading:!1,errors:e.data.errors})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(h.a,{to:this.state.redirect}):r.a.createElement("div",{id:"RegisterAPI"},r.a.createElement(S,{onSubmit:this.onSubmit,onChange:this.onChange,email:this.state.email,password1:this.state.password1,password2:this.state.platform2,platform:this.state.platform,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),T=function(){return r.a.createElement("div",{className:"page",id:"register"},r.a.createElement(k,null))},O=function(e){return r.a.createElement("form",{className:"form",id:"update-platform-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Platform"),r.a.createElement("fieldset",{className:"form__fieldset",id:"platform-field"},r.a.createElement("label",{className:"form__label"},"Platform"),r.a.createElement("select",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.platform?"":" form__input--error"),value:e.platform,id:"platform",required:!0},r.a.createElement("option",null,"XBOX"),r.a.createElement("option",null,"PC"),r.a.createElement("option",null,"PS4")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.platform:"")))},y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={platform:s.props.platform,errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value),this.onSubmit)}},{key:"onSubmit",value:function(){var e=this,t=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/update-platform",{platform:this.state.platform}).then((function(a){switch(a.data.status){case"PLATFORM_UPDATED":t.setState({loading:!1}),e.props.updateAuthToken();break;case"USER_HAS_TEAM":t.setState({loading:!1}),alert("You cannot update your platform if you are on a team. Teams are platform-specific.");break;case"ERROR_WHILE_UPDATING_PLATFORM":t.setState({loading:!1,errors:{}}),alert("An error occurred while updating platform. Please try again.");case"USER_NOT_FOUND":default:t.setState({loading:!1,errors:a.data.errors,status:a.data.status})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"UpdatePlatformAPI"},r.a.createElement(O,{onChange:this.onChange,platform:this.state.platform,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),I=function(e){return r.a.createElement("form",{className:"form",id:"update-username-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Username"),r.a.createElement("fieldset",{className:"form__fieldset",id:"username-field"},r.a.createElement("label",{className:"form__label",htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.username?"":" form__input--error"),value:e.username,id:"username",type:"name",required:!0}),r.a.createElement("span",{className:"form__description"},"Must match platform"),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.username:"")),e.loading?r.a.createElement(f,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))},R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={username:s.props.username,errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/update-username",{username:this.state.username}).then((function(e){switch(e.data.status){case"USERNAME_UPDATED":a.setState({loading:!1}),alert("Success! Your username has been updated."),t.props.updateAuthToken();break;case"ERROR_WHILE_UPDATING_USERNAME":a.setState({loading:!1,errors:{}}),alert("An error occurred while updating username. Please try again.");case"USERNAME_TAKEN":default:a.setState({loading:!1,errors:e.data.errors,status:e.data.status})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"UpdateUsernameAPI"},r.a.createElement(I,{onSubmit:this.onSubmit,onChange:this.onChange,username:this.state.username,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),C=function(e){return r.a.createElement("form",{className:"form",id:"update-email-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Email"),r.a.createElement("fieldset",{className:"form__fieldset",id:"email-field"},r.a.createElement("label",{className:"form__label",htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.email?"":" form__input--error"),value:e.email,id:"email",type:"email",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.email:"")),e.loading?r.a.createElement(f,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))},w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={email:s.props.email,errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/update-email",{email:this.state.email}).then((function(e){switch(e.data.status){case"EMAIL_UPDATED":a.setState({loading:!1}),alert("Success! Your email has been updated."),t.props.updateAuthToken();break;case"USER_NOT_VERIFIED":a.setState({loading:!1}),alert("You must verify your email before you can change it.");break;case"ERROR_WHILE_UPDATING_EMAIL":a.setState({loading:!1,errors:{}}),alert("An error occurred while updating email. Please try again.");case"INVALID_EMAIL":case"PROFANE_INPUT":case"EMAIL_TAKEN":case"USER_NOT_FOUND":default:a.setState({loading:!1,errors:e.data.errors,status:e.data.status})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"UpdateEmailAPI"},r.a.createElement(C,{onSubmit:this.onSubmit,onChange:this.onChange,email:this.state.email,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),D=function(e){return r.a.createElement("form",{className:"form",id:"update-password-form",onSubmit:e.onSubmit},r.a.createElement("p",{className:"form__heading"},"Update Password"),r.a.createElement("fieldset",{className:"form__fieldset",id:"password1-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password1"},"New Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password1?"":" form__input--error"),value:e.password1,id:"password1",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password1:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"password2-field"},r.a.createElement("label",{className:"form__label",htmlFor:"password2"},"Confirm New Password"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.password2?"":" form__input--error"),value:e.password2,id:"password2",type:"password",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.password2:"")),e.loading?r.a.createElement(f,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))},j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={password1:"",password2:"",errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/update-password",{password1:this.state.password1,password2:this.state.password2}).then((function(e){switch(e.data.status){case"PASSWORD_UPDATED":a.setState({loading:!1}),alert("Success! Your password has been updated."),t.props.updateAuthToken();break;case"ERROR_WHILE_UPDATING_PASSWORD":a.setState({loading:!1,errors:{}}),alert("An error occurred while updating password. Please try again.");case"INVALID_PASSWORD_INPUT":default:a.setState({loading:!1,errors:e.data.errors,status:e.data.status})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"UpdateUsernameAPI"},r.a.createElement(D,{onSubmit:this.onSubmit,onChange:this.onChange,errors:this.state.errors,loading:this.state.loading}))}}]),a}(r.a.Component),L=function(e){return r.a.createElement("form",{className:"form",id:"set-attacker-role-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"attacker-role-field"},r.a.createElement("label",{className:"form__label",htmlFor:"attacker_role"},"Primary Attacker Role"),r.a.createElement("select",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.role?"":" form__input--error"),value:e.attacker_role,id:"attacker_role",required:!0},r.a.createElement("option",null,"NONE"),r.a.createElement("option",null,"HARD BREACH"),r.a.createElement("option",null,"SOFT BREACH"),r.a.createElement("option",null,"ENTRY FRAG"),r.a.createElement("option",null,"AREA DENIAL/FLANK WATCH"),r.a.createElement("option",null,"INTEL"),r.a.createElement("option",null,"UTILITY CLEAR"),r.a.createElement("option",null,"SUPPORT"),r.a.createElement("option",null,"ROAM CLEAR")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.role:"")))},U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!1,attacker_role:s.props.attacker_role},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value),this.onSubmit)}},{key:"onSubmit",value:function(){var e=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/set-attacker-role",{role:this.state.attacker_role}).then((function(t){switch(t.data.status){case"ATTACKER_ROLE_SET":e.setState({loading:!1}),e.props.updateAuthToken();break;case"ERROR_WHILE_SETTING_ATTACKER_ROLE":e.setState({loading:!1}),alert("An error occurred while setting attacker role. Please try again.");break;case"USER_NOT_FOUND":case"INVALID_ATTACKER_ROLE":default:e.setState({loading:!1,errors:t.data.errors})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetAttackerRoleAPI"},this.state.loading?r.a.createElement(f,null):r.a.createElement(L,{attacker_role:this.state.attacker_role,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),M=a(11),P=["SLEDGE","THATCHER","ASH","THERMITE","TWITCH","MONTAGNE","GLAZ","FUZE","BLITZ","IQ","BUCK","BLACKBEARD","CAPITAO","HIBANA","JACKAL","YING","ZOFIA","DOKKAEBI","LION","FINKA","MAVERICK","NOMAD","GRIDLOCK","NOKK","AMARU","KALI","IANA","ACE","ZERO"],Y=function(e){var t=P.map((function(t,a){return r.a.createElement("div",{className:"attackers-form__attacker",key:a},r.a.createElement("input",{onChange:function(){e.onChange(t)},className:"attackers-form__input "+(e.attackers.indexOf(t)>=0?"attackers-form__input--checked":""),type:"checkbox",id:"attackers-form__input--"+t.toLowerCase(),checked:e.attackers.indexOf(t)>=0,key:a}),r.a.createElement("label",{className:"attackers-form__label",htmlFor:"attackers-form__input--"+t.toLowerCase()},r.a.createElement("img",{className:"attackers-form__image",alt:t+" Image",src:"https://cdn.r6stats.com/badges/"+t.toLowerCase()+"_badge.png"})))}));return r.a.createElement("form",{className:"form",id:"set-attackers-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"attackers-field"},r.a.createElement("div",null,r.a.createElement("p",{className:"form__label"},"Preferred Attackers"),t,r.a.createElement("span",{className:"form__error"},e.errors?e.errors.attackers:""),r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))))},x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!1,attackers:s.props.attackers},s}return Object(i.a)(a,[{key:"onChange",value:function(e){var t=this.state.attackers.indexOf(e);if(t<0)this.setState({attackers:[].concat(Object(M.a)(this.state.attackers),[e])});else{var a=Object(M.a)(this.state.attackers);a.splice(t,1),this.setState({attackers:a})}}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/set-attackers",{attackers:this.state.attackers}).then((function(e){switch(e.data.status){case"ATTACKERS_SET":t.setState({loading:!1}),t.props.updateAuthToken();break;case"ERROR_WHILE_SETTING_ATTACKERS":t.setState({loading:!1}),alert("An error occurred while setting preferred attackers. Please try again.");break;case"USER_NOT_FOUND":case"INVALID_ATTACKERS":default:t.setState({loading:!1,errors:e.data.errors}),alert("An error has occurred.")}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetAttackersAPI"},this.state.loading?r.a.createElement(f,null):r.a.createElement(Y,{attackers:this.state.attackers,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),H=function(e){return r.a.createElement("form",{className:"form",id:"set-defender-role-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"defender-role-field"},r.a.createElement("label",{className:"form__label",htmlFor:"defender_role"},"Primary Defender Role"),r.a.createElement("select",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.role?"":" form__input--error"),value:e.defender_role,id:"defender_role",required:!0},r.a.createElement("option",null,"NONE"),r.a.createElement("option",null,"HARD BREACH DENIAL"),r.a.createElement("option",null,"INTEL DENIAL"),r.a.createElement("option",null,"INTEL"),r.a.createElement("option",null,"AREA DENIAL"),r.a.createElement("option",null,"TRAPS"),r.a.createElement("option",null,"UTILITY SOAK"),r.a.createElement("option",null,"SUPPORT"),r.a.createElement("option",null,"ROAM")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.role:"")))},F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!1,defender_role:s.props.defender_role},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value),this.onSubmit)}},{key:"onSubmit",value:function(){var e=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/set-defender-role",{role:this.state.defender_role}).then((function(t){switch(t.data.status){case"DEFENDER_ROLE_SET":e.setState({loading:!1}),e.props.updateAuthToken();break;case"ERROR_WHILE_SETTING_DEFENDER_ROLE":e.setState({loading:!1}),alert("An error occurred while setting defender role. Please try again.");break;case"USER_NOT_FOUND":case"INVALID_DEFENDER_ROLE":default:e.setState({loading:!1,errors:t.data.errors})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetDefenderRoleAPI"},this.state.loading?r.a.createElement(f,null):r.a.createElement(H,{defender_role:this.state.defender_role,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),K=["SMOKE","MUTE","CASTLE","PULSE","DOC","ROOK","KAPKAN","TACHANKA","JAGER","BANDIT","FROST","VALKYRIE","CAVEIRA","ECHO","MIRA","LESION","ELA","VIGIL","MAESTRO","ALIBI","CLASH","KAID","MOZZIE","WARDEN","GOYO","WAMAI","ORYX","MELUSI"],G=function(e){var t=K.map((function(t,a){return r.a.createElement("div",{className:"defenders-form__defender",key:a},r.a.createElement("input",{onChange:function(){e.onChange(t)},className:"defenders-form__input "+(e.defenders.indexOf(t)>=0?"defenders-form__input--checked":""),type:"checkbox",id:"defenders-form__defender--"+t.toLowerCase(),checked:e.defenders.indexOf(t)>=0}),r.a.createElement("label",{className:"defenders-form__label",htmlFor:"defenders-form__defender--"+t.toLowerCase()},r.a.createElement("img",{className:"defenders-form__image",alt:t+" Image",src:"https://cdn.r6stats.com/badges/"+t.toLowerCase()+"_badge.png"})))}));return r.a.createElement("form",{className:"form",id:"set-defenders-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"defenders-field"},r.a.createElement("div",null,r.a.createElement("p",{className:"form__label"},"Preferred Defenders"),t,r.a.createElement("span",{className:"form__error"},e.errors?e.errors.defenders:""),r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Save"))))},q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!1,defenders:s.props.defenders},s}return Object(i.a)(a,[{key:"onChange",value:function(e){var t=this.state.defenders.indexOf(e);if(t<0)this.setState({defenders:[].concat(Object(M.a)(this.state.defenders),[e])});else{var a=Object(M.a)(this.state.defenders);a.splice(t,1),this.setState({defenders:a})}}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/set-defenders",{defenders:this.state.defenders}).then((function(e){switch(e.data.status){case"DEFENDERS_SET":t.setState({loading:!1}),t.props.updateAuthToken();break;case"ERROR_WHILE_SETTING_DEFENDERS":t.setState({loading:!1}),alert("An error occurred while setting preferred defenders. Please try again.");break;case"USER_NOT_FOUND":case"INVALID_DEFENDERS":default:t.setState({loading:!1,errors:e.data.errors}),alert("An error has occurred.")}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"SetDefendersAPI"},this.state.loading?r.a.createElement(f,null):r.a.createElement(G,{defenders:this.state.defenders,onChange:this.onChange,onSubmit:this.onSubmit,errors:this.state.errors}))}}]),a}(r.a.Component),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!1},s}return Object(i.a)(a,[{key:"onSubmit",value:function(){var e=this;if(window.confirm("Confirming this dialogue will permanently delete your account and all associated data including teams of which you are the sole member, editor, or admin. This cannot be undone.")){var t=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.delete("/api/users/delete").then((function(a){switch(a.data.status){case"USER_AND_TEAM_DELETED":t.setState({loading:!1}),alert("Your account and associated team have been deleted."),e.props.logout();break;case"USER_DELETED":t.setState({loading:!1}),alert("Your account has been deleted."),e.props.logout();break;case"ERROR_WHILE_DELETING_USER":t.setState({loading:!1}),alert("An error occurred while deleting account. Please try again.");break;default:t.setState({loading:!1}),alert("An unknown error has occurred. Please try logging in and trying again."),e.props.logout()}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"DeleteUserAPI"},this.state.loading?r.a.createElement(f,null):r.a.createElement("div",null,r.a.createElement("p",null,"Warning: this action is permanent and cannot be undone."),r.a.createElement("button",{id:"deleteAccount",className:"form__button form__button--submit",onClick:this.onSubmit},"Delete Account")))}}]),a}(r.a.Component),V=function(e){return r.a.createElement("div",{className:"page",id:"user"},r.a.createElement("p",{className:"user-property"},"Username: ",e.username),r.a.createElement("p",{className:"user-property"},"Email: ",e.email),r.a.createElement("p",{className:"user-property"},"Platform: ",e.platform),r.a.createElement("div",{className:"account-section"},r.a.createElement("h3",null,"Preferences"),r.a.createElement("div",{className:"role"},r.a.createElement(U,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,attacker_role:e.attacker_role}),r.a.createElement(F,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,defender_role:e.defender_role})),r.a.createElement("div",{className:"operators"},r.a.createElement(x,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,attackers:e.attackers}),r.a.createElement(q,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,defenders:e.defenders}))),r.a.createElement("div",{className:"account-section"},r.a.createElement("h3",null,"Account Information"),r.a.createElement(y,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,platform:e.platform}),r.a.createElement(R,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,username:e.username}),r.a.createElement(w,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,email:e.email}),r.a.createElement(j,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken})),r.a.createElement("div",{className:"account-section account-section--danger"},r.a.createElement("h3",null,"Manage Account"),r.a.createElement(W,{getAuthToken:e.getAuthToken,logout:e.logout})))},B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStats=s.fetchStats.bind(Object(c.a)(s)),s.state={stats:void 0,loading:!0,hasLoaded:!1},s}return Object(i.a)(a,[{key:"fetchStats",value:function(){var e=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/statistics/general").then((function(t){switch(t.data.status){case"GENERAL_STATS_FOUND":e.setState({loading:!1,hasLoaded:!0,stats:t.data.stats});break;case"USER_NOT_FOUND":default:e.setState({loading:!1,hasLoaded:!0})}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1,hasLoaded:!0})}))}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStats()}},{key:"render",value:function(){return r.a.createElement("div",{id:"GeneralStatisticsAPI"},r.a.createElement("h2",{className:"statistics-title"},"Overview"),this.state.loading?r.a.createElement(f,null):r.a.createElement("div",null,this.state.stats?r.a.createElement("div",{className:"statistics-container"},r.a.createElement("img",{className:"user-image",alt:"User Image",src:this.state.stats.avatar_url_256}),r.a.createElement("h3",{className:"stats-grid__heading"},"General"),r.a.createElement("div",{className:"stats-grid"},r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Progression"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement("p",{className:"stat__label"},"Level"),r.a.createElement("span",{className:"stat__value"},this.state.stats.progression.level)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Playtime"),r.a.createElement("span",{className:"stat__value"},Math.floor(this.state.stats.stats.general.playtime/3600)," Hrs")),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Games Played"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.games_played))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Personal Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement("p",{className:"stat__label"},"K/D"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.kd)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Kills"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.kills)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Deaths"),r.a.createElement("span",{className:"stat-__alue"},this.state.stats.stats.general.deaths)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Headshot %"),r.a.createElement("span",{className:"stat__value"},Math.round(this.state.stats.stats.general.headshots/this.state.stats.stats.general.kills*100),"%"))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Team Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement("p",{className:"stat__label"},"W/L"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.wl)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Wins"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.wins)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Losses"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.general.losses)))),r.a.createElement("h3",{className:"stats-grid-heading"},"Competitive"),r.a.createElement("div",{className:"stats-grid"},r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats__heading"},"Progression"),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Playtime"),r.a.createElement("span",{className:"stat__value"},Math.floor(this.state.stats.stats.queue.ranked.playtime/3600)," Hrs")),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Games Played"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.games_played))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats-heading"},"Personal Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement("p",{className:"stat__label"},"K/D"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.kd)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Kills"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.kills)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Deaths"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.deaths))),r.a.createElement("div",{className:"stats-box"},r.a.createElement("h4",{className:"stats-heading"},"Team Performance"),r.a.createElement("div",{className:"stat stat--main"},r.a.createElement("p",{className:"stat__label"},"W/L"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.wl)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Wins"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.wins)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Losses"),r.a.createElement("span",{className:"stat__value"},this.state.stats.stats.queue.ranked.losses))))):r.a.createElement("p",null,"Unable to load statistics. Make sure your username matches the account for the platform you signed up with.")))}}]),a}(r.a.Component),z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStats=s.fetchStats.bind(Object(c.a)(s)),s.state={stats:void 0,loading:!0,hasLoaded:!1},s}return Object(i.a)(a,[{key:"fetchStats",value:function(){var e=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/statistics/seasonal").then((function(t){switch(t.data.status){case"SEASONAL_STATS_FOUND":e.setState({loading:!1,hasLoaded:!0,stats:t.data.stats});break;case"USER_NOT_FOUND":default:e.setState({loading:!1,hasLoaded:!0})}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1,hasLoaded:!0})}))}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStats()}},{key:"render",value:function(){return r.a.createElement("div",{id:"SeasonalStatisticsAPI"},r.a.createElement("h2",{className:"statistics-title"},"Seasonal Performance"),this.state.loading?r.a.createElement(f,null):r.a.createElement("div",null,this.state.stats?r.a.createElement("div",{className:"statistics"},r.a.createElement("div",{className:"stat stat--main"},r.a.createElement("p",{className:"stat__label"},this.state.stats.seasons.shadow_legacy.regions.ncsa[0].mmr," MMR"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons.shadow_legacy.regions.ncsa[0].rank_text),r.a.createElement("p",{className:"stat__label stat__label--secondary"},"MMR Change: ",this.state.stats.seasons.shadow_legacy.regions.ncsa[0].last_match_mmr_change)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Kills"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons.shadow_legacy.regions.ncsa[0].kills),r.a.createElement("p",{className:"stat__label"},"Deaths"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons.shadow_legacy.regions.ncsa[0].deaths)),r.a.createElement("div",{className:"stat"},r.a.createElement("p",{className:"stat__label"},"Wins"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons.shadow_legacy.regions.ncsa[0].wins),r.a.createElement("p",{className:"stat__label"},"Losses"),r.a.createElement("h4",{className:"stat__value"},this.state.stats.seasons.shadow_legacy.regions.ncsa[0].losses))):r.a.createElement("p",null,"Unable to load statistics. Make sure your username matches the account for the platform you signed up with.")))}}]),a}(r.a.Component),X=function(e){return r.a.createElement("div",{className:"operator-statistics"},r.a.createElement("div",{className:"operator-info"},r.a.createElement("img",{className:"operator-info__image",alt:"Operator",src:e.image}),r.a.createElement("h3",{className:"operator-info__name"},e.name)),r.a.createElement("div",{className:"operator-stats"},r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"K/D"),r.a.createElement("span",{className:"operator-stats__value"},e.kd)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Kills"),r.a.createElement("span",{className:"operator-stats__value"},e.kills)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Deaths"),r.a.createElement("span",{className:"operator-stats__value"},e.deaths)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"W/L"),r.a.createElement("span",{className:"operator-stats__value"},e.wl)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Wins"),r.a.createElement("span",{className:"operator-stats__value"},e.wins)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Losses"),r.a.createElement("span",{className:"operator-stats__value"},e.losses)),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Playtime"),r.a.createElement("span",{className:"operator-stats__value"},Math.round(e.playtime/3600*100)/100," Hrs")),r.a.createElement("div",{className:"operator-stats__stat"},r.a.createElement("p",{className:"operator-stats__label"},"Headshot %"),r.a.createElement("span",{className:"operator-stats__value"},Math.round(100*e.hsp*100)/100,"%"))))},Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStats=s.fetchStats.bind(Object(c.a)(s)),s.sortOperators=s.sortOperators.bind(Object(c.a)(s)),s.searchOperators=s.searchOperators.bind(Object(c.a)(s)),s.state={stats:void 0,loading:!0,hasLoaded:!1,search:""},s}return Object(i.a)(a,[{key:"fetchStats",value:function(){var e=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/statistics/operators").then((function(t){switch(t.data.status){case"OPERATOR_STATS_FOUND":e.setState({loading:!1,hasLoaded:!0,stats:t.data.stats,operators:t.data.stats.operators});break;case"USER_NOT_FOUND":default:e.setState({loading:!1,hasLoaded:!0})}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1,hasLoaded:!0})}))}},{key:"sortOperators",value:function(e){var t=Object(M.a)(this.state.stats.operators);switch(e.target.id.toUpperCase()){case"RELEASE":t=t;break;case"NAME":t=t.sort((function(e,t){return e.name>t.name?1:-1}));break;case"KD":t=t.sort((function(e,t){return e.kd>t.kd?-1:1}));break;case"PLAYTIME":t=t.sort((function(e,t){return e.playtime>t.playtime?-1:1}))}this.setState({operators:t})}},{key:"searchOperators",value:function(e){e.preventDefault(),this.setState({search:e.target.value})}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStats()}},{key:"render",value:function(){var e=this,t=[];return this.state.stats&&this.state.operators.map((function(a,s){a.name.includes("Recruit")||""!==e.state.search&&!a.name.toUpperCase().includes(e.state.search.toUpperCase())||t.push(r.a.createElement(X,{image:a.badge_image,name:a.name,kd:Math.round(100*a.kd)/100,kills:a.kills,deaths:a.deaths,wl:Math.round(100*a.wl)/100,wins:a.wins,losses:a.losses,playtime:Math.round(100*a.playtime)/100,hsp:Math.round(a.headshots/a.kills*100)/100,key:s}))})),r.a.createElement("div",{id:"OperatorStatisticsAPI"},r.a.createElement("h2",{className:"statistics-title"},"Operators"),this.state.loading?r.a.createElement(f,null):r.a.createElement("div",null,this.state.stats?r.a.createElement("div",{className:"statistics"},r.a.createElement("input",{onChange:this.searchOperators,className:"form__input",value:this.state.search,placeholder:"Search By Name"}),r.a.createElement("button",{onClick:this.sortOperators,className:"statistics__button",id:"release"},"Sort By Release"),r.a.createElement("button",{onClick:this.sortOperators,className:"statistics__button",id:"name"},"Sort By Name"),r.a.createElement("button",{onClick:this.sortOperators,className:"statistics__button",id:"kd"},"Sort By KD"),r.a.createElement("button",{onClick:this.sortOperators,className:"statistics__button",id:"playtime"},"Sort By Playtime"),t):r.a.createElement("p",null,"Unable to load statistics. Make sure your username matches the account for the platform you signed up with.")))}}]),a}(r.a.Component),J=function(e){return r.a.createElement("div",{className:"page",id:"dashboard"},r.a.createElement(B,{getAuthToken:e.getAuthToken,alert:e.alert}),r.a.createElement(z,{getAuthToken:e.getAuthToken,alert:e.alert}),r.a.createElement(Z,{getAuthToken:e.getAuthToken,alert:e.alert}))},Q=function(e){return r.a.createElement("form",{className:"form",id:"create-team-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"name-field"},r.a.createElement("label",{className:"form__label",htmlFor:"name"},"Team Name"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.name?"":" form__input--error"),value:e.name,id:"name",type:"text",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.name:"")),e.loading?r.a.createElement(f,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Create Team"))},$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={name:"",errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.post("/api/teams/create-team",{name:this.state.name}).then((function(e){switch(e.data.status){case"TEAM_CREATED":a.setState({loading:!1}),alert("Success! Your team has been created."),t.props.updateAuthToken();break;case"ERROR_WHILE_CREATING_TEAM":a.setState({loading:!1,errors:{}}),alert("An error occurred while creating your team. Please try again.");break;case"USER_NOT_VERIFIED":a.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to create a team.");break;case"USER_HAS_TEAM":a.setState({loading:!1}),alert("You already have a team. You cannot create a team if you already belong to one.");break;case"INVALID_TEAM_INPUT":case"PROFANE_TEAM_INPUT":case"TEAM_ALREADY_EXISTS":default:a.setState({loading:!1,errors:e.data.errors,status:e.data.status})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"CreateTeamAPI"},r.a.createElement("h3",null,"Create a Team"),r.a.createElement(Q,{onSubmit:this.onSubmit,onChange:this.onChange,errors:this.state.errors,loading:this.state.loading,name:this.state.name}))}}]),a}(r.a.Component),ee=function(e){return r.a.createElement("form",{className:"form",id:"join-team-form",onSubmit:e.onSubmit},r.a.createElement("fieldset",{className:"form__fieldset",id:"join-code-field"},r.a.createElement("label",{className:"form__label",htmlFor:"join_code"},"Team Code"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.join_code?"":" form__input--error"),value:e.join_code,id:"join_code",type:"text",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.join_code:"")),e.loading?r.a.createElement(f,null):r.a.createElement("button",{className:"form__button form__button--submit",type:"submit"},"Join Team"))},te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={join_code:"",errors:{}},s}return Object(i.a)(a,[{key:"onChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/teams/join-team",{join_code:this.state.join_code}).then((function(e){switch(e.data.status){case"TEAM_JOINED":a.setState({loading:!1}),alert("Success! You have joined the team."),t.props.updateAuthToken();break;case"ERROR_WHILE_JOINING_TEAM":a.setState({loading:!1,errors:{}}),alert("An error occurred while joining the team. Please try again.");break;case"USER_NOT_VERIFIED":a.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to join a team.");break;case"USER_HAS_TEAM":a.setState({loading:!1}),alert("You already have a team. You cannot join a team if you already belong to one.");break;case"PLATFORM_DOES_NOT_MATCH":a.setState({loading:!1}),alert("The team you requested to join is for players that play on a different platform than you. Update your platform to join.");break;case"TEAM_DOES_NOT_EXIST":a.setState({loading:!1}),alert("The team you requested to join does not exist.");break;case"UNABLE_TO_JOIN_TEAM":a.setState({loading:!1}),alert("The attempt to join the team was unable to be completed.");break;case"INVALID_JOIN_CODE":default:a.setState({loading:!1,errors:e.data.errors,status:e.data.status})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"JoinTeamAPI"},r.a.createElement("h3",null,"Join a Team"),r.a.createElement(ee,{onSubmit:this.onSubmit,onChange:this.onChange,errors:this.state.errors,loading:this.state.loading,join_code:this.state.join_code}))}}]),a}(r.a.Component),ae=function(){return r.a.createElement("div",{className:"loading-modal"},"Loading...")},se=function(e){var t=e.attackers.map((function(e,t){return r.a.createElement("div",{className:"attacker",key:t},r.a.createElement("img",{className:"attacker__image",alt:e,src:"https://cdn.r6stats.com/badges/"+e.toLowerCase()+"_badge.png"}))})),a=e.defenders.map((function(e,t){return r.a.createElement("div",{className:"defender",key:t},r.a.createElement("img",{className:"defender__image",alt:e,src:"https://cdn.r6stats.com/badges/"+e.toLowerCase()+"_badge.png"}))}));return r.a.createElement("div",{className:"team-member"},r.a.createElement("h4",{className:"team-member__username"},e.username),r.a.createElement("p",{className:"team-member__status"},e.status),r.a.createElement("p",{className:"team-member__quality"},e.attacker_role),r.a.createElement("p",{className:"team-member__quality"},e.defender_role),t.length>0?r.a.createElement("div",{className:"attackers"},r.a.createElement("p",{className:"team-member__attackers"},"Preferred Attackers"),t):"",a.length>0?r.a.createElement("div",{className:"defenders"},r.a.createElement("p",{className:"team-member__defenders"},"Preferred Defenders"),a):"")},re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamData=s.fetchTeamData.bind(Object(c.a)(s)),s.state={team:{},loading:!0},s}return Object(i.a)(a,[{key:"fetchTeamData",value:function(){var e=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/teams/view-team").then((function(t){switch(t.data.status){case"TEAM_FOUND":e.setState({loading:!1,team:t.data.team});break;case"ERROR_WHILE_GETTING_TEAM":e.setState({loading:!1,team:{},error:!0});break;case"USER_NOT_VERIFIED":e.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to view team.");break;case"USER_HAS_NO_TEAM":e.setState({loading:!1}),alert("You do not have a team. You must have a team to view team.");break;case"TEAM_DOES_NOT_EXIST":e.setState({loading:!1}),alert("The team you requested to view does not exist.");break;case"USER_NOT_QUALIFIED":e.setState({loading:!1}),alert("You are not qualified to view the team you have requested.");break;default:e.setState({loading:!1,error:!0})}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.state.team.name||this.fetchTeamData()}},{key:"render",value:function(){var e;if(!this.state.loading)if(this.state.error)e=r.a.createElement("p",null,"An error occurred while fetching the team. Please try again in a bit.");else{var t=[],a=0;this.state.team.admins.map((function(e){t.push(r.a.createElement(se,{username:e.username,status:e.status,attacker_role:e.attacker_role,attackers:e.attackers,defender_role:e.defender_role,defenders:e.defenders,key:a++}))})),this.state.team.editors.map((function(e){t.push(r.a.createElement(se,{username:e.username,status:e.status,attacker_role:e.attacker_role,attackers:e.attackers,defender_role:e.defender_role,defenders:e.defenders,key:a++}))})),this.state.team.members.map((function(e){t.push(r.a.createElement(se,{username:e.username,status:e.status,attacker_role:e.attacker_role,attackers:e.attackers,defender_role:e.defender_role,defenders:e.defenders,key:a++}))})),e=r.a.createElement("div",{className:"team"},r.a.createElement("h2",{className:"team-name"},this.state.team.name),r.a.createElement("h3",{className:"team-description"},this.state.team.platform," - ",this.state.team.join_code),r.a.createElement("div",{className:"roster"},r.a.createElement("h3",null,"Roster"),r.a.createElement("div",{className:"team-member--accent"},r.a.createElement("h4",{className:"team-member__username"},"Username"),r.a.createElement("p",{className:"team-member__status"},"Status"),r.a.createElement("p",{className:"team-member__quality"},"Attacking Role"),r.a.createElement("p",{className:"team-member__quality"},"Defending Role")),t))}return r.a.createElement("div",{id:"ViewTeamAPI"},this.state.loading?r.a.createElement(ae,null):r.a.createElement("div",null,e))}}]),a}(r.a.Component),ne=function(e){return r.a.createElement("div",{className:"team-member-stats"},r.a.createElement("h4",{className:"team-member-stats__username"},e.username),r.a.createElement("p",{className:"team-member-stats__stat"},e.kd),r.a.createElement("p",{className:"team-member-stats__stat"},e.wl),r.a.createElement("p",{className:"team-member-stats__stat"},e.mmr),r.a.createElement("p",{className:"team-member-stats__stat"},e.mmrchange),r.a.createElement("p",{className:"team-member-stats__stat"},e.level))},oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamData=s.fetchTeamStats.bind(Object(c.a)(s)),s.state={stats:void 0,loading:!0},s}return Object(i.a)(a,[{key:"fetchTeamStats",value:function(){var e=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/statistics/team").then((function(t){switch(t.data.status){case"TEAM_STATS_FOUND":e.setState({loading:!1,stats:{team:t.data.team,kd:t.data.kd,wl:t.data.wl,mmr:t.data.mmr,mmrchange:t.data.mmrchange,level:t.data.level}});break;case"ERROR_WHILE_GETTING_TEAM_STATS":e.setState({loading:!1}),alert("An error occurred while getting team statistics.");break;case"USER_HAS_NO_TEAM":e.setState({loading:!1}),alert("You do not have a team. You must have a team to view statistics.");break;case"USER_HAS_NO_TEAM":e.setState({loading:!1}),alert("You do not have a team. You must have a team to view team.");break;case"TEAM_DOES_NOT_EXIST":e.setState({loading:!1}),alert("The team you requested to view does not exist.");break;default:e.setState({loading:!1,error:!0}),alert("An unknown error has occurred.")}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.state.stats||this.fetchTeamStats()}},{key:"render",value:function(){var e;if(!this.state.loading)if(this.state.error)e=r.a.createElement("p",null,"An error occurred while fetching the team statistics. Please try again in a bit.");else{var t=this.state.stats.team.map((function(e){return r.a.createElement(ne,{username:e.username,kd:e.kd,wl:e.wl,mmr:e.mmr,mmrchange:e.mmrchange,level:e.level})}));e=r.a.createElement("div",{className:"team-statistics"},r.a.createElement("h3",null,"Statistics"),r.a.createElement("div",{className:"overview"},r.a.createElement("p",{className:"overview-label"},"Team Performance"),r.a.createElement("p",{className:"team-stat"},r.a.createElement("span",{className:"stat-label"},"Avg K/D"),this.state.stats.kd),r.a.createElement("p",{className:"team-stat"},r.a.createElement("span",{className:"stat-label"},"Avg W/L"),this.state.stats.wl),r.a.createElement("p",{className:"team-stat"},r.a.createElement("span",{className:"stat-label"},"Avg MMR"),this.state.stats.mmr),r.a.createElement("p",{className:"team-stat"},r.a.createElement("span",{className:"stat-label"},"Avg MMR Change"),this.state.stats.mmrchange),r.a.createElement("p",{className:"team-stat"},r.a.createElement("span",{className:"stat-label"},"Avg Level"),this.state.stats.level)),r.a.createElement("div",{className:"member-statistics"},r.a.createElement("div",{className:"team-member-stats--accent"},r.a.createElement("h4",{className:"team-member-stats__username"},"Username"),r.a.createElement("p",{className:"team-member-stats__stat"},"K/D"),r.a.createElement("p",{className:"team-member-stats__stat"},"W/L"),r.a.createElement("p",{className:"team-member-stats__stat"},"MMR"),r.a.createElement("p",{className:"team-member-stats__stat"},"MMR Change"),r.a.createElement("p",{className:"team-member-stats__stat"},"Level")),t))}return r.a.createElement("div",{id:"ViewTeamStatisticsAPI"},this.state.loading?r.a.createElement(ae,null):r.a.createElement("div",null,e))}}]),a}(r.a.Component),le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!1},s}return Object(i.a)(a,[{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),window.confirm("Are you sure you want to leave the team?")){var a=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/teams/leave-team").then((function(e){switch(e.data.status){case"USER_LEFT_TEAM":a.setState({loading:!1}),alert("Success! You have left the team."),t.props.updateAuthToken();break;case"ERROR_WHILE_LEAVING_TEAM":a.setState({loading:!1,errors:{}}),alert("An error occurred while creating your team. Please try again.");break;case"USER_NOT_VERIFIED":a.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to leave a team.");break;case"USER_HAS_NO_TEAM":a.setState({loading:!1}),alert("You do not have a team. You must be a part of a team to leave.");break;case"USER_DOES_NOT_EXIST":a.setState({loading:!1}),alert("No user with your account exists.");break;case"TEAM_DOES_NOT_EXIST":a.setState({loading:!1}),alert("The team you requested to leave does not exist.");break;default:a.setState({loading:!1}),alert("An unknown error has occurred")}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly.")}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"LeaveTeamAPI"},r.a.createElement("button",{onClick:this.onSubmit,className:"form__button form__button--submit"},"Leave Team"))}}]),a}(r.a.Component),ie=function(e){return r.a.createElement("div",{className:"page",id:"team"},e.team_code?r.a.createElement("div",null,r.a.createElement(re,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken}),r.a.createElement(oe,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken}),r.a.createElement(le,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken})):r.a.createElement("div",null,r.a.createElement("h2",null,"You do not have a team"),"It appears that you do not belong to a team. In order to use all the features of Stratbook, make or join one here.",r.a.createElement($,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken,name:e.name}),r.a.createElement(te,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken})))},ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamName=s.fetchTeamName.bind(Object(c.a)(s)),s.onChange=s.onChange.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!0,currentName:"",newName:""},s}return Object(i.a)(a,[{key:"fetchTeamName",value:function(){var e=this;p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/teams/view-team").then((function(t){switch(t.data.status){case"TEAM_FOUND":e.setState({loading:!1,currentName:t.data.team.name});break;case"ERROR_WHILE_GETTING_TEAM":e.setState({loading:!1,team:{},error:!0});break;case"USER_NOT_VERIFIED":e.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to view team.");break;case"USER_HAS_NO_TEAM":e.setState({loading:!1}),alert("You do not have a team. You must have a team to view team.");break;case"TEAM_DOES_NOT_EXIST":e.setState({loading:!1}),alert("The team you requested to view does not exist.");break;case"USER_NOT_QUALIFIED":e.setState({loading:!1}),alert("You are not qualified to view the team you have requested.");break;default:e.setState({loading:!1,error:!0})}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1})}))}},{key:"onChange",value:function(e){this.setState({newName:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/teams/update-name",{name:this.state.newName}).then((function(e){switch(e.data.status){case"TEAM_NAME_UPDATED":t.setState({loading:!1,currentName:t.state.newName});break;case"ERROR_WHILE_UPDATING_TEAM_NAME":t.setState({loading:!1}),alert("An error occurred while updating the team name.");break;case"USER_NOT_VERIFIED":t.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to change the team name.");break;case"USER_HAS_NO_TEAM":t.setState({loading:!1}),alert("You do not have a team. You must have a team to change the team name.");break;case"TEAM_DOES_NOT_EXIST":t.setState({loading:!1}),alert("The team you requested to update does not exist.");break;case"USER_NOT_QUALIFIED":t.setState({loading:!1}),alert("You are not qualified to update the team name.");break;case"INVALID_TEAM_INPUT":case"PROFANE_TEAM_INPUT":default:t.setState({loading:!1}),alert("The name input is invalid or inappropriate.")}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly."),t.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.state.loading&&this.fetchTeamName()}},{key:"render",value:function(){return r.a.createElement("div",{id:"UpdateTeamNameAPI"},this.state.loading?r.a.createElement(f,null):r.a.createElement("div",null,r.a.createElement("h2",{className:"current-name"},"Current Name: ",this.state.currentName),r.a.createElement("div",{id:"update-name-group"},r.a.createElement("input",{className:"team-name-input",onChange:this.onChange,id:"newName",type:"text",value:this.state.newName,placeholder:this.state.currentName}),r.a.createElement("button",{className:"team-name-button",onClick:this.onSubmit},"Update Name"))))}}]),a}(r.a.Component),me=function(e){return r.a.createElement("div",{className:"manage-team-member"},r.a.createElement("h4",{className:"manage-team-member__username"},e.username),"ADMIN"===e.status?r.a.createElement("p",{className:"manage-team-member__status"},e.status):r.a.createElement("select",{className:"manage-team-member__input",onChange:function(t){e.updateUserStatus(e.username,t.target.value)}},r.a.createElement("option",null,"MEMBER"),r.a.createElement("option",null,"EDITOR"),r.a.createElement("option",null,"ADMIN")),"ADMIN"===e.status?"":r.a.createElement("button",{onClick:function(){e.blockUser(e.username)},className:"manage-team-member__button"},"Block User"))},ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchTeamData=s.fetchTeamData.bind(Object(c.a)(s)),s.updateUserStatus=s.updateUserStatus.bind(Object(c.a)(s)),s.blockUser=s.blockUser.bind(Object(c.a)(s)),s.state={team:{},loading:!0},s}return Object(i.a)(a,[{key:"fetchTeamData",value:function(){var e=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/teams/view-team").then((function(t){switch(t.data.status){case"TEAM_FOUND":e.setState({loading:!1,team:t.data.team});break;case"ERROR_WHILE_GETTING_TEAM":e.setState({loading:!1,team:{},error:!0});break;case"USER_NOT_VERIFIED":e.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to view team.");break;case"USER_HAS_NO_TEAM":e.setState({loading:!1}),alert("You do not have a team. You must have a team to view team.");break;case"TEAM_DOES_NOT_EXIST":e.setState({loading:!1}),alert("The team you requested to view does not exist.");break;case"USER_NOT_QUALIFIED":e.setState({loading:!1}),alert("You are not qualified to view the team you have requested.");break;default:e.setState({loading:!1,error:!0})}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.state.team.name||this.fetchTeamData()}},{key:"updateUserStatus",value:function(e,t){var a=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.patch("/api/users/update-user-status",{username:e,status:t}).then((function(e){switch(e.data.status){case"USER_STATUS_UPDATED":a.setState({loading:!1});break;case"ERROR_WHILE_UPDATING_USER_STATUS":a.setState({loading:!1}),alert("An error occurred while updating the user status.");break;case"USER_NOT_VERIFIED":a.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to update the status of a user.");break;case"USER_HAS_NO_TEAM":a.setState({loading:!1}),alert("You do not have a team. You must have a team to view team.");break;case"TEAM_DOES_NOT_EXIST":a.setState({loading:!1}),alert("The team you requested to view does not exist.");break;case"USER_NOT_QUALIFIED":a.setState({loading:!1}),alert("You are not qualified to update the status of a user.");break;case"USER_NOT_FOUND":a.setState({loading:!1}),alert("The user you requested to update does not exist.");break;case"PERMISSION_DENIED":a.setState({loading:!1}),alert("You do not have permission to update the status of this user.");break;case"USER_HAS_NO_TEAM":a.setState({loading:!1}),alert("The user you requested to update is not on a team.");break;case"INVALID_STATUS_INPUT":default:a.setState({loading:!1}),alert("The input was invalid for updating the user status.")}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly."),a.setState({loading:!1})}))}},{key:"blockUser",value:function(e){}},{key:"render",value:function(){var e=this,t=r.a.createElement(f,null);if(!this.state.loading)if(this.state.error)t=r.a.createElement("p",null,"An error occurred while fetching the team. Please try again in a bit.");else{var a=[],s=0;this.state.team.admins.map((function(t){a.push(r.a.createElement(me,{username:t.username,status:t.status,updateUserStatus:e.updateUserStatus,blockUser:e.blockUser,key:s++}))})),this.state.team.editors.map((function(t){a.push(r.a.createElement(me,{username:t.username,status:t.status,updateUserStatus:e.updateUserStatus,blockUser:e.blockUser,key:s++}))})),this.state.team.members.map((function(t){a.push(r.a.createElement(me,{username:t.username,status:t.status,updateUserStatus:e.updateUserStatus,blockUser:e.blockUser,key:s++}))})),t=r.a.createElement("div",{className:"team"},a)}return r.a.createElement("div",{id:"ManageTeamAPI"},this.state.loading?r.a.createElement(ae,null):r.a.createElement("div",null,t))}}]),a}(r.a.Component),de=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={loading:!1},s}return Object(i.a)(a,[{key:"onSubmit",value:function(e){if(e.preventDefault(),window.confirm("Deleting your team is a permanent action that cannot be undone. All data associated with this team will be purged from the Stratbook databases. Are you sure you want to do this?")){var t=this;p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.delete("/api/teams/delete-team").then((function(e){switch(e.data.status){case"TEAM_DELETED":alert("Success! Your team has been deleted."),t.setState({loading:!1}),t.props.updateAuthToken();break;case"ERROR_WHILE_DELETING_TEAM":alert("An error occurred while attempting to delete your team."),t.setState({loading:!1}),t.props.updateAuthToken();break;case"USER_NOT_VERIFIED":alert("You have not verified your account. You must verify your account in order to delete a team."),t.setState({loading:!1});break;case"USER_HAS_NO_TEAM":alert("You do not have a team. You must have a team to delete one."),t.setState({loading:!1});break;case"TEAM_DOES_NOT_EXIST":alert("The team you requested to delete does not exist."),t.setState({loading:!1});break;case"USER_NOT_QUALIFIED":alert("You are not qualified to delete the team."),t.setState({loading:!1});break;default:alert("The name input is invalid or inappropriate."),t.setState({loading:!1})}})).catch((function(e){console.log(e),alert("An error has occurred. Please try again shortly."),t.setState({loading:!1})}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"DeleteTeamAPI"},this.state.loading?r.a.createElement(f,null):r.a.createElement("button",{onClick:this.onSubmit,className:"form__button form__button--submit",id:"DeleteTeamAPI"},"Delete Team"))}}]),a}(r.a.Component),he=function(e){return r.a.createElement("div",{className:"page",id:"manage-team"},r.a.createElement(ce,{getAuthToken:e.getAuthToken}),r.a.createElement(ue,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken}),r.a.createElement(de,{getAuthToken:e.getAuthToken,updateAuthToken:e.updateAuthToken}))},Ee=function(e){return r.a.createElement("div",{className:"operator"},r.a.createElement("img",{className:"operator__image",src:"./media/"+e.operator.charAt(0)+e.operator.slice(1).toLowerCase()+".webp",alt:e.operator}),r.a.createElement("p",{className:"operator__name"},e.operator))},pe=function(e){var t=e.strategy.objectives.map((function(e,t){return r.a.createElement("li",{className:"strategy__objective",key:t},e)})),a=e.strategy.roles.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("p",{className:"strategy__role"},t),""!==e.strategy.operators[a]?r.a.createElement(Ee,{operator:e.strategy.operators[a]}):"")}));return r.a.createElement("div",{className:"strategy"},r.a.createElement("p",{className:"strategy__link",onClick:e.exitStrategy},"Back to Strategies"),r.a.createElement("h3",{className:"strategy__name"},e.strategy.name),r.a.createElement("h5",{className:"strategy__type"},e.strategy.type),r.a.createElement("h4",{className:"strategy__heading"},"Objectives"),r.a.createElement("ul",{className:"strategy__objectives"},t),r.a.createElement("h4",{className:"strategy__heading"},"Lineup"),r.a.createElement("div",{className:"strategy__lineup"},a),r.a.createElement("h4",{className:"strategy__heading"},"Execution"),r.a.createElement("p",{className:"strategy__text"},e.strategy.execution))},_e=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).fetchStrategies=s.fetchStrategies.bind(Object(c.a)(s)),s.selectStrategy=s.selectStrategy.bind(Object(c.a)(s)),s.exitStrategy=s.exitStrategy.bind(Object(c.a)(s)),s.onChange=s.onChange.bind(Object(c.a)(s)),s.state={strategies:[],index:0,loading:!0,hasLoaded:!1,listView:!0,search:""},s}return Object(i.a)(a,[{key:"selectStrategy",value:function(e){this.setState({index:e,listView:!1})}},{key:"exitStrategy",value:function(){this.setState({listView:!0})}},{key:"onChange",value:function(e){this.setState({search:e.target.value})}},{key:"fetchStrategies",value:function(){var e=this;this.setState({loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.get("/api/strategies/view").then((function(t){switch(t.data.status){case"STRATEGIES_FOUND":e.setState({loading:!1,hasLoaded:!0,strategies:t.data.strategies});break;case"ERROR_WHILE_GETTING_STRATEGIES":e.setState({loading:!1,error:!0});break;case"USER_NOT_VERIFIED":e.setState({loading:!1}),alert("You have not verified your account. You must verify your account in order to view strategies.");break;case"USER_HAS_NO_TEAM":e.setState({loading:!1}),alert("You do not have a team. You must have a team to view strategies.");break;case"TEAM_DOES_NOT_EXIST":e.setState({loading:!1}),alert("The team you requested to view strategies for does not exist.");break;case"USER_NOT_QUALIFIED":e.setState({loading:!1}),alert("You are not qualified to view the strategies you have requested.");break;default:e.setState({loading:!1,error:!0})}})).catch((function(t){console.log(t),alert("An error has occurred. Please try again shortly."),e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.state.hasLoaded||this.fetchStrategies()}},{key:"render",value:function(){var e,t=this;if(this.state.loading)e=r.a.createElement(ae,null);else if(this.props.team_code&&""!==this.props.team_code)if(this.state.strategies.length>0){var a=this.state.strategies.map((function(e,a){if(""===t.state.search||e.name.toUpperCase().includes(t.state.search.toUpperCase()))return r.a.createElement("div",{className:"strategy-preview",key:a},r.a.createElement("h3",{className:"strategy-preview-heading",onClick:function(){t.selectStrategy(a)}},e.name),r.a.createElement("p",{className:"strategy-preview-type"},e.type))}));e=this.state.listView?r.a.createElement("div",{className:"strategy-list"},r.a.createElement("input",{className:"strategy-search",onChange:this.onChange,value:this.state.search,type:"text",placeholder:"Search Strategies"}),a):r.a.createElement(pe,{strategy:this.state.strategies[this.state.index],exitStrategy:this.exitStrategy})}else e=r.a.createElement("p",null,"Your team does not currently have any strategies.");else e=r.a.createElement("p",null,"You do not belong to a team at this time. In order to view strategies, you must be a part of a team.");return r.a.createElement("div",{id:"ViewStrategiesAPI"},e)}}]),a}(r.a.Component),ge=function(e){return r.a.createElement("div",{className:"page",id:"strategies"},r.a.createElement(_e,{team_code:e.team_code,getAuthToken:e.getAuthToken}))},fe={"HARD BREACH":["ACE","HIBANA","MAVERICK","THERMITE"],"SOFT BREACH":["ASH","BUCK","SLEDGE","ZOFIA"],"ENTRY FRAG":["AMARU","ASH","BLITZ","FINKA","IANA","IQ","MONTAGNE","NOKK","TWITCH","ZOFIA"],"AREA DENIAL/FLANK WATCH":["CAPITAO","GRIDLOCK","NOMAD","ZERO"],INTEL:["DOKKAEBI","IANA","IQ","LION","MONTAGNE","TWITCH","ZERO"],"UTILITY CLEAR":["ASH","FUZE","KALI","MAVERICK","SLEDGE","THATCHER","TWITCH"],SUPPORT:["ACE","BLACKBEARD","CAPITAO","DOKKAEBI","FINKA","GLAZ","IANA","LION","MAVERICK","MONTAGNE","YING","ZERO"],"ROAM CLEAR":["DOKKAEBI","JACKAL","LION","NOKK","SLEDGE","TWITCH","ZOFIA"]},be=function(e){var t=fe[e.role].map((function(t,a){if(e.operators.indexOf(t)<0||e.operators.indexOf(t)===e.index)return r.a.createElement("option",{key:a},t.toUpperCase())}));return r.a.createElement("div",{className:"attacker-form"},r.a.createElement("select",{onChange:function(t){e.onChange(t,e.index)},className:"attacker-form__input form__input",value:e.operators[e.index],id:"attacker-form-".concat(e.index)},r.a.createElement("option",null,"ANY"),t),"ANY"!==e.operators[e.index]&&""!==e.operators[e.index]?r.a.createElement("img",{className:"attacker-form__image",alt:"Attacker",src:"../media/".concat(e.operators[e.index].toLowerCase(),".webp")}):"")},ve=function(e){var t=e.roles.map((function(t,a){return r.a.createElement("div",{className:"attacker-lineup-form__role",key:a},r.a.createElement("p",{className:"attacker-lineup-form__heading"},"Operator ",a+1),r.a.createElement("select",{onChange:function(t){e.onChange(t,a)},className:"attacker-lineup-form__input form__input",value:e.roles[a],id:"attacker-role-".concat(a)},r.a.createElement("option",null,"ANY"),r.a.createElement("option",null,"HARD BREACH"),r.a.createElement("option",null,"SOFT BREACH"),r.a.createElement("option",null,"ENTRY FRAG"),r.a.createElement("option",null,"AREA DENIAL/FLANK WATCH"),r.a.createElement("option",null,"INTEL"),r.a.createElement("option",null,"UTILITY CLEAR"),r.a.createElement("option",null,"SUPPORT"),r.a.createElement("option",null,"ROAM CLEAR")),"ANY"!==e.roles[a]?r.a.createElement(be,{onChange:e.onChange,operators:e.operators,role:e.roles[a],index:a}):"")}));return r.a.createElement("div",{className:"attacker-linup-form"},t)},Ne={"HARD BREACH DENIAL":["BANDIT","KAID","MUTE"],"INTEL DENIAL":["MOZZIE","MUTE","VIGIL"],INTEL:["ECHO","MAESTRO","MIRA","MOZZIE","PULSE","VALKYRIE"],"AREA DENIAL":["CLASH","GOYO","LESION","MELUSI","MIRA","SMOKE","TACHANKA"],TRAPS:["ELA","FROST","KAPKAN","LESION","MELUSI"],"UTILITY SOAK":["CASTLE","GOYO","JAGER","WAMAI"],SUPPORT:["CLASH","DOC","ECHO","GOYO","JAGER","MAESTRO","MIRA","PULSE","ROOK","TACHANKA","VALKYRIE","WARDEN"],ROAM:["ALIBI","BANDIT","CAVEIRA","ELA","JAGER","KAPKAN","LESION","MELUSI","MOZZIE","ORYX","VIGIL","WARDEN"]},Ae=function(e){var t=Ne[e.role].map((function(t,a){if(e.operators.indexOf(t)<0||e.operators.indexOf(t)===e.index)return r.a.createElement("option",{key:a},t.toUpperCase())}));return r.a.createElement("div",{className:"defender-form"},r.a.createElement("select",{onChange:function(t){e.onChange(t,e.index)},className:"defender-form__input form__input",value:e.operators[e.index],id:"defender-form-".concat(e.index)},r.a.createElement("option",null,"ANY"),t),"ANY"!==e.operators[e.index]&&""!==e.operators[e.index]?r.a.createElement("img",{className:"defender-form__image",alt:"Defender",src:"../media/".concat(e.operators[e.index].toLowerCase(),".webp")}):"")},Se=function(e){var t=e.roles.map((function(t,a){return r.a.createElement("div",{className:"defender-lineup-form__role",key:a},r.a.createElement("p",{className:"defender-lineup-form__heading"},"Operator ",a+1),r.a.createElement("select",{onChange:function(t){e.onChange(t,a)},className:"defender-lineup-form__input form__input",value:e.roles[a],id:"defender-role-".concat(a)},r.a.createElement("option",null,"ANY"),r.a.createElement("option",null,"HARD BREACH DENIAL"),r.a.createElement("option",null,"INTEL DENIAL"),r.a.createElement("option",null,"INTEL"),r.a.createElement("option",null,"AREA DENIAL"),r.a.createElement("option",null,"TRAPS"),r.a.createElement("option",null,"UTILITY SOAK"),r.a.createElement("option",null,"SUPPORT"),r.a.createElement("option",null,"ROAM")),"ANY"!==e.roles[a]?r.a.createElement(Ae,{onChange:e.onChange,operators:e.operators,role:e.roles[a],index:a}):"")}));return r.a.createElement("div",{className:"defender-linup-form"},t)},ke=function(e){var t=e.objectives.map((function(t,a){return r.a.createElement("li",{className:"objectives__item",key:a},r.a.createElement("span",{className:"objectives__value"},t),r.a.createElement("button",{onClick:function(){e.removeObjective(a)},className:"objectives__button"},"X"))}));return r.a.createElement("form",{className:"form",id:"create-strategy-form"},r.a.createElement("fieldset",{className:"form__fieldset",id:"name"},r.a.createElement("label",{className:"form__label",htmlFor:"name"},"Strategy Name"),r.a.createElement("input",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.name?"":" form__input--error"),value:e.name,id:"name",type:"text",required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.name:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"type"},r.a.createElement("label",{className:"form__label",htmlFor:"type"},"Type"),r.a.createElement("select",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.type?"":" form__input--error"),value:e.type,id:"type",required:!0},r.a.createElement("option",null,"ATTACK"),r.a.createElement("option",null,"DEFENSE")),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.type:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"objectives"},r.a.createElement("label",{className:"form__label"},"Objectives"),r.a.createElement("input",{onChange:e.onChange,onKeyPress:function(t){e.onKeyPress(t,e.getComponent())},className:"form__input"+(e.errors&&null==e.errors.objectives?"":" form__input--error"),value:e.newObjective,id:"newObjective",placeholder:"New Objective",required:!0}),r.a.createElement("ul",{className:"objectives"},t),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.objectives:"")),r.a.createElement("fieldset",{className:"form__fieldset",id:"lineup"},r.a.createElement("label",{className:"form__label"},"Lineup"),"ATTACK"===e.type?r.a.createElement(ve,{onChange:e.onChange,operators:e.operators,roles:e.roles}):r.a.createElement(Se,{onChange:e.onChange,operators:e.operators,roles:e.roles})),r.a.createElement("fieldset",{className:"form__fieldset"},r.a.createElement("label",{className:"form__label",htmlFor:"execution"},"Execution"),r.a.createElement("textarea",{onChange:e.onChange,className:"form__input"+(e.errors&&null==e.errors.execution?"":" form__input--error"),id:"execution",value:e.execution,required:!0}),r.a.createElement("span",{className:"form__error"},e.errors?e.errors.execution:"")),r.a.createElement("button",{onClick:e.onSubmit,className:"form__button form__button--submit",type:"button"},"Create"))},Te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(c.a)(s)),s.removeObjective=s.removeObjective.bind(Object(c.a)(s)),s.getComponent=s.getComponent.bind(Object(c.a)(s)),s.onSubmit=s.onSubmit.bind(Object(c.a)(s)),s.state={name:"",type:"ATTACK",newObjective:"",objectives:[],execution:"",roles:["ANY","ANY","ANY","ANY","ANY"],operators:["","","","",""],errors:{},loading:!1},s}return Object(i.a)(a,[{key:"onChange",value:function(e,t){if("objectives"!==e.target.id)if(e.target.id.includes("attacker-role")||e.target.id.includes("defender-role")){var a=Object(M.a)(this.state.roles),s=Object(M.a)(this.state.operators);a[t]=e.target.value,s[t]="",this.setState({roles:a,operators:s})}else if(e.target.id.includes("attacker-form")||e.target.id.includes("defender-form")){var r=Object(M.a)(this.state.operators);r[t]=e.target.value,this.setState({operators:r})}else if(e.target.id.includes("type")){var n;this.setState((n={},Object(g.a)(n,e.target.id,e.target.value),Object(g.a)(n,"roles",["ANY","ANY","ANY","ANY","ANY"]),Object(g.a)(n,"operators",[]),n))}else this.setState(Object(g.a)({},e.target.id,e.target.value))}},{key:"onKeyPress",value:function(e,t){if("Enter"===e.key){var a=Object(M.a)(t.state.objectives);a.push(t.state.newObjective),setTimeout((function(){t.setState({objectives:a,newObjective:""})}),100)}}},{key:"getComponent",value:function(){return this}},{key:"removeObjective",value:function(e){var t=Object(M.a)(this.state.objectives);t.splice(e,1),this.setState({objectives:t})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this;this.setState({errors:{},loading:!0}),p.a.defaults.headers.common.Authorization=this.props.getAuthToken(),p.a.post("/api/strategies/create",{strategy:{name:t.state.name,type:t.state.type,objectives:t.state.objectives,roles:t.state.roles,operators:t.state.operators,execution:t.state.execution}}).then((function(e){switch(e.data.status){case"STRATEGY_CREATED":t.setState({loading:!1}),alert("Success! Your team has been created.");break;default:t.setState({loading:!1,errors:e.data.errors}),t.props.alert(e.data.message)}})).catch((function(e){console.log(e),t.props.alert("An error has occurred. Please try again shortly.")}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"CreateStrategiesAPI"},r.a.createElement("h3",null,"Create a Strategy"),this.state.loading?r.a.createElement(f,null):r.a.createElement(ke,{onChange:this.onChange,onSubmit:this.onSubmit,name:this.state.name,type:this.state.type,newObjective:this.state.newObjective,objectives:this.state.objectives,removeObjective:this.removeObjective,onKeyPress:this.onKeyPress,getComponent:this.getComponent,execution:this.state.execution,roles:this.state.roles,operators:this.state.operators,errors:this.state.errors}))}}]),a}(r.a.Component),Oe=function(e){return r.a.createElement("div",{className:"page",id:"manage-team"},r.a.createElement(Te,{getAuthToken:e.getAuthToken,alert:e.alert}))},ye=function(){return r.a.createElement("div",{className:"page",id:"not-found"},"The route you requested could not be found.")},Ie=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).toggleDropdown=s.toggleDropdown.bind(Object(c.a)(s)),s.state={active:!1},s}return Object(i.a)(a,[{key:"toggleDropdown",value:function(){this.setState({active:!this.state.active})}},{key:"render",value:function(){return r.a.createElement("div",{className:"user-dropdown "+(this.state.active?"user-dropdown--active":"user-dropdown--inactive")},r.a.createElement("img",{className:"user-dropdown__icon",onClick:this.toggleDropdown,alt:"User Icon",src:"../media/User Icon.png"}),r.a.createElement("div",{className:"user-dropdown__body"},r.a.createElement("span",{id:"user-dropdown-title"},this.props.username),r.a.createElement(d.b,{onClick:this.toggleDropdown,className:"user-dropdown__link",to:"/user"},"Account"),r.a.createElement(d.b,{onClick:this.toggleDropdown,className:"user-dropdown__link",to:"/logout"},"Logout")))}}]),a}(r.a.Component),Re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).toggleMenu=s.toggleMenu.bind(Object(c.a)(s)),s.state={active:!1,loggedIn:s.props.loggedIn},s}return Object(i.a)(a,[{key:"toggleMenu",value:function(){this.setState({active:!this.state.active,loggedIn:this.props.loggedIn})}},{key:"componentDidUpdate",value:function(e){this.props.loggedIn!==e.loggedIn&&this.setState({loggedIn:this.props.loggedIn})}},{key:"render",value:function(){return r.a.createElement("nav",{className:"nav "+(this.state.active?"nav--active":"nav--inactive")},r.a.createElement("h3",{className:"nav__heading"},"R6 Stratbook"),r.a.createElement("ul",{className:"nav__body"},r.a.createElement("li",{className:"nav__item"},r.a.createElement(d.b,{onClick:this.toggleMenu,className:"nav__link",to:"/"},"Home")),this.state.loggedIn?"":r.a.createElement("li",{className:"nav__item"},r.a.createElement(d.b,{onClick:this.toggleMenu,className:"nav__link",to:"/login"},"Login")),this.state.loggedIn?"":r.a.createElement("li",{className:"nav__item"},r.a.createElement(d.b,{onClick:this.toggleMenu,className:"nav__link",to:"/register"},"Register")),this.state.loggedIn?r.a.createElement(Ie,{username:this.props.username}):""),r.a.createElement("button",{className:"nav__button",onClick:this.toggleMenu}))}}]),a}(r.a.Component),Ce=function(e){var t;switch(e.page){case"TEAM":t=r.a.createElement("ul",{className:"main-nav__body"},r.a.createElement("li",{className:"main-nav__item"},r.a.createElement(d.b,{className:"main-nav__link "+("VIEW"===e.active?"main-nav__link--active":""),to:"/team"},"View")),"ADMIN"===e.status?r.a.createElement("li",{className:"main-nav__item"},r.a.createElement(d.b,{className:"main-nav__link "+("MANAGE"===e.active?"main-nav__link--active":""),to:"/team/manage"},"Manage")):"");break;case"STRATEGIES":t=r.a.createElement("ul",{className:"main-nav__body"},r.a.createElement("li",{className:"main-nav__item"},r.a.createElement(d.b,{className:"main-nav__link "+("VIEW"===e.active?"main-nav__link--active":""),to:"/strategies"},"View")),"ADMIN"===e.status||"EDITOR"===e.status?r.a.createElement("li",{className:"main-nav__item"},r.a.createElement(d.b,{className:"main-nav__link "+("EDIT"===e.active?"main-nav__link--active":""),to:"/strategies/edit"},"Edit")):"");break;case"MAPS":t=r.a.createElement("ul",{className:"main-nav__body"},r.a.createElement("li",{className:"main-nav__item"},r.a.createElement(d.b,{className:"main-nav__link "+("VIEW"===e.active?"main-nav__link--active":""),to:"/maps"},"View")),"ADMIN"===e.status||"EDITOR"===e.status?r.a.createElement("li",{className:"main-nav__item"},r.a.createElement(d.b,{className:"main-nav__link "+("EDIT"===e.active?"main-nav__link--active":""),to:"/maps/edit"},"Edit")):"");break;case"USER":case"DASHBOARD":case"CHAT":case"META":default:t=""}return r.a.createElement("nav",{className:"main-nav"},r.a.createElement("ul",{className:"main-nav__head"},r.a.createElement("li",{className:"main-nav__item "+("DASHBOARD"===e.page?"main-nav__item--active":"")},r.a.createElement(d.b,{className:"main-nav__link",to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"main-nav__item "+("TEAM"===e.page?"main-nav__item--active":"")},r.a.createElement(d.b,{className:"main-nav__link",to:"/team"},"Team")),e.status?r.a.createElement("li",{className:"main-nav__item "+("STRATEGIES"===e.page?"main-nav__item--active":"")},r.a.createElement(d.b,{className:"main-nav__link",to:"/strategies"},"Strategies")):"",e.status?r.a.createElement("li",{className:"main-nav__item "+("MAPS"===e.page?"main-nav__item--active":"")},r.a.createElement(d.b,{className:"main-nav__link",to:"/maps"},"Maps")):"",e.status?r.a.createElement("li",{className:"main-nav__item "+("CHAT"===e.page?"main-nav__item--active":"")},r.a.createElement(d.b,{className:"main-nav__link",to:"/chat"},"Chat")):"",r.a.createElement("li",{className:"main-nav__item "+("META"===e.page?"main-nav__item--active":"")},r.a.createElement(d.b,{className:"main-nav__link",to:"/meta"},"Meta"))),t)},we=function(e){return r.a.createElement("header",{className:"header",style:{background:"url('media/Header Background.jpg')",backgroundSize:"cover",backgroundPosition:"center"}},r.a.createElement("div",{className:"header__overlay"},r.a.createElement("h1",{className:"header__title"},e.title),r.a.createElement("h2",{className:"header__subtitle"},e.subtitle)))},De=function(){return r.a.createElement("footer",{className:"footer"},"This is a footer.")},je=(a(60),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).login=s.login.bind(Object(c.a)(s)),s.logout=s.logout.bind(Object(c.a)(s)),s.updateState=s.updateState.bind(Object(c.a)(s)),s.setLocalStorage=s.setLocalStorage.bind(Object(c.a)(s)),s.clearLocalStorage=s.clearLocalStorage.bind(Object(c.a)(s)),s.getAuthToken=s.getAuthToken.bind(Object(c.a)(s)),s.updateAuthToken=s.updateAuthToken.bind(Object(c.a)(s)),s.alert=s.alert.bind(Object(c.a)(s)),s.state={loggedIn:Date.now()<new Date(localStorage.getItem("expires")),user:JSON.parse(localStorage.getItem("user"))},s}return Object(i.a)(a,[{key:"login",value:function(e,t,a){this.setLocalStorage(e,t,a,this.updateState),p.a.defaults.headers.common.Authorization=this.state.token}},{key:"logout",value:function(){this.clearLocalStorage(),p.a.defaults.headers.common.Authorization=null,this.updateState()}},{key:"updateState",value:function(){this.setState({loggedIn:Date.now()<new Date(localStorage.getItem("expires")),user:JSON.parse(localStorage.getItem("user"))})}},{key:"setLocalStorage",value:function(e,t,a,s){localStorage.setItem("token",e),localStorage.setItem("expires",new Date(Date.now()+t).toDateString()),localStorage.setItem("user",JSON.stringify(a)),s()}},{key:"clearLocalStorage",value:function(){localStorage.clear()}},{key:"getAuthToken",value:function(){return localStorage.getItem("token")}},{key:"updateAuthToken",value:function(){var e=this;this.state.loggedIn&&(p.a.defaults.headers.common.Authorization=localStorage.getItem("token"),p.a.get("/api/users/update-token").then((function(t){switch(t.data.status){case"TOKEN_UPDATED":var a=t.data.user;e.login(t.data.token,t.data.expiresIn,a);break;default:e.alert("An error has occurred.")}})).catch((function(t){console.log(t),e.alert("Your login has expired or become invalid."),e.logout()})))}},{key:"alert",value:function(e){console.log(e)}},{key:"componentDidMount",value:function(){this.updateAuthToken()}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(Re,{loggedIn:this.state.loggedIn,username:this.state.user?this.state.user.username:""}),r.a.createElement(h.d,null,"/* / */",r.a.createElement(h.b,{exact:!0,path:"/"},this.state.loggedIn?r.a.createElement(h.a,{to:"/dashboard"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Home",subtitle:"Subtitle"}),r.a.createElement(_,null))),"/* /user */",r.a.createElement(h.b,{exact:!0,path:"/user"},this.state.loggedIn?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Account"}),r.a.createElement(Ce,{page:"USER",status:this.state.user.status}),r.a.createElement(V,{getAuthToken:this.getAuthToken,updateAuthToken:this.updateAuthToken,logout:this.logout,username:this.state.user.username,email:this.state.user.email,platform:this.state.user.platform,attacker_role:this.state.user.attacker_role,attackers:this.state.user.attackers,defenders:this.state.user.defenders,defender_role:this.state.user.defender_role,alert:this.alert})):r.a.createElement(h.a,{to:"/"})),"/* /dashboard */",r.a.createElement(h.b,{exact:!0,path:"/dashboard"},this.state.loggedIn?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Dashboard"}),r.a.createElement(Ce,{page:"DASHBOARD",status:this.state.user.status}),r.a.createElement(J,{getAuthToken:this.getAuthToken,alert:this.alert})):r.a.createElement(h.a,{to:"/"})),"/* /team */",r.a.createElement(h.b,{exact:!0,path:"/team"},this.state.loggedIn?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Team",subtitle:"View Team"}),r.a.createElement(Ce,{page:"TEAM",active:"VIEW",status:this.state.user.status}),r.a.createElement(ie,{getAuthToken:this.getAuthToken,updateAuthToken:this.updateAuthToken,team_code:this.state.user.team_code,alert:this.alert})):r.a.createElement(h.a,{to:"/"})),"/* /team/manage */",r.a.createElement(h.b,{exact:!0,path:"/team/manage"},this.state.loggedIn&&"ADMIN"===this.state.user.status?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Team",subtitle:"Manage Team"}),r.a.createElement(Ce,{page:"TEAM",active:"MANAGE",status:this.state.user.status}),r.a.createElement(he,{getAuthToken:this.getAuthToken,updateAuthToken:this.updateAuthToken,alert:this.alert})):r.a.createElement(h.a,{to:"/team"})),"/* /strategies */",r.a.createElement(h.b,{exact:!0,path:"/strategies"},this.state.loggedIn&&this.state.user.team_code?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Strategies",subtitle:"View Strategies"}),r.a.createElement(Ce,{page:"STRATEGIES",active:"VIEW",status:this.state.user.status}),r.a.createElement(ge,{team_code:this.state.user.team_code,getAuthToken:this.getAuthToken,alert:this.alert})):r.a.createElement(h.a,{to:"/"})),"/* /strategies/edit */",r.a.createElement(h.b,{exact:!0,path:"/strategies/edit"},!this.state.loggedIn||"ADMIN"!==this.state.user.status&&"EDITOR"!==this.state.user.status?r.a.createElement(h.a,{to:"/strategies"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Strategies",subtitle:"View Strategies"}),r.a.createElement(Ce,{page:"STRATEGIES",active:"EDIT",status:this.state.user.status}),r.a.createElement(Oe,{getAuthToken:this.getAuthToken,alert:this.alert}))),"/* /maps */",r.a.createElement(h.b,{exact:!0,path:"/maps"},this.state.loggedIn&&this.state.user.team_code?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Maps",subtitle:"View Maps"}),r.a.createElement(Ce,{page:"MAPS",active:"VIEW",status:this.state.user.status})):r.a.createElement(h.a,{to:"/"})),"/* /maps/edit */",r.a.createElement(h.b,{exact:!0,path:"/maps/edit"},!this.state.loggedIn||"ADMIN"!==this.state.user.status&&"EDITOR"!==this.state.user.status?r.a.createElement(h.a,{to:"/maps"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Maps",subtitle:"Edit Maps"}),r.a.createElement(Ce,{page:"MAPS",active:"EDIT",status:this.state.user.status}))),"/* /chat */",r.a.createElement(h.b,{exact:!0,path:"/chat"},this.state.loggedIn&&this.state.user.team_code?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Chat"}),r.a.createElement(Ce,{page:"CHAT",status:this.state.user.status})):r.a.createElement(h.a,{to:"/"})),"/* /meta */",r.a.createElement(h.b,{exact:!0,path:"/meta"},this.state.loggedIn?r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Meta"}),r.a.createElement(Ce,{page:"META",user:this.state.user.status})):r.a.createElement(h.a,{to:"/"})),"/* /login */",r.a.createElement(h.b,{exact:!0,path:"/login"},this.state.loggedIn?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Login"}),r.a.createElement(N,{login:this.login,alert:this.alert}))),"/* /logout */",r.a.createElement(h.b,{exact:!0,path:"/logout"},this.state.loggedIn?r.a.createElement(A,{logout:this.logout}):r.a.createElement(h.a,{to:"/"})),"/* /register */",r.a.createElement(h.b,{exact:!0,path:"/register"},this.state.loggedIn?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Register"}),r.a.createElement(T,{alert:this.alert}))),"/* /* */",r.a.createElement(h.b,null,r.a.createElement("div",{className:"page-wrapper"},r.a.createElement(we,{title:"Error: 404"}),r.a.createElement(ye,null)))),r.a.createElement(De,null)))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.be23d6b4.chunk.js.map