{"version":3,"sources":["messages/messages.js","messages/emails.js","data.js","components/partials/Header.js","components/pages/Home.js","components/partials/Loading.js","components/partials/LoginForm.js","components/api/LoginAPI.js","components/pages/Login.js","components/pages/Logout.js","components/partials/RegisterForm.js","components/api/RegisterAPI.js","components/pages/Register.js","components/partials/UpdatePlatformForm.js","components/api/UpdatePlatformAPI.js","components/partials/UpdateUsernameForm.js","components/api/UpdateUsernameAPI.js","components/partials/UpdateEmailForm.js","components/api/UpdateEmailAPI.js","components/partials/UpdatePasswordForm.js","components/api/UpdatePasswordAPI.js","components/partials/AttackerRoleForm.js","components/api/SetAttackerRoleAPI.js","components/partials/AttackersForm.js","components/api/SetAttackersAPI.js","components/partials/DefenderRoleForm.js","components/api/SetDefenderRoleAPI.js","components/partials/DefendersForm.js","components/api/SetDefendersAPI.js","components/api/PushNotificationsAPI.js","components/api/DeleteUserAPI.js","components/pages/User.js","components/partials/ProgressCircle.js","components/api/GeneralStatisticsAPI.js","components/api/SeasonalStatisticsAPI.js","components/partials/OperatorStatistics.js","components/api/OperatorStatisticsAPI.js","components/pages/Dashboard.js","components/partials/CreateTeamForm.js","components/api/CreateTeamAPI.js","components/partials/JoinTeamForm.js","components/api/JoinTeamAPI.js","components/partials/ErrorLoading.js","components/partials/TeamMember.js","components/api/ViewTeamAPI.js","components/partials/TeamMemberStats.js","components/api/ViewTeamStatisticsAPI.js","components/api/LeaveTeamAPI.js","components/pages/Team.js","components/api/UpdateTeamNameAPI.js","components/api/TeamAnnouncementAPI.js","components/partials/ManageTeamMember.js","components/api/ManageTeamAPI.js","components/api/DeleteTeamAPI.js","components/api/BlockedUsersAPI.js","components/pages/ManageTeam.js","components/partials/ViewerToolbar.js","components/partials/ViewerSidebar.js","components/partials/FloorSelector.js","components/partials/ZoomSelector.js","components/partials/Pagination.js","components/partials/ViewerDragItem.js","components/partials/ViewerPositionOverlay.js","components/partials/ViewerBlueprintForm.js","components/partials/ViewerObjectives.js","components/partials/ViewerCanvas.js","components/partials/ViewerLineup.js","components/partials/Viewer.js","components/partials/LoadingModal.js","components/api/ViewStrategiesAPI.js","components/pages/Strategies.js","components/api/CreateStrategiesAPI.js","components/partials/Toolbar.js","components/partials/Toggle.js","components/partials/Sidebar.js","components/partials/DragItem.js","components/partials/PositionOverlay.js","components/partials/BlueprintForm.js","components/partials/Objectives.js","components/partials/Canvas.js","components/partials/Lineup.js","components/partials/Editor.js","components/api/EditStrategiesAPI.js","components/pages/EditStrategies.js","components/partials/SharedViewerToolbar.js","components/partials/SharedViewerSidebar.js","components/partials/SharedViewerCanvas.js","components/partials/SharedViewerLineup.js","components/partials/SharedViewer.js","components/api/SharedStrategiesAPI.js","components/pages/SharedStrategies.js","components/pages/NotFound.js","components/partials/ForgotPasswordForm.js","components/api/ForgotPasswordAPI.js","components/pages/ForgotPassword.js","components/partials/ResetPasswordForm.js","components/api/ResetPasswordAPI.js","components/pages/ResetPassword.js","components/partials/UserDropdown.js","components/partials/Navigation.js","components/partials/Alert.js","components/partials/Footer.js","App.js","serviceWorker.js","index.js","messages/errors.js"],"names":["module","exports","ANNOUNCEMENT_SENT","status","message","ATTACKER_ROLE_SET","ATTACKERS_SET","BLOCKED_USERS_FOUND","CANNOT_REMOVE_SELF","DEFENDER_ROLE_SET","DEFENDERS_SET","EXISTING_USER","GENERAL_STATS_FOUND","INCORRECT_PASSWORD","INVALID_ANNOUNCEMENT","INVALID_ATTACKER_ROLE","INVALID_ATTACKERS","INVALID_BLOCK_USER_INPUT","INVALID_DEFENDER_ROLE","INVALID_DEFENDERS","INVALID_EMAIL","INVALID_JOIN_CODE","INVALID_LOGIN","INVALID_MMR","INVALID_PASSWORD_INPUT","INVALID_REGISTRATION","INVALID_RESET_TOKEN","INVALID_PLATFORM","INVALID_STATUS_INPUT","INVALID_TEAM_INPUT","INVALID_TEAM_PLATFORM","INVALID_TEAM_STATUS","INVALID_USERNAME","MAP_ADDED","MAP_DELETED","MAP_DOES_NOT_EXIST","MAP_EXISTS","MAP_FOUND","MAP_NOT_FOUND","MAP_UPDATED","OPERATOR_STATS_FOUND","PASSWORD_RESET_LINK_SENT","PERMISSION_DENIED","PLATFORM_DOES_NOT_MATCH","PROFANE_INPUT","PROFANE_TEAM_INPUT","PUSH_SUBSCRIBE","SEASONAL_STATS_FOUND","SHARED_STRATEGY_FOUND","SHARED_STRATEGY_NOT_FOUND","STRATEGIES_FOUND","STRATEGY_SHARED","STRATEGY_UNSHARED","TEAM_CREATED","TEAM_DELETED","TEAM_EXISTS","TEAM_FOUND","TEAM_JOINED","TEAM_LEFT","TEAM_MMR_UPDATED","TEAM_NAME_UPDATED","TEAM_NOT_FOUND","TEAM_PLATFORM_UPDATED","TEAM_STATS_FOUND","TOKEN_ISSUED","USER_AND_TEAM_DELETED","USER_BLOCKED","USER_UNBLOCKED","USER_DELETED","USER_HAS_NO_TEAM","USER_HAS_TEAM","USER_NOT_FOUND","errors","email","USER_NOT_VERIFIED","ANNOUNCEMENT","body","email_body","EMAIL_UPDATED","PASSWORD_RESET","PASSWORD_UPDATED","PLATFORM_UPDATED","TEAM_DISBANDED","TEAM_STATUS_UPDATED","USER_JOINED_TEAM","USER_LEFT_TEAM","USER_REGISTERED","USER_STATUS_UPDATED","USERNAME_UPDATED","VERIFY_ACCOUNT","MAP_NAMES","SITES","FLOORS","GADGETS","gadget","count","ATTACKER_ROLES","ATTACKER_OPERATORS","ATTACKERS","DEFENDER_ROLES","DEFENDER_OPERATORS","DEFENDERS","MAPS","UTILITY","attack","defense","UTILITY_GUIDE","CURRENT_SEASON","RANKS","MMR_THRESHOLDS","0","2300","2400","2500","2600","2800","3000","3200","3600","4000","4400","CANVAS_WIDTH","CANVAS_HEIGHT","Header","props","className","style","background","backgroundSize","backgroundPosition","title","subtitle","Home","id","Loading","viewBox","cx","cy","r","fill","strokeWidth","strokeMiterlimit","LoginForm","onSubmit","htmlFor","onChange","value","type","required","user","password","to","loading","LoginAPI","bind","state","e","this","setState","target","preventDefault","component","axios","post","then","response","data","login","token","expiresIn","alert","catch","error","console","log","ERROR_LOGIN","React","Component","Login","Logout","logout","RegisterForm","username","platform","password1","password2","RegisterAPI","redirect","ERROR_REGISTER","platform2","Register","UpdatePlatformForm","UpdatePlatformAPI","defaults","headers","common","getAuthToken","patch","updateAuthToken","ERROR_PLATFORM","UpdateUsernameForm","UpdateUsernameAPI","ERROR_USERNAME","UpdateEmailForm","UpdateEmailAPI","ERROR_EMAIL","UpdatePasswordForm","UpdatePasswordAPI","ERROR_UPDATE_PASSWORD","AttackerRoleForm","role","attacker_role","SetAttackerRoleAPI","ERROR_ATTACKER_ROLE","AttackersForm","attacker_buttons","map","attacker","index","key","attackers","indexOf","toLowerCase","checked","alt","src","SetAttackersAPI","new_attackers","splice","ERROR_ATTACKERS","DefenderRoleForm","defender_role","SetDefenderRoleAPI","ERROR_DEFENDER_ROLE","DefendersForm","defender_buttons","defender","defenders","SetDefendersAPI","new_defenders","ERROR_DEFENDERS","config","PushNotificationsAPI","urlBase64ToUint8Array","sendSubscription","subscribeUser","base64String","base64","repeat","length","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","subscription","JSON","stringify","ERROR_PUSH","navigator","serviceWorker","ready","registration","pushManager","Notification","requestPermission","permission","getSubscription","existedSubscription","subscribe","applicationServerKey","process","userVisibleOnly","newSubscription","onClick","DeleteUserAPI","confirm","delete","ERROR_DELETE_USER","User","ProgressCircle","counted","counter","setInterval","label","Math","floor","GeneralStatisticsAPI","fetchStats","stats","undefined","hasLoaded","get","avatar_url_256","progression","level","general","playtime","games_played","kd","kills","deaths","round","headshots","wl","wins","losses","queue","ranked","SeasonalStatisticsAPI","season_arr","split","season","charAt","toUpperCase","slice","seasons","regions","ncsa","rank_text","mmr","last_match_mmr_change","OperatorStatistics","image","name","hsp","OperatorStatisticsAPI","sortOperators","searchOperators","toggleRows","search","rows","operators","sort","a","b","operator","includes","clean","push","placeholder","Dashboard","CreateTeamForm","CreateTeamAPI","ERROR_CREATE_TEAM","JoinTeamForm","join_code","JoinTeamAPI","ERROR_JOIN_TEAM","ErrorLoading","rel","href","TeamMember","normalize","ViewTeamAPI","fetchTeamData","team","team_data","ERROR_VIEW_TEAM","contents","teamMembers","admins","admin","editors","editor","members","member","TeamMemberStats","mmrchange","ViewTeamStatisticsAPI","fetchTeamStats","ERROR_TEAM_STATS","LeaveTeamAPI","ERROR_LEAVE_TEAM","Team","team_code","UpdateTeamNameAPI","fetchTeamName","currentName","newName","ERROR_UPDATE_TEAM_NAME","TeamAnnouncementAPI","announcement","ERROR_ANNOUNCE","ManageTeamMember","updateUserStatus","blockUser","ManageTeamAPI","updateTeamStatus","changeTeamPlatform","changeTeamMMR","open","ERROR_TEAM","ERROR_UPDATE_USER_STATUS","setTimeout","location","reload","ERROR_BLOCK_USER","ERROR_UPDATE_TEAM_STATUS","ERROR_UPDATE_TEAM_PLATFORM","ERROR_UPDATE_TEAM_MMR","forEach","DeleteTeamAPI","ERROR_DELETE_TEAM","BlockedUsersAPI","fetchBlockedUsers","unblockUser","blocked_users","ERROR_VIEW_BLOCKED_USERS","_id","ManageTeam","ViewerToolbar","toggleStrategyNavigation","strategy","nav","prevProps","prevState","active","sites","site","selectSite","siteIndex","strategies","strat","selectStrategy","strategyIndex","changeName","insertDrone","drones","insertBreach","breaches","insertReinforcement","reinforcements","insertRotate","rotates","fetchStrategies","updateType","ViewerSidebar","toggleSidebar","showSidebar","scenes","scene","sceneIndex","selectScene","shared","protocol","host","shared_key","temp","document","createElement","appendChild","select","setSelectionRange","execCommand","removeChild","FloorSelector","options","floors","ZoomSelector","zoom","min","max","step","Pagination","activeLabel","labels","ViewerDragItem","drag","x","y","top","left","backgroundImage","url","selected","data-type","ViewerPositionOverlay","onDrag","onDragTouch","detectChange","innerSelector","createRef","operatorPositions","gadgetPositions","utilityPositions","parse","onDragStart","t","bool","bounds","current","getBoundingClientRect","newBounds","pageYOffset","pageXOffset","width","height","offsetX","offsetY","pos","floorIndex","selectElement","utility","u","uindex","gi","gadgets","g","gindex","ref","onMouseDown","onTouchStart","ViewerBlueprintForm","onDragStop","selector","startX","clientX","startY","clientY","move","addEventListener","touches","isMobile","xLowerBound","xUpperBound","yLowerBound","yUpperBound","mobileOffset","removeEventListener","abs","transform","parseFloat","ViewerObjectives","newObj","objectives","obj","notes","video","ViewerCanvas","updateZoom","toggleLabels","updateFloor","ViewerLineup","toggleLineup","lineup","roles","activeOperator","selectOperator","Viewer","handleScroll","position","parseInt","mounted","querySelector","toolbar","main","sidebar","scrollY","offsetTop","offsetHeight","classList","add","marginTop","remove","showMaps","LoadingModal","ViewStrategiesAPI","fetchMap","map_name","Object","keys","maps","filter","ERROR_VIEW_STRATEGIES","ERROR_VIEW_MAP","Strategies","CreateStrategiesAPI","selectMap","addMap","attackStrategy","defenseStrategy","ERROR_ADD_MAP","Toolbar","updateName","updateStrategyName","save","updated","addStrategy","removeStrategy","Toggle","activeAction","inactiveAction","activeState","inactiveState","link","Sidebar","stopPropagation","updateSceneName","unshare","share","addScene","removeScene","DragItem","removeItem","removeOperator","removeGadget","removeUtility","removeDrone","removeBreach","removeReinforcement","removeRotate","PositionOverlay","deselectElement","translateElement","onMouseMove","onMouseUp","onTouchMove","keyCode","newPositions","newX","newY","positions","pageX","pageY","centerX","centerY","updateOperatorPositions","updateDronePositions","updateGadgetPositions","updateUtilityPositions","updateRotatePositions","updateReinforcementPositions","updateBreachPositions","BlueprintForm","Objectives","removeObjective","addObjective","updateNotes","updateVideo","Canvas","attackRoles","defenderRoles","utility_guide","Lineup","roleOptions","option","operatorOptions","utilityOptions","updateRoles","updateOperators","disabled","updateUtility","insertOperator","fontSize","insertGadget","textTransform","insertUtility","Editor","shareStrategy","unshareStrategy","newStrategies","newScene","opPosition","drone","rotate","reinforcement","breach","msg","when","EditStrategiesAPI","updateStrategy","deleteMap","ERROR_UPDATE_MAP","ERROR_SHARED_STRATEGY","ERROR_UNSHARE_STRATEGY","ERROR_DELETE_MAP","EditStrategies","SharedViewerToolbar","SharedViewerSidebar","SharedViewerCanvas","SharedViewerLineup","SharedViewer","SharedStrategiesAPI","fetchStrategy","ERROR_VIEW_SHARED_STRATEGY","SharedStrategies","NotFound","ForgotPasswordForm","ForgotPasswordAPI","ERROR_RESET_PASSWORD","ForgotPassword","ResetPasswordForm","ResetPasswordAPI","ResetPassword","match","params","UserDropdown","toggleDropdown","toggleMenu","Navigation","first","loggedIn","zIndex","inactiveClass","exact","activeClassName","Alert","clearAlert","Footer","App","updateState","setLocalStorage","clearLocalStorage","Date","now","localStorage","getItem","alerts","callback","setItem","toDateString","clear","newAlerts","path","render","isLocalhost","Boolean","hostname","registerValidSW","swUrl","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","StrictMode","getElementById","self","event","json","waitUntil","showNotification","URL","origin","fetch","contentType","unregister","checkValidServiceWorker","ERROR_DELETE_TEAM_AND_USER","ERROR_FORGOT_PASSWORD","ERROR_UNBLOCK_USER"],"mappings":"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","file":"static/js/main.f08fff11.chunk.js","sourcesContent":["/* messages.js*/\r\n\r\n/**\r\n* List of messages and error reports used throughout platform\r\n*/\r\nmodule.exports = {\r\n  ANNOUNCEMENT_SENT: {\r\n    status: \"Announcement Sent\",\r\n    message: \"Your announcement has been successfully sent.\"\r\n  },\r\n  ATTACKER_ROLE_SET: {\r\n    status: \"Attacker Role Set\",\r\n    message: \"Your attacking role has been set.\"\r\n  },\r\n  ATTACKERS_SET: {\r\n    status: \"Attackers Set\",\r\n    message: \"Your preferred attackers have been set.\"\r\n  },\r\n  BLOCKED_USERS_FOUND: {\r\n    status: \"Blocked Users Found\",\r\n    message: \"Team's blocked users have been found.\"\r\n  },\r\n  CANNOT_REMOVE_SELF: {\r\n    status: \"Cannot Remove Self\",\r\n    message: \"User cannot block self from team.\"\r\n  },\r\n  DEFENDER_ROLE_SET: {\r\n    status: \"Defender Role Set\",\r\n    message: \"Your defending role has been set.\"\r\n  },\r\n  DEFENDERS_SET: {\r\n    status: \"Defenders Set\",\r\n    message: \"Your preferred defenders have been set.\"\r\n  },\r\n  EXISTING_USER: {\r\n    status: \"Existing User\",\r\n    message: \"A user with those credentials already exists.\"\r\n  },\r\n  GENERAL_STATS_FOUND: {\r\n    status: \"General Statistics Found\",\r\n    message: \"General statistics have been found.\"\r\n  },\r\n  INCORRECT_PASSWORD: {\r\n    status: \"Incorrect Password\",\r\n    message: \"The password entered was incorrect.\"\r\n  },\r\n  INVALID_ANNOUNCEMENT: {\r\n    status: \"Invalid Announcement\",\r\n    message: \"The announcement provided is invalid.\"\r\n  },\r\n  INVALID_ATTACKER_ROLE: {\r\n    status: \"Invalid Attacker Role\",\r\n    message: \"The attacking role you selected is invalid.\"\r\n  },\r\n  INVALID_ATTACKERS: {\r\n    status: \"Invalid Attackers\",\r\n    message: \"The preferred attackers you selected are invalid.\"\r\n  },\r\n  INVALID_BLOCK_USER_INPUT: {\r\n    status: \"Invalid Block User Input\",\r\n    message: \"The block user input provided is invalid.\"\r\n  },\r\n  INVALID_DEFENDER_ROLE: {\r\n    status: \"Invalid Defender Role\",\r\n    message: \"The defending role you selected is invalid.\"\r\n  },\r\n  INVALID_DEFENDERS: {\r\n    status: \"Invalid Defenders\",\r\n    message: \"The preferred defenders you selected are invalid.\"\r\n  },\r\n  INVALID_EMAIL: {\r\n    status: \"Invalid Email\",\r\n    message: \"The email address provided is invalid.\"\r\n  },\r\n  INVALID_JOIN_CODE: {\r\n    status: \"Invalid Join Code\",\r\n    message: \"The join code provided is invalid.\"\r\n  },\r\n  INVALID_LOGIN: {\r\n    status: \"Invalid Login\",\r\n    message: \"The login input provided is invalid.\"\r\n  },\r\n  INVALID_MMR: {\r\n    status: \"Invalid MMR\",\r\n    message: \"The MMR threshold provided is invalid.\"\r\n  },\r\n  INVALID_PASSWORD_INPUT: {\r\n    status: \"Invalid Password Input\",\r\n    message: \"The password input provided is invalid.\"\r\n  },\r\n  INVALID_REGISTRATION: {\r\n    status: \"Invalid Registration\",\r\n    message: \"The registration input provided is invalid.\"\r\n  },\r\n  INVALID_RESET_TOKEN: {\r\n    status: \"Invalid Reset Token\",\r\n    message: \"The reset token provided is invalid or expired.\"\r\n  },\r\n  INVALID_PLATFORM: {\r\n    status: \"Invalid Platform\",\r\n    message: \"The platform selected is invalid.\"\r\n  },\r\n  INVALID_STATUS_INPUT: {\r\n    status: \"Invalid Status Input\",\r\n    message: \"The user status selected is invalid.\"\r\n  },\r\n  INVALID_TEAM_INPUT: {\r\n    status: \"Invalid Team Input\",\r\n    message: \"The team name provided is invalid.\"\r\n  },\r\n  INVALID_TEAM_PLATFORM: {\r\n    status: \"Invalid Team Platform\",\r\n    message: \"The platform provided is invalid.\"\r\n  },\r\n  INVALID_TEAM_STATUS: {\r\n    status: \"Invalid Team Status\",\r\n    message: \"The team status requested to update to is invalid.\"\r\n  },\r\n  INVALID_USERNAME: {\r\n    status: \"Invalid Username\",\r\n    message: \"The username provided is invalid.\"\r\n  },\r\n  MAP_ADDED: {\r\n    status: \"Map Added\",\r\n    message: \"The requested map has been added to your Stratbook.\"\r\n  },\r\n  MAP_DELETED: {\r\n    status: \"Map Deleted\",\r\n    message: \"The requested map has been deleted.\"\r\n  },\r\n  MAP_DOES_NOT_EXIST: {\r\n    status: \"Map Does Not Exist\",\r\n    message: \"The requested map does not exist in your team's Stratbook.\"\r\n  },\r\n  MAP_EXISTS: {\r\n    status: \"Map Exists\",\r\n    message: \"The requested map already exists in your Stratbook. In order to protect your data, a duplicate cannot be added.\"\r\n  },\r\n  MAP_FOUND: {\r\n    status: \"Map Found\",\r\n    message: \"The requested map has been found.\"\r\n  },\r\n  MAP_NOT_FOUND: {\r\n    status: \"Map Not Found\",\r\n    message: \"The requested map could not be found in the team's stratbook.\"\r\n  },\r\n  MAP_UPDATED: {\r\n    status: \"Map Updated\",\r\n    message: \"The requested map has been updated.\"\r\n  },\r\n  OPERATOR_STATS_FOUND: {\r\n    status: \"Operator Statistics Found\",\r\n    message: \"Operator statistics found.\"\r\n  },\r\n  PASSWORD_RESET_LINK_SENT: {\r\n    status: \"Password Reset Link Sent\",\r\n    message: \"A link to reset your password has been sent to your email.\"\r\n  },\r\n  PERMISSION_DENIED: {\r\n    status: \"Permission Denied\",\r\n    message: \"Permission to perform the action you requested has been denied.\"\r\n  },\r\n  PLATFORM_DOES_NOT_MATCH: {\r\n    status: \"Platform Does Not Match\",\r\n    message: \"The platform of the team you requested to join does not match your platform.\"\r\n  },\r\n  PROFANE_INPUT: {\r\n    status: \"Profane Input\",\r\n    message: \"Stratbook does not accept profane input.\"\r\n  },\r\n  PROFANE_TEAM_INPUT: {\r\n    status: \"Profane Team Input\",\r\n    message: \"Stratbook does not accept profane input.\"\r\n  },\r\n  PUSH_SUBSCRIBE: {\r\n    status: \"Push Notifications Subscribed\",\r\n    message: \"You have successfully subscribed to push notifications on this device.\"\r\n  },\r\n  SEASONAL_STATS_FOUND: {\r\n    status: \"Seasonal Statistics Found\",\r\n    message: \"Seasonal statistics found.\"\r\n  },\r\n  SHARED_STRATEGY_FOUND: {\r\n    status: \"Shared Strategy Found\",\r\n    message: \"The strategy requested has been found.\"\r\n  },\r\n  SHARED_STRATEGY_NOT_FOUND: {\r\n    status: \"Shared Strategy Not Found\",\r\n    message: \"The strategy you requested could not be found.\"\r\n  },\r\n  STRATEGIES_FOUND: {\r\n    status: \"Strategies Found\",\r\n    message: \"Strategies found.\"\r\n  },\r\n  STRATEGY_SHARED: {\r\n    status: \"Strategy Shared\",\r\n    message: \"Your strategy has been shared successfully.\"\r\n  },\r\n  STRATEGY_UNSHARED: {\r\n    status: \"Strategy Unshared\",\r\n    message: \"Your strategy has been unshared successfully.\"\r\n  },\r\n  TEAM_CREATED: {\r\n    status: \"Team Created\",\r\n    message: \"You have created a team.\"\r\n  },\r\n  TEAM_DELETED: {\r\n    status: \"Team Deleted\",\r\n    message: \"You have deleted your team.\"\r\n  },\r\n  TEAM_EXISTS: {\r\n    status: \"Team Exists\",\r\n    message: \"A team with that name already exists.\"\r\n  },\r\n  TEAM_FOUND: {\r\n    status: \"Team Found\",\r\n    message: \"Team found.\"\r\n  },\r\n  TEAM_JOINED: {\r\n    status: \"Team Joined\",\r\n    message: \"You have joined the team.\"\r\n  },\r\n  TEAM_LEFT: {\r\n    status: \"Team Left\",\r\n    message: \"You have left the team.\"\r\n  },\r\n  TEAM_MMR_UPDATED: {\r\n    status: \"Team MMR Updated\",\r\n    message: \"You have updated the MMR threshold required to join your team.\"\r\n  },\r\n  TEAM_NAME_UPDATED: {\r\n    status: \"Team Name Updated\",\r\n    message: \"You have updated the team name.\"\r\n  },\r\n  TEAM_NOT_FOUND: {\r\n    status: \"Team Not Found\",\r\n    message: \"No team with the provided credentials could be found.\"\r\n  },\r\n  TEAM_PLATFORM_UPDATED: {\r\n    status: \"Team Platform Updated\",\r\n    message: \"Your team platform has been successfully updated.\"\r\n  },\r\n  TEAM_STATS_FOUND: {\r\n    status: \"Team Statistics Found\",\r\n    message: \"Team statistics found.\"\r\n  },\r\n  TOKEN_ISSUED: {\r\n    status: \"Token Issued\",\r\n    message: \"Token issued.\"\r\n  },\r\n  USER_AND_TEAM_DELETED: {\r\n    status: \"User and Team Deleted\",\r\n    message: \"You have deleted your account and your team.\"\r\n  },\r\n  USER_BLOCKED: {\r\n    status: \"User Blocked\",\r\n    message: \"You have blocked the requested user.\"\r\n  },\r\n  USER_UNBLOCKED: {\r\n    status: \"User Unblocked\",\r\n    message: \"You have unblocked the requested user.\"\r\n  },\r\n  USER_DELETED: {\r\n    status: \"User Deleted\",\r\n    message: \"You have deleted your account.\"\r\n  },\r\n  USER_HAS_NO_TEAM: {\r\n    status: \"User Has No Team\",\r\n    message: \"You must have a team to perform this action.\"\r\n  },\r\n  USER_HAS_TEAM: {\r\n    status: \"User Has Team\",\r\n    message: \"You cannot perform this action if you are a part of a team.\"\r\n  },\r\n  USER_NOT_FOUND: {\r\n    status: \"User Not Found\",\r\n    message: \"Unable to find user with provided credentials.\",\r\n    errors: {\r\n      email: \"No user with that email address was found.\"\r\n    }\r\n  },\r\n  USER_NOT_VERIFIED: {\r\n    status: \"User Not Verified\",\r\n    message: \"You must verify your account to perform this action.\"\r\n  }\r\n}\r\n","/* messages/emails.js */\r\n\r\nmodule.exports = {\r\n  ANNOUNCEMENT: {\r\n    status: \"Team Announcement\",\r\n    body: '#1{NAME}: \"#2{ANNOUNCEMENT}\"',\r\n    email_body: '<div><h2>Team Announcement</h2><br/><p>#1{NAME}: \"#{ANNOUNCEMENT}\"'\r\n  },\r\n  EMAIL_UPDATED: {\r\n    status: \"Email Updated\",\r\n    body: \"Your email has been updated to #1{NEW_EMAIL}.\",\r\n    email_body: \"<div><h2>Your email has been updated to #1{NEW_EMAIL}.</h2><br/><p>The email associated with your Stratbook account has been updated. If you did not do this, login to your Stratbook account and change it back immediately.</p></div>\"\r\n  },\r\n  MAP_ADDED: {\r\n    status: \"Map Added\",\r\n    body: \"#1{NEW_MAP} has been added to your Stratbook.\",\r\n    email_body: \"<div><h2>#1{NEW_MAP} has been added to your Stratbook.</h2><br/><p>A user has added a map to the Stratbook associated with your team.</p></div>\"\r\n  },\r\n  MAP_DELETED: {\r\n    status: \"Map Deleted\",\r\n    body: \"#1{MAP} has been removed from your Stratbook.\",\r\n    email_body: \"<div><h2>#1{MAP} has been removed from your Stratbook.</h2><br/><p>A user has removed a map from the Stratbook associated with your team.</p></div>\"\r\n  },\r\n  PASSWORD_RESET: {\r\n    status: \"Password Reset\",\r\n    body: \"Your password has been reset.\",\r\n    email_body: \"<div><h2>Your password has been reset.</h2><br/><p>The password for your Stratbook account has been reset. If you did not do this, login to your Stratbook account and reset your password immediately.</p></div>\"\r\n  },\r\n  PASSWORD_UPDATED: {\r\n    status: \"Password Updated\",\r\n    body: \"Your password has been updated.\",\r\n    email_body: \"<div><h2>Your password has been updated.</h2><br/><p>The password for your Stratbook account has been updated. If you did not do this, login to your Stratbook account and reset your password immediately.</p></div>\"\r\n  },\r\n  PLATFORM_UPDATED: {\r\n    status: \"Platform Updated\",\r\n    body: \"Your platform has been updated.\",\r\n    email_body: \"<div><h2>Your platform has been updated.</h2><br/><p>The platform associated with your account has been changed.</p></div>\"\r\n  },\r\n  TEAM_CREATED: {\r\n    status: \"Team Created\",\r\n    body: \"Your Stratbook team, #1{TEAM_NAME}, has been created.\",\r\n    email_body: \"<div><h2>Your Stratbook team, #1{TEAM_NAME}, has been created.</h2><br/><p>Congratulations on creating a team on Stratbook. You may now send the join code to other members on the same platform as you to invite them to join your team. You and your team can create strategies for your own stratbook.</p></div>\"\r\n  },\r\n  TEAM_DISBANDED: {\r\n    status: \"Team Disbanded\",\r\n    body: \"Your Stratbook team, #1{TEAM_NAME}, has been disbanded.\",\r\n    email_body: \"<div><h2>Your Stratbook team, #1{TEAM_NAME}, has been disbanded.</h2><br/><p>Due to the actions of an admin on the team, your Stratbook team has been disbanded. All associated data has been removed from the database.</p></div>\"\r\n  },\r\n  TEAM_NAME_UPDATED: {\r\n    status: \"Team Name Updated\",\r\n    body: \"Your team name has been updated to #1{NEW_NAME}.\",\r\n    email_body: \"<div><h2>Your team name has been updated to #1{NEW_NAME}.</h2><br/><p>Your Stratbook team name has been updated. If you wish to undo this as an admin on the team, login and revert the change.</p></div>\"\r\n  },\r\n  TEAM_STATUS_UPDATED: {\r\n    status: \"Team Status Updated\",\r\n    body: \"Your team status has been changed to #1{NEW_STATUS}.\",\r\n    email_body: \"<div><h2>Your team status has been updated to #1{NEW_STATUS}.</h2><br/><p>Changing your team status affects the ability of new members to join. If you think this was a mistake, you can update the team status under the manage page.</p></div>\"\r\n  },\r\n  USER_AND_TEAM_DELETED: {\r\n    status: \"User and Team Deleted\",\r\n    body: \"Your Stratbook account and team have been deleted.\",\r\n    email_body: \"<div><h2>Your Stratbook account and team have been deleted.</h2><br/><p>All associated data has been deleted from the Stratbook databases. Since you were either the sole member or admin on a team, your team has been deleted as well.</p></div>\"\r\n  },\r\n  USER_DELETED: {\r\n    status: \"User Deleted\",\r\n    body: \"Your Stratbook account has been deleted.\",\r\n    email_body: \"<div><h2>Your Stratbook account has been deleted.</h2><br/><p>All associated data has been deleted from the Stratbook databases. If you were a member of a team, you have been removed from the team.</p></div>\"\r\n  },\r\n  USER_JOINED_TEAM: {\r\n    status: \"User Joined Team\",\r\n    body: \"#1{USER} has joined your Stratbook team, #2{TEAM_NAME}.\",\r\n    email_body: \"<div><h2>#1{USER} has joined your Stratbook team, #2{TEAM_NAME}.</h2></br><p>A user has joined your Stratbook team. Log in to Stratbook to see the new user and if needed, remove them.</p></div>\"\r\n  },\r\n  USER_LEFT_TEAM: {\r\n    status: \"User Left Team\",\r\n    body: \"#1{USER} has left your Stratbook team, #2{TEAM_NAME}.\",\r\n    email_body: \"<div><h2>#1{USER} has left your Stratbook team, #2{TEAM_NAME}.</h2><br/><p>A user has left your Stratbook team.</p></div>\"\r\n  },\r\n  USER_REGISTERED: {\r\n    status: \"User Registered\",\r\n    body: \"You have created an account with Stratbook.\",\r\n    email_body: \"<div><h2>Welcome to Stratbook</h2><br/><p>You have successfully created an account on Stratbook. Check your email for a verification link that will allow you to verify your account. Verifying your account allows you to create or join a team and make strategies.</p></div>\"\r\n  },\r\n  USER_STATUS_UPDATED: {\r\n    status: \"User Status Updated\",\r\n    body: \"Your status on your Stratbook team, #1{TEAM_NAME}, has been updated to #2{STATUS}.\",\r\n    email_body: \"<div><h2>User Status Updated</h2><br/><p>The status of your membership on your Stratbook team, #{TEAM_NAME}, has been updated to #2{STATUS}.</p></div>\"\r\n  },\r\n  USERNAME_UPDATED: {\r\n    status: \"Username Updated\",\r\n    body: \"Your username has been updated.\",\r\n    email_body: \"<div><h2>Your username has been updated</h2><br/><p>Your username has been updated.</p></div>\"\r\n  },\r\n  VERIFY_ACCOUNT: {\r\n    status: \"Account Verified\",\r\n    body: \"You have verified your Stratbook account.\",\r\n    email_body: \"<div><h2>Your Stratbook Account is Verified!</h2><br/><p>Congratulations on successfully verifying your Stratbook account. You can now access the team and strategies features.</p></div>\"\r\n  },\r\n}\r\n","/* data.js */\r\n\r\nmodule.exports = {\r\n  MAP_NAMES: [\"BANK\", \"BORDER\", \"CHALET\", \"CLUBHOUSE\", \"COASTLINE\", \"CONSULATE\", \"KAFE DOSTOYEVSKY\", \"KANAL\", \"OREGON\", \"SKYSCRAPER\", \"THEME PARK\", \"VILLA\"],\r\n  SITES: {\r\n    \"BANK\": [\"B Lockers/B CCTV Room\", \"1F Teller's Office/1F Archives\", \"1F Staff Room/1F Open Area\", \"2F Executive Lounge/2F CEO Office\"],\r\n    \"BORDER\": [\"1F Customs Inspection/1F Supply Room\", \"1F Ventilation Room/1F Workshop\", \"1F Bathroom/1F Tellers\", \"2F Armory Lockers/2F Archives\"],\r\n    \"CHALET\": [\"B Wine Cellar/B Snowmobile Garage\", \"1F Bar/1F Gaming Room\", \"1F Dining Room/1F Kitchen\", \"2F Master Bedroom/2F Office\"],\r\n    \"CLUBHOUSE\": [\"B Church/B Armory\", \"1F Bar/1F Stock Room\", \"2F Cash Room/2F CCTV\", \"2F Gym/2F Master Bedroom\"],\r\n    \"COASTLINE\": [\"1F Kitchen/1F Service Entrace\", \"1F Sunrise Bar/1F Blue Bar\", \"2F Hookah Lounge/2F Billiards Room\", \"2F Penthouse/2F Theater\"],\r\n    \"CONSULATE\": [\"B Garage/B Cafeteria\", \"B Archives/1F Tellers\", \"1F Lobby/1F Press Room\", \"2F Consul Office/2F Meeting Room\"],\r\n    \"KAFE DOSTOYEVSKY\": [\"1F Kitchen Cooking/1F Kitchen Service\", \"2F Fireplace Hall/2F Mining Room\", \"2F Fireplace Hall/2F Reading Room\", \"3F Cocktail Bar/3F Bar\"],\r\n    \"KANAL\": [\"B Supply Room/B Kayaks\", \"1F Coast Guard Meeting Room/1F Lounge\", \"1F Security Room/1F Maps Room\", \"2F Radar Room/2F Server Room\"],\r\n    \"OREGON\": [\"B Laundry/B Supply Room\", \"1F Kitchen/1F Dining Room\", \"1F Kitchen/1F Meeting Room\", \"2F Kid's Dorm/2F Dorms Main Hall\"],\r\n    \"SKYSCRAPER\": [\"1F Kitchen/1F BBQ\", \"1F Bedroom/1F Bathroom\", \"2F Tea Room/2F Karaoke\", \"2F Exhibition Room/2F Office\"],\r\n    \"THEME PARK\": [\"1F Armory Room/1F Throne Room\", \"1F Lab/1F Storage\", \"2F Office/2F Initiation Room\", \"2F Bunk/2F Day Care\"],\r\n    \"VILLA\": [\"1F Living Room/1F Library\", \"1F Kitchen/1F Dining Room\", \"2F Trophy Room/2F Statuary Room\", \"2F Aviator Room/2F Games Room\"]\r\n  },\r\n  FLOORS: {\r\n    \"BANK\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"BORDER\": [\"First Floor\", \"Second Floor\"],\r\n    \"CHALET\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"CLUBHOUSE\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"COASTLINE\": [\"First Floor\", \"Second Floor\"],\r\n    \"CONSULATE\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"KAFE DOSTOYEVSKY\": [\"First Floor\", \"Second Floor\", \"Third Floor\"],\r\n    \"KANAL\": [\"Basement\", \"First Floor\", \"Second Floor\"],\r\n    \"OREGON\": [\"Basement\", \"First Floor\", \"Second Floor\", \"Tier 3\"],\r\n    \"SKYSCRAPER\": [\"First Floor\", \"Second Floor\"],\r\n    \"THEME PARK\": [\"First Floor\", \"Second Floor\"],\r\n    \"VILLA\": [\"Basement\", \"First Floor\", \"Second Floor\"]\r\n  },\r\n  GADGETS: {\r\n    \"SLEDGE\": {\r\n      gadget: \"Sledgehammer\",\r\n      count: 25\r\n    },\r\n    \"THATCHER\": {\r\n      gadget: \"EMP Grenade\",\r\n      count: 3\r\n    },\r\n    \"SMOKE\": {\r\n      gadget: \"Remote Gas Grenade\",\r\n      count: 3\r\n    },\r\n    \"MUTE\": {\r\n      gadget: \"Signal Disruptor\",\r\n      count: 4\r\n    },\r\n    \"ASH\": {\r\n      gadget: \"Breaching Round\",\r\n      count: 3\r\n    },\r\n    \"THERMITE\": {\r\n      gadget: \"Exothermic Charge\",\r\n      count: 2\r\n    },\r\n    \"CASTLE\": {\r\n      gadget: \"Armored Panel\",\r\n      count: 3\r\n    },\r\n    \"PULSE\": {\r\n      gadget: \"Cardiac Sensor\",\r\n      count: 0\r\n    },\r\n    \"GLAS\": {\r\n      gadget: \"Flip Sight\",\r\n      count: 0\r\n    },\r\n    \"FUZE\": {\r\n      gadget: \"Cluster Charge\",\r\n      count: 4\r\n    },\r\n    \"KAPKAN\": {\r\n      gadget: \"Entry Denial Device\",\r\n      count: 5\r\n    },\r\n    \"TACHANKA\": {\r\n      gadget: \"Shumikha\",\r\n      count: 10\r\n    },\r\n    \"BLITZ\": {\r\n      gadget: \"Flash Shield\",\r\n      count: 0\r\n    },\r\n    \"IQ\": {\r\n      gadget: \"Electronics Detector\",\r\n      count: 0\r\n    },\r\n    \"JAGER\": {\r\n      gadget: \"Active Defense System\",\r\n      count: 3\r\n    },\r\n    \"BANDIT\": {\r\n      gadget: \"Shock Wire\",\r\n      count: 4\r\n    },\r\n    \"TWITCH\": {\r\n      gadget: \"Shock Drone\",\r\n      count: 2\r\n    },\r\n    \"MONTAGNE\": {\r\n      gadget: \"Extendable Shield\",\r\n      count: 0\r\n    },\r\n    \"DOC\": {\r\n      gadget: \"Stim Pistol\",\r\n      count: 0\r\n    },\r\n    \"ROOK\": {\r\n      gadget: \"Armor Pack\",\r\n      count: 0\r\n    },\r\n    \"FROST\": {\r\n      gadget: \"Welcome Mat\",\r\n      count: 3\r\n    },\r\n    \"BUCK\": {\r\n      gadget: \"Skeleton Key\",\r\n      count: 16\r\n    },\r\n    \"VALKYRIE\": {\r\n      gadget: \"Black Eye\",\r\n      count: 3\r\n    },\r\n    \"BLACKBEARD\": {\r\n      gadget: \"Rifle Shield\",\r\n      count: 0\r\n    },\r\n    \"CAPITAO\": {\r\n      gadget: \"Tactical Crossbow\",\r\n      count: 4\r\n    },\r\n    \"CAVEIRA\": {\r\n      gadget: \"Silent Step\",\r\n      count: 0\r\n    },\r\n    \"ECHO\": {\r\n      gadget: \"Yokai Drone\",\r\n      count: 2\r\n    },\r\n    \"HIBANA\": {\r\n      gadget: \"X-Kairos Pellets\",\r\n      count: 9\r\n    },\r\n    \"JACKAL\": {\r\n      gadget: \"Eyenox Model III\",\r\n      count: 0\r\n    },\r\n    \"MIRA\": {\r\n      gadget: \"Black Mirror\",\r\n      count: 2\r\n    },\r\n    \"LESION\": {\r\n      gadget: \"Gu Mine\",\r\n      count: 8\r\n    },\r\n    \"YING\": {\r\n      gadget: \"Candela\",\r\n      count: 3\r\n    },\r\n    \"ELA\": {\r\n      gadget: \"Grzmot Mine\",\r\n      count: 3\r\n    },\r\n    \"ZOFIA\": {\r\n      gadget: \"KS79 Lifeline\",\r\n      count: 4\r\n    },\r\n    \"DOKKAEBI\": {\r\n      gadget: \"Logic Bomb\",\r\n      count: 0\r\n    },\r\n    \"VIGIL\": {\r\n      gadget: \"ERC-7\",\r\n      count: 0\r\n    },\r\n    \"FINKA\": {\r\n      gadget: \"Adrenal Surge\",\r\n      count: 0\r\n    },\r\n    \"LION\": {\r\n      gadget: \"EE-ONE-D\",\r\n      count: 0\r\n    },\r\n    \"ALIBI\": {\r\n      gadget: \"Prisma\",\r\n      count: 3\r\n    },\r\n    \"MAESTRO\": {\r\n      gadget: \"Evil Eye\",\r\n      count: 2\r\n    },\r\n    \"MAVERICK\": {\r\n      gadget: \"Breaching Torch\",\r\n      count: 0\r\n    },\r\n    \"CLASH\": {\r\n      gadget: \"CCE Shield\",\r\n      count: 0\r\n    },\r\n    \"KAID\": {\r\n      gadget: \"RTILA Electroclaw\",\r\n      count: 2\r\n    },\r\n    \"NOMAD\": {\r\n      gadget: \"Airjab\",\r\n      count: 3\r\n    },\r\n    \"GRIDLOCK\": {\r\n      gadget: \"Trax Stinger\",\r\n      count: 3\r\n    },\r\n    \"MOZZIE\": {\r\n      gadget: \"Pest\",\r\n      count: 3\r\n    },\r\n    \"WARDEN\": {\r\n      gadget: \"GLANCE SMART GLASSES\",\r\n      count: 0\r\n    },\r\n    \"NOKK\": {\r\n      gadget: \"Hel Presence Reduction\",\r\n      count: 0\r\n    },\r\n    \"GOYO\": {\r\n      gadget: \"Volcan Shield\",\r\n      count: 2\r\n    },\r\n    \"AMARU\": {\r\n      gadget: \"Garra Hook\",\r\n      count: 0\r\n    },\r\n    \"KALI\": {\r\n      gadget: \"LV Explosive Lance\",\r\n      count: 3\r\n    },\r\n    \"WAMAI\": {\r\n      gadget: \"Mag-net System\",\r\n      count: 4\r\n    },\r\n    \"IANA\": {\r\n      gadget: \"Gemini Replicator\",\r\n      count: 0\r\n    },\r\n    \"ORYX\": {\r\n      gadget: \"Remah Dash\",\r\n      count: 0\r\n    },\r\n    \"MELUSI\": {\r\n      gadget: \"Banshee Sonic Defense\",\r\n      count: 3\r\n    },\r\n    \"ACE\": {\r\n      gadget: \"SELMA Aqua Breacher\",\r\n      count: 3\r\n    },\r\n    \"ZERO\": {\r\n      gadget: \"Argus Launcher\",\r\n      count: 4\r\n    },\r\n    \"ARUNI\": {\r\n      gadget: \"Surya Gate\",\r\n      count: 3\r\n    },\r\n    \"FLORES\": {\r\n      gadget: \"RCE Ratero Charge\",\r\n      count: 2\r\n    }\r\n  },\r\n  ATTACKER_ROLES: [\"ROLE\", \"HARD BREACH\", \"SOFT BREACH\", \"ENTRY FRAG\", \"AREA DENIAL/FLANK WATCH\", \"INTEL\", \"UTILITY CLEAR\", \"SUPPORT\", \"ROAM CLEAR\"],\r\n  ATTACKER_OPERATORS: {\r\n    \"HARD BREACH\": [\"ACE\", \"HIBANA\", \"MAVERICK\", \"THERMITE\"],\r\n    \"SOFT BREACH\": [\"ASH\", \"BUCK\", \"SLEDGE\", \"ZOFIA\"],\r\n    \"ENTRY FRAG\": [\"AMARU\", \"ASH\", \"BLITZ\", \"FINKA\", \"IANA\", \"IQ\", \"MONTAGNE\", \"NOKK\", \"TWITCH\", \"ZOFIA\"],\r\n    \"AREA DENIAL/FLANK WATCH\": [\"CAPITAO\", \"GRIDLOCK\", \"NOMAD\", \"ZERO\"],\r\n    \"INTEL\": [\"DOKKAEBI\", \"FLORES\", \"IANA\", \"IQ\", \"LION\", \"MONTAGNE\", \"TWITCH\", \"ZERO\"],\r\n    \"UTILITY CLEAR\": [\"ASH\", \"FLORES\", \"FUZE\", \"KALI\", \"MAVERICK\", \"SLEDGE\", \"THATCHER\", \"TWITCH\"],\r\n    \"SUPPORT\": [\"ACE\", \"BLACKBEARD\", \"CAPITAO\", \"DOKKAEBI\", \"FINKA\", \"FLORES\", \"GLAZ\", \"IANA\", \"LION\", \"MAVERICK\", \"MONTAGNE\", \"YING\", \"ZERO\"],\r\n    \"ROAM CLEAR\": [\"DOKKAEBI\", \"JACKAL\", \"LION\", \"NOKK\", \"SLEDGE\", \"TWITCH\", \"ZOFIA\"]\r\n  },\r\n  ATTACKERS: [\"SLEDGE\", \"THATCHER\", \"ASH\", \"THERMITE\", \"TWITCH\", \"MONTAGNE\", \"GLAZ\", \"FUZE\", \"BLITZ\", \"IQ\", \"BUCK\", \"BLACKBEARD\", \"CAPITAO\", \"HIBANA\", \"JACKAL\", \"YING\", \"ZOFIA\", \"DOKKAEBI\", \"LION\", \"FINKA\", \"MAVERICK\", \"NOMAD\", \"GRIDLOCK\", \"NOKK\", \"AMARU\", \"KALI\", \"IANA\", \"ACE\", \"ZERO\", \"FLORES\"],\r\n  DEFENDER_ROLES: [\"ROLE\", \"HARD BREACH DENIAL\", \"INTEL DENIAL\", \"INTEL\", \"AREA DENIAL\", \"TRAPS\", \"UTILITY SOAK\", \"SUPPORT\", \"ROAM\"],\r\n  DEFENDER_OPERATORS: {\r\n    \"HARD BREACH DENIAL\": [\"BANDIT\", \"KAID\", \"MUTE\"],\r\n    \"INTEL DENIAL\": [\"MOZZIE\", \"MUTE\", \"VIGIL\"],\r\n    \"INTEL\": [\"ECHO\", \"MAESTRO\", \"MIRA\", \"MOZZIE\", \"PULSE\", \"VALKYRIE\"],\r\n    \"AREA DENIAL\": [\"ARUNI\", \"CLASH\", \"GOYO\", \"LESION\", \"MELUSI\", \"MIRA\", \"SMOKE\", \"TACHANKA\"],\r\n    \"TRAPS\": [\"ELA\", \"FROST\", \"KAPKAN\", \"LESION\", \"MELUSI\"],\r\n    \"UTILITY SOAK\": [\"ARUNI\", \"CASTLE\", \"GOYO\", \"JAGER\", \"WAMAI\"],\r\n    \"SUPPORT\": [\"CLASH\", \"DOC\", \"ECHO\", \"GOYO\", \"JAGER\", \"MAESTRO\", \"MIRA\", \"PULSE\", \"ROOK\", \"SMOKE\", \"TACHANKA\", \"VALKYRIE\", \"WARDEN\"],\r\n    \"ROAM\": [\"ALIBI\", \"BANDIT\", \"CAVEIRA\", \"ELA\", \"JAGER\", \"KAPKAN\", \"LESION\", \"MELUSI\", \"MOZZIE\", \"ORYX\", \"VIGIL\", \"WARDEN\"]\r\n  },\r\n  DEFENDERS: [\"SMOKE\", \"MUTE\", \"CASTLE\", \"PULSE\", \"DOC\", \"ROOK\", \"KAPKAN\", \"TACHANKA\", \"JAGER\", \"BANDIT\", \"FROST\", \"VALKYRIE\", \"CAVEIRA\", \"ECHO\", \"MIRA\", \"LESION\", \"ELA\", \"VIGIL\", \"MAESTRO\", \"ALIBI\", \"CLASH\", \"KAID\", \"MOZZIE\", \"WARDEN\", \"GOYO\", \"WAMAI\", \"ORYX\", \"MELUSI\", \"ARUNI\"],\r\n  MAPS: [\"BANK\", \"BORDER\", \"CHALET\", \"CLUBHOUSE\", \"COASTLINE\", \"CONSULATE\", \"KAFE DOSTOYEVSKY\", \"KANAL\", \"OREGON\", \"OUTBACK\", \"THEME PARK\", \"VILLA\"],\r\n  UTILITY: {\r\n    attack: {\r\n      \"OPERATOR\": [\"BREACH CHARGES\", \"CLAYMORE\", \"FRAG GRENADES\", \"HARD BREACH CHARGE\", \"SMOKE GRENADES\", \"STUN GRENADES\"],\r\n      \"SLEDGE\": [\"FRAG GRENADES\", \"STUN GRENADES\"],\r\n      \"THATCHER\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"ASH\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"THERMITE\": [\"CLAYMORE\", \"STUN GRENADES\"],\r\n      \"TWITCH\": [\"CLAYMORE\", \"SMOKE GRENADES\"],\r\n      \"MONTAGNE\": [\"HARD BREACH CHARGE\", \"SMOKE GRENADES\"],\r\n      \"BLITZ\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"IQ\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"GLAZ\": [\"FRAG GRENADES\", \"SMOKE GRENADES\"],\r\n      \"FUZE\": [\"BREACH CHARGES\", \"HARD BREACH CHARGE\"],\r\n      \"BUCK\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"BLACKBEARD\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"CAPITAO\": [\"CLAYMORE\", \"HARD BREACH CHARGE\"],\r\n      \"HIBANA\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"JACKAL\": [\"CLAYMORE\", \"SMOKE GRENADES\"],\r\n      \"YING\": [\"HARD BREACH CHARGE\", \"SMOKE GRENADES\"],\r\n      \"ZOFIA\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"DOKKAEBI\": [\"SMOKE GRENADES\", \"STUN GRENADES\"],\r\n      \"LION\": [\"CLAYMORE\", \"STUN GRENADES\"],\r\n      \"FINKA\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"MAVERICK\": [\"CLAYMORE\", \"FRAG GRENADES\"],\r\n      \"NOMAD\": [\"BREACH CHARGES\", \"STUN GRENADES\"],\r\n      \"GRIDLOCK\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"NOKK\": [\"HARD BREACH CHARGE\", \"FRAG GRENADES\"],\r\n      \"AMARU\": [\"HARD BREACH CHARGE\", \"STUN GRENADES\"],\r\n      \"KALI\": [\"BREACH CHARGES\", \"CLAYMORE\"],\r\n      \"IANA\": [\"FRAG GRENADES\", \"SMOKE GRENADES\"],\r\n      \"ACE\": [\"BREACH CHARGES\", \"SMOKE GRENADES\"],\r\n      \"ZERO\": [\"CLAYMORE\", \"HARD BREACH CHARGE\"],\r\n      \"FLORES\": [\"CLAYMORE\", \"STUN GRENADES\"]\r\n    },\r\n    defense: {\r\n      \"OPERATOR\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\", \"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\", \"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"SMOKE\": [\"BARBED WIRE\", \"DEPLOYABLE SHIELD\"],\r\n      \"MUTE\": [\"BULLETPROOF CAMERA\", \"NITRO CELL\"],\r\n      \"CASTLE\": [\"BULLETPROOF CAMERA\", \"PROXIMITY ALARMS\"],\r\n      \"PULSE\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"DOC\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\"],\r\n      \"ROOK\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"KAPKAN\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"TACHANKA\": [\"BARBED WIRE\", \"PROXIMITY ALARMS\"],\r\n      \"JAGER\": [\"BARBED WIRE\", \"BULLETPROOF CAMERA\"],\r\n      \"BANDIT\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"FROST\": [\"BULLETPROOF CAMERA\", \"DEPLOYABLE SHIELD\"],\r\n      \"VALKYRIE\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"CAVEIRA\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"ECHO\": [\"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\"],\r\n      \"MIRA\": [\"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"LESION\": [\"BULLETPROOF CAMERA\", \"IMPACT GRENADES\"],\r\n      \"ELA\": [\"BARBED WIRE\", \"DEPLOYABLE SHIELD\"],\r\n      \"VIGIL\": [\"BULLETPROOF CAMERA\", \"IMPACT GRENADES\"],\r\n      \"MAESTRO\": [\"BARBED WIRE\", \"IMPACT GRENADES\"],\r\n      \"ALIBI\": [\"DEPLOYABLE SHIELD\", \"IMPACT GRENADES\"],\r\n      \"CLASH\": [\"BARBED WIRE\", \"IMPACT GRENADES\"],\r\n      \"KAID\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"MOZZIE\": [\"BARBED WIRE\", \"NITRO CELL\"],\r\n      \"WARDEN\": [\"DEPLOYABLE SHIELD\", \"NITRO CELL\"],\r\n      \"GOYO\": [\"NITRO CELL\", \"PROXIMITY ALARMS\"],\r\n      \"WAMAI\": [\"IMPACT GRENADES\", \"PROXIMITY ALARMS\"],\r\n      \"ORYX\": [\"BARBED WIRE\", \"PROXIMITY ALARMS\"],\r\n      \"MELUSI\": [\"IMPACT GRENADES\", \"NITRO CELL\"],\r\n      \"ARUNI\": [\"BULLETPROOF CAMERA\", \"BARBED WIRE\"]\r\n    }\r\n  },\r\n  UTILITY_GUIDE: {\r\n    \"BREACH CHARGES\": 3,\r\n    \"CLAYMORE\": 1,\r\n    \"FRAG GRENADES\": 2,\r\n    \"HARD BREACH CHARGE\": 1,\r\n    \"SMOKE GRENADES\": 2,\r\n    \"STUN GRENADES\": 3,\r\n    \"BARBED WIRE\": 2,\r\n    \"BULLETPROOF CAMERA\": 1,\r\n    \"DEPLOYABLE SHIELD\": 1,\r\n    \"IMPACT GRENADES\": 2,\r\n    \"NITRO CELL\": 1,\r\n    \"PROXIMITY ALARMS\": 2\r\n  },\r\n  CURRENT_SEASON: \"crimson_heist\",\r\n  RANKS: {\r\n    \"Silver III\": 2300,\r\n    \"Silver II\": 2400,\r\n    \"Silver I\": 2500,\r\n    \"Gold III\": 2600,\r\n    \"Gold II\": 2800,\r\n    \"Gold I\": 3000,\r\n    \"Platinum III\": 3200,\r\n    \"Platinum II\": 3600,\r\n    \"Platinum I\": 4000,\r\n    \"Diamond\": 4400\r\n  },\r\n  MMR_THRESHOLDS: {\r\n    0: \"None\",\r\n    2300: \"Silver III\",\r\n    2400: \"Silver II\",\r\n    2500: \"Silver I\",\r\n    2600: \"Gold III\",\r\n    2800: \"Gold II\",\r\n    3000: \"Gold I\",\r\n    3200: \"Platinum III\",\r\n    3600: \"Platinum II\",\r\n    4000: \"Platinum I\",\r\n    4400: \"Diamond\"\r\n  },\r\n  CANVAS_WIDTH: 900,\r\n  CANVAS_HEIGHT: 675\r\n}\r\n","/* client/components/partials/Header.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Header\r\n  @desc: render header element with custom title and subtitle\r\n  @prop title: String\r\n  @prop subtitle: String\r\n*/\r\nconst Header = (props) => {\r\n  return (\r\n    <header className=\"header\" style={{\r\n      background: 'url(\"../media/min/header_background.jpg\")',\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center'\r\n    }}>\r\n      <div className=\"header__overlay\">\r\n        <h1 className=\"header__title\">{props.title}</h1>\r\n        <h2 className=\"header__subtitle\">{props.subtitle}</h2>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","/* client/src/components/pages/Home.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Header from \"../partials/Header.js\";\r\n\r\n/*\r\n  @func: Home\r\n  @desc: render home page\r\n*/\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"page\" id=\"home\">\r\n      <Header title=\"Welcome to Stratbook\" subtitle=\"Not an app, Never will be.\"/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","/* client/components/partials/Loading.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Loading\r\n  @desc: render a loading animation\r\n*/\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <svg className=\"circular\" viewBox=\"25 25 50 50\">\r\n        <circle className=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading;\r\n","/* client/components/partials/LoginForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: LoginForm\r\n  @desc: render login form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop password: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"login-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Login Form</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.user : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password-field\">\r\n        <label className=\"form__label\" htmlFor=\"password\">Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password == null ? \"\" : \" form__input--error\")} value={props.password} id=\"password\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password : \"\")}</span>\r\n        <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Login</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm;\r\n","/* client/components/api/LoginAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TOKEN_ISSUED } from \"../../messages/messages.js\";\r\nimport { ERROR_LOGIN } from \"../../messages/errors.js\";\r\n\r\nimport LoginForm from \"../partials/LoginForm.js\";\r\n\r\n/*\r\n  @func: LoginAPI\r\n  @desc: manage state of login form and login requests to server\r\n  @prop login: function\r\n  @state:\r\n    email: String\r\n    password: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass LoginAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.post(\"/api/users/login\", {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case TOKEN_ISSUED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.login(response.data.token, response.data.expiresIn, response.data.user);\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_LOGIN.message, ERROR_LOGIN.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"LoginAPI\">\r\n        <LoginForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} password={this.state.password} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LoginAPI;\r\n","/* client/src/components/pages/Login.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport LoginAPI from \"../api/LoginAPI.js\";\r\n\r\n/*\r\n  @func: Login\r\n  @desc: render login page\r\n  @prop login: function\r\n  @prop alert: function\r\n*/\r\nconst Login = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"login\">\r\n      <LoginAPI login={props.login} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","/* client/src/components/pages/Logout.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Logout\r\n  @desc: call client-side logout when rendered\r\n  @prop logout: function\r\n*/\r\nconst Logout = (props) => {\r\n  props.logout();\r\n  return (\r\n    <div className=\"page\" id=\"logout\"></div>\r\n  )\r\n}\r\n\r\nexport default Logout;\r\n","/* client/components/partials/RegisterForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: RegisterForm\r\n  @desc: render register form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop email: String\r\n  @prop password1: String\r\n  @prop password2: String\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst RegisterForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"register-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Register Form</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"username-field\">\r\n        <label className=\"form__label\" htmlFor=\"username\">Username</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.username == null ? \"\" : \" form__input--error\")} value={props.username} id=\"username\" type=\"name\" required/>\r\n        <span className=\"form__description\">Must match platform</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.username : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.user : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"platform-field\">\r\n        <label className=\"form__label\" htmlFor=\"platform\">Platform</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.platform == null ? \"\" : \" form__input--error\")} value={props.platform} id=\"platform\" required>\r\n          <option>XBOX</option>\r\n          <option>PC</option>\r\n          <option>PS4</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.platform : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Register</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default RegisterForm;\r\n","/* client/components/api/RegisterAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { USER_REGISTERED } from \"../../messages/emails.js\";\r\nimport { ERROR_REGISTER } from \"../../messages/errors.js\";\r\n\r\nimport RegisterForm from \"../partials/RegisterForm.js\";\r\n\r\n/*\r\n  @func: RegisterAPI\r\n  @desc: manage state of register form and register requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass RegisterAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      email: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n      platform: \"XBOX\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.post(\"/api/users/register\", {\r\n      username: this.state.username,\r\n      email: this.state.email,\r\n      platform: this.state.platform,\r\n      password1: this.state.password1,\r\n      password2: this.state.password2\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case USER_REGISTERED.status:\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_REGISTER.message, ERROR_REGISTER.status);\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"RegisterAPI\">\r\n          <RegisterForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} password1={this.state.password1} password2={this.state.platform2} platform={this.state.platform} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default RegisterAPI;\r\n","/* client/src/components/pages/Register.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport RegisterAPI from \"../api/RegisterAPI.js\";\r\n\r\n/*\r\n  @func: Register\r\n  @desc: render register page\r\n  @prop alert: function\r\n*/\r\nconst Register = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"register\">\r\n      <RegisterAPI alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","/* client/components/partials/UpdatePlatformForm.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: UpdatePlatformForm\r\n  @desc: render update platform form for user to interact with\r\n  @prop onChange: function\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdatePlatformForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-platform-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Platform</p>\r\n      <fieldset className=\"form__fieldset\" id=\"platform-field\">\r\n        <label className=\"form__label\">Platform</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.platform == null ? \"\" : \" form__input--error\")} value={props.platform} id=\"platform\" required>\r\n          <option>XBOX</option>\r\n          <option>PC</option>\r\n          <option>PS4</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.platform : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdatePlatformForm;\r\n","/* client/components/api/UpdatePlatformAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { PLATFORM_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_PLATFORM } from \"../../messages/errors.js\";\r\n\r\nimport UpdatePlatformForm from \"../partials/UpdatePlatformForm.js\";\r\n\r\n/*\r\n  @func: UpdatePlatformAPI\r\n  @desc: manage state of update platform form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop platform: String\r\n  @state:\r\n    platform: String\r\n*/\r\nclass UpdatePlatformAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      platform: this.props.platform,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-platform\", {\r\n      platform: this.state.platform\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PLATFORM_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your platform has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_PLATFORM.message, ERROR_PLATFORM.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdatePlatformAPI\">\r\n        <UpdatePlatformForm onChange={this.onChange} platform={this.state.platform} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdatePlatformAPI;\r\n","/* client/components/partials/UpdateUsernameForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdateUsernameForm\r\n  @desc: render update username form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop username: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdateUsernameForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-username-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Username</p>\r\n      <fieldset className=\"form__fieldset\" id=\"username-field\">\r\n        <label className=\"form__label\" htmlFor=\"username\">Username</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.username == null ? \"\" : \" form__input--error\")} value={props.username} id=\"username\" type=\"name\" required/>\r\n        <span className=\"form__description\">Must match platform</span>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.username : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdateUsernameForm;\r\n","/* client/components/api/UpdateUsernameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { USERNAME_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_USERNAME } from \"../../messages/errors.js\";\r\n\r\nimport UpdateUsernameForm from \"../partials/UpdateUsernameForm.js\";\r\n\r\n/*\r\n  @func: UpdateUsernameAPI\r\n  @desc: manage state of update platform form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop username: String\r\n  @state:\r\n    username: String\r\n*/\r\nclass UpdateUsernameAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: this.props.username,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-username\", {\r\n      username: this.state.username\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case USERNAME_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your username has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_USERNAME.message, ERROR_USERNAME.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateUsernameAPI\">\r\n        <UpdateUsernameForm onSubmit={this.onSubmit} onChange={this.onChange} username={this.state.username} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateUsernameAPI;\r\n","/* client/components/partials/UpdateEmailForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdateEmailForm\r\n  @desc: render update platform form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdateEmailForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-email-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Email</p>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdateEmailForm;\r\n","/* client/components/api/UpdateEmailAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { EMAIL_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_EMAIL } from \"../../messages/errors.js\";\r\n\r\nimport UpdateEmailForm from \"../partials/UpdateEmailForm.js\";\r\n\r\n/*\r\n  @func: UpdateEmailAPI\r\n  @desc: manage state of update email form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop email: String\r\n  @state:\r\n    email: String\r\n*/\r\nclass UpdateEmailAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: this.props.email,\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-email\", {\r\n      email: this.state.email\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case EMAIL_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your email has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_EMAIL.message, ERROR_EMAIL.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateEmailAPI\">\r\n        <UpdateEmailForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateEmailAPI;\r\n","/* client/components/partials/UpdatePasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: UpdatePasswordForm\r\n  @desc: render update password form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst UpdatePasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"update-password-form\" onSubmit={props.onSubmit}>\r\n      <p className=\"form__heading\">Update Password</p>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Save</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default UpdatePasswordForm;\r\n","/* client/components/api/UpdatePasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { PASSWORD_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_UPDATE_PASSWORD } from \"../../messages/errors.js\";\r\n\r\nimport UpdatePasswordForm from \"../partials/UpdatePasswordForm.js\";\r\n\r\n/*\r\n  @func: UpdatePasswordAPI\r\n  @desc: manage state of update password form and requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    password1: String\r\n    password2: String\r\n*/\r\nclass UpdatePasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      password1: \"\",\r\n      password2: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-password\", {\r\n      password1: this.state.password1,\r\n      password2: this.state.password2\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PASSWORD_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your password has been updated.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_UPDATE_PASSWORD.message, ERROR_UPDATE_PASSWORD.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"update\" id=\"UpdateUsernameAPI\">\r\n        <UpdatePasswordForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdatePasswordAPI;\r\n","/* client/components/partials/AttackerRoleForm.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: AttackerRoleForm\r\n  @desc: render attacker role form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop role: String\r\n  @prop errors: Object\r\n*/\r\nconst AttackerRoleForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"set-attacker-role-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"attacker-role-field\">\r\n        <label className=\"form__label\" htmlFor=\"attacker_role\">Primary Attacker Role</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.role ? \" form__input--error\" : \"\")} value={props.attacker_role} id=\"attacker_role\" required>\r\n          <option>NONE</option>\r\n          <option>HARD BREACH</option>\r\n          <option>SOFT BREACH</option>\r\n          <option>ENTRY FRAG</option>\r\n          <option>AREA DENIAL/FLANK WATCH</option>\r\n          <option>INTEL</option>\r\n          <option>UTILITY CLEAR</option>\r\n          <option>SUPPORT</option>\r\n          <option>ROAM CLEAR</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.role : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AttackerRoleForm;\r\n","/* client/components/api/SetAttackerRoleAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ATTACKER_ROLE_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_ATTACKER_ROLE } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport AttackerRoleForm from \"../partials/AttackerRoleForm.js\";\r\n\r\n/*\r\n  @func: SetAttackerRoleAPI\r\n  @desc: make a request to server to set attacker role\r\n  @prop attacker_role: String\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass SetAttackerRoleAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      attacker_role: this.props.attacker_role\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-attacker-role\", {\r\n      role: this.state.attacker_role\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case ATTACKER_ROLE_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_ATTACKER_ROLE.message, ERROR_ATTACKER_ROLE.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetAttackerRoleAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <AttackerRoleForm attacker_role={this.state.attacker_role} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetAttackerRoleAPI;\r\n","/* client/components/partials/AttackersForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport { ATTACKERS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: AttackersForm\r\n  @desc: render attackers form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop attackers: Array\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst AttackersForm = (props) => {\r\n  const attacker_buttons = ATTACKERS.map((attacker, index) => {\r\n    return (\r\n      <div className=\"attackers-form__attacker\" key={index}>\r\n        <input onChange={() => { props.onChange(attacker); } } className={\"attackers-form__input \" + (props.attackers.indexOf(attacker) >= 0 ? \"attackers-form__input--checked\" : \"\")} type=\"checkbox\" id={\"attackers-form__input--\" + attacker.toLowerCase()} checked={props.attackers.indexOf(attacker) >= 0} key={index}/>\r\n        <label className=\"attackers-form__label\" htmlFor={\"attackers-form__input--\" + attacker.toLowerCase()}>\r\n          <img className=\"attackers-form__image\" alt={attacker + \" Image\"} src={`../../media/min/operators/${attacker.toLowerCase()}.png`}/>\r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <form className=\"form\" id=\"set-attackers-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"attackers-field\">\r\n        <div>\r\n          <p className=\"form__label\">Preferred Attackers</p>\r\n            { attacker_buttons }\r\n          <span className=\"form__error\">{(props.errors ? props.errors.attackers : \"\")}</span>\r\n          <button className=\"form__button form__button--submit\" type=\"submit\">Save</button>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AttackersForm;\r\n","/* client/components/api/SetAttackersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ATTACKERS_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_ATTACKERS } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport AttackersForm from \"../partials/AttackersForm.js\";\r\n\r\n/*\r\n  @func: SetAttackersAPI\r\n  @desc: make a request to server to set attackers\r\n  @prop attackers: Array\r\n  @prop getAuthToken: function\r\n\r\n\r\n*/\r\nclass SetAttackersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      attackers: this.props.attackers\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(attacker) {\r\n    const index = this.state.attackers.indexOf(attacker);\r\n    if (index < 0) {\r\n      this.setState({\r\n        attackers: [...this.state.attackers, attacker]\r\n      })\r\n    } else {\r\n      let new_attackers = [...this.state.attackers];\r\n      new_attackers.splice(index, 1);\r\n      this.setState({\r\n        attackers: new_attackers\r\n      })\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-attackers\", {\r\n      attackers: this.state.attackers\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case ATTACKERS_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_ATTACKERS.message, ERROR_ATTACKERS.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetAttackersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <AttackersForm attackers={this.state.attackers} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetAttackersAPI;\r\n","/* client/components/partials/DefenderRoleForm.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: DefenderRoleForm\r\n  @desc: render defender role form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop role: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst DefenderRoleForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"set-defender-role-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"defender-role-field\">\r\n        <label className=\"form__label\" htmlFor=\"defender_role\">Primary Defender Role</label>\r\n        <select onChange={props.onChange} className={\"form__select\" + (props.errors && props.errors.role ? \" form__input--error\" : \"\")} value={props.defender_role} id=\"defender_role\" required>\r\n          <option>NONE</option>\r\n          <option>HARD BREACH DENIAL</option>\r\n          <option>INTEL DENIAL</option>\r\n          <option>INTEL</option>\r\n          <option>AREA DENIAL</option>\r\n          <option>TRAPS</option>\r\n          <option>UTILITY SOAK</option>\r\n          <option>SUPPORT</option>\r\n          <option>ROAM</option>\r\n        </select>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.role : \"\")}</span>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default DefenderRoleForm;\r\n","/* client/components/api/SetDefenderRoleAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { DEFENDER_ROLE_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_DEFENDER_ROLE } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport DefenderRoleForm from \"../partials/DefenderRoleForm.js\";\r\n\r\n/*\r\n  @func: SetDefenderRoleAPI\r\n  @desc: make a request to server to set attacker role\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass SetDefenderRoleAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      defender_role: this.props.defender_role\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    }, this.onSubmit);\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop defender_role: String\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit() {\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-defender-role\", {\r\n      role: this.state.defender_role\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case DEFENDER_ROLE_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_DEFENDER_ROLE.message, ERROR_DEFENDER_ROLE.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetDefenderRoleAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <DefenderRoleForm defender_role={this.state.defender_role} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetDefenderRoleAPI;\r\n","/* client/components/partials/DefendersForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport { DEFENDERS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: DefendersForm\r\n  @desc: render defenders form\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop defenders: Array\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst DefendersForm = (props) => {\r\n  const defender_buttons = DEFENDERS.map((defender, index) => {\r\n    return (\r\n      <div className=\"defenders-form__defender\" key={index}>\r\n        <input onChange={() => { props.onChange(defender); } } className={\"defenders-form__input \" + (props.defenders.indexOf(defender) >= 0 ? \"defenders-form__input--checked\" : \"\")} type=\"checkbox\" id={\"defenders-form__defender--\" + defender.toLowerCase()} checked={props.defenders.indexOf(defender) >= 0}/>\r\n        <label className=\"defenders-form__label\" htmlFor={\"defenders-form__defender--\" + defender.toLowerCase()}>\r\n          <img className=\"defenders-form__image\" alt={defender + \" Image\"} src={`../../media/min/operators/${defender.toLowerCase()}.png`}/>\r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <form className=\"form\" id=\"set-defenders-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"defenders-field\">\r\n        <div>\r\n          <p className=\"form__label\">Preferred Defenders</p>\r\n            { defender_buttons }\r\n          <span className=\"form__error\">{(props.errors ? props.errors.defenders : \"\")}</span>\r\n          <button className=\"form__button form__button--submit\" type=\"submit\">Save</button>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default DefendersForm;\r\n","/* client/components/api/SetDefendersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { DEFENDERS_SET } from \"../../messages/messages.js\";\r\nimport { ERROR_DEFENDERS } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport DefendersForm from \"../partials/DefendersForm.js\";\r\n\r\n/*\r\n  @func: SetDefendersAPI\r\n  @desc: make a request to server to set defenders\r\n  @prop defenders: Array\r\n  @prop getAuthToken: function\r\n\r\n\r\n*/\r\nclass SetDefendersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      defenders: this.props.defenders\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(defender) {\r\n    const index = this.state.defenders.indexOf(defender);\r\n    if (index < 0) {\r\n      this.setState({\r\n        defenders: [...this.state.defenders, defender]\r\n      })\r\n    } else {\r\n      let new_defenders = [...this.state.defenders];\r\n      new_defenders.splice(index, 1);\r\n      this.setState({\r\n        defenders: new_defenders\r\n      })\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @prop getAuthToken: function\r\n    @prop updateAuthToken: function\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/set-defenders\", {\r\n      defenders: this.state.defenders\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case DEFENDERS_SET.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_DEFENDERS.message, ERROR_DEFENDERS.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"SetDefendersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <DefendersForm defenders={this.state.defenders} onChange={this.onChange} onSubmit={this.onSubmit} errors={this.state.errors}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SetDefendersAPI;\r\n","/* client/components/api/PushNotificationsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { PUSH_SUBSCRIBE } from \"../../messages/messages.js\";\r\nimport { ERROR_PUSH } from \"../../messages/errors.js\";\r\nimport config from \"dotenv\";\r\nconfig.config();\r\nconst convertedVapidKey = process.env.REACT_APP_PUBLIC_VAPID_KEY;\r\n\r\nclass PushNotificationsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.urlBase64ToUint8Array = this.urlBase64ToUint8Array.bind(this);\r\n    this.sendSubscription = this.sendSubscription.bind(this);\r\n    this.subscribeUser = this.subscribeUser.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  urlBase64ToUint8Array(base64String) {\r\n    const padding = \"=\".repeat((4 - base64String.length % 4) % 4)\r\n    // eslint-disable-next-line\r\n    const base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\")\r\n\r\n    const rawData = window.atob(base64)\r\n    const outputArray = new Uint8Array(rawData.length)\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n      outputArray[i] = rawData.charCodeAt(i)\r\n    }\r\n    return outputArray\r\n  }\r\n  sendSubscription(subscription) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n\r\n    axios.defaults.headers.common[\"Authorization\"] = component.props.getAuthToken();\r\n    axios.post(\"/api/push/subscribe\", {\r\n      subscription: JSON.stringify(subscription)\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PUSH_SUBSCRIBE.status:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(PUSH_SUBSCRIBE.message, \"SUCCESS\");\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_PUSH.message, ERROR_PUSH.status);\r\n    });\r\n  }\r\n  subscribeUser() {\r\n    const component = this;\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(function(registration) {\r\n        if (!registration.pushManager) {\r\n          return component.props.alert(\"Push manager unavailable.\");\r\n        }\r\n\r\n        Notification.requestPermission().then((permission) => {\r\n          if (permission === \"granted\") {\r\n            registration.pushManager.getSubscription().then(function(existedSubscription) {\r\n              if (existedSubscription === null) {\r\n                registration.pushManager.subscribe({\r\n                  applicationServerKey: convertedVapidKey,\r\n                  userVisibleOnly: true,\r\n                }).then(function(newSubscription) {\r\n                  component.sendSubscription(newSubscription)\r\n                }).catch(function(e) {\r\n                  if (Notification.permission !== 'granted') {\r\n                    component.props.alert(\"Notification permissions are required to receive push notifications.\", \"ERROR\");\r\n                  } else {\r\n                    console.log(e);\r\n                    component.props.alert(\"An error occurred while attempting to subscribe to push notifications.\", \"ERROR\");\r\n                  }\r\n                })\r\n              } else {\r\n                component.sendSubscription(existedSubscription);\r\n              }\r\n            })\r\n          }\r\n        })\r\n\r\n      })\r\n        .catch(function(e) {\r\n          console.error('An error ocurred during Service Worker registration.', e);\r\n          component.props.alert(\"An error occurred while attempting to register for push notifications.\", \"ERROR\");\r\n        })\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"PushNotificationsAPI\">\r\n        { this.state.loading ? <Loading/> : (\r\n          <div>\r\n            <button onClick={this.subscribeUser}>Get Push Notifications</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PushNotificationsAPI;\r\n","/* client/components/api/DeleteUserAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { USER_DELETED } from \"../../messages/emails.js\";\r\nimport { USER_AND_TEAM_DELETED } from \"../../messages/emails.js\";\r\nimport { ERROR_DELETE_USER } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\n\r\n/*\r\n  @func: DeleteUserAPI\r\n  @desc: make a request to server to delete account\r\n  @prop getAuthToken: function\r\n  @prop logout: function\r\n\r\n*/\r\nclass DeleteUserAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n  */\r\n  onSubmit() {\r\n    if (window.confirm(\"Confirming this dialogue will permanently delete your account and all associated data including teams of which you are the sole member, editor, or admin. This cannot be undone.\")) {\r\n      const component = this;\r\n      this.setState({\r\n        errors: {},\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(\"/api/users/delete\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case USER_DELETED.status:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"Your account has been deleted.\", \"SUCCESS\");\r\n            this.props.logout();\r\n          case USER_AND_TEAM_DELETED.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"Your account and associated team have been deleted.\", \"SUCCESS\");\r\n            this.props.logout();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.props.alert(ERROR_DELETE_USER.message, ERROR_DELETE_USER.status);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"DeleteUserAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <p>Warning: this action is permanent and cannot be undone.</p>\r\n            <button id=\"deleteAccount\" className=\"button button--danger\" onClick={this.onSubmit}>Delete Account</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteUserAPI;\r\n","/* client/src/components/pages/User.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport UpdatePlatformAPI from \"../api/UpdatePlatformAPI.js\";\r\nimport UpdateUsernameAPI from \"../api/UpdateUsernameAPI.js\";\r\nimport UpdateEmailAPI from \"../api/UpdateEmailAPI.js\";\r\nimport UpdatePasswordAPI from \"../api/UpdatePasswordAPI.js\";\r\nimport SetAttackerRoleAPI from \"../api/SetAttackerRoleAPI.js\";\r\nimport SetAttackersAPI from \"../api/SetAttackersAPI.js\";\r\nimport SetDefenderRoleAPI from \"../api/SetDefenderRoleAPI.js\";\r\nimport SetDefendersAPI from \"../api/SetDefendersAPI.js\";\r\nimport PushNotificationsAPI from \"../api/PushNotificationsAPI.js\";\r\nimport DeleteUserAPI from \"../api/DeleteUserAPI.js\";\r\n\r\n/*\r\n  @func: User\r\n  @desc: render user page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop logout: function\r\n  @prop username: String\r\n  @prop email: String\r\n  @prop platform: String\r\n  @prop attacker_role: String\r\n  @prop attackers: Array\r\n  @prop defenders: Array\r\n  @prop defender_role: String\r\n  @prop alert: function\r\n\r\n*/\r\nconst User = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"user\">\r\n      <div className=\"account-section\">\r\n        <h3>Preferences</h3>\r\n        <div className=\"role\">\r\n          <h4>Roles</h4>\r\n          <SetAttackerRoleAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} attacker_role={props.attacker_role} alert={props.alert}/>\r\n          <SetDefenderRoleAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} defender_role={props.defender_role} alert={props.alert}/>\r\n        </div>\r\n        <div className=\"operators\">\r\n          <h4>Operators</h4>\r\n          <SetAttackersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} attackers={props.attackers} alert={props.alert}/>\r\n          <SetDefendersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} defenders={props.defenders} alert={props.alert}/>\r\n        </div>\r\n      </div>\r\n      <div className=\"account-section\" id=\"account-info\">\r\n        <h3>Account Information</h3>\r\n        <UpdatePlatformAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} platform={props.platform} alert={props.alert}/>\r\n        <UpdateUsernameAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} username={props.username} alert={props.alert}/>\r\n        <UpdateEmailAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} email={props.email} alert={props.alert}/>\r\n        <UpdatePasswordAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      </div>\r\n      <div className=\"account-section\" id=\"notifications\">\r\n        <h3>Notification Preferences</h3>\r\n        <PushNotificationsAPI getAuthToken={props.getAuthToken} alert={props.alert} subscription={props.subscription}/>\r\n      </div>\r\n      <div className=\"account-section account-section--danger\">\r\n        <h3>Manage Account</h3>\r\n        <DeleteUserAPI getAuthToken={props.getAuthToken} logout={props.logout} alert={props.alert} updateAuthToken={props.getAuthToken}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User;\r\n","/* client/src/components/partials/ProgressCircle.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ProgressCircle extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.count = this.count.bind(this);\r\n\r\n    this.state = {\r\n      value: 0,\r\n      counted: false\r\n    }\r\n  }\r\n  count() {\r\n    if (this.state.value < this.props.value) {\r\n      this.setState({\r\n        value: this.state.value + (0.05 * this.props.value)\r\n      });\r\n    } else {\r\n      this.setState({\r\n        value: this.props.value,\r\n        counted: true\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.counted) {\r\n      this.counter = setInterval(this.count, 50);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"progress-circle\">\r\n        <p>{this.props.label}</p>\r\n        <p className=\"progress-circle__value\">{Math.floor(this.state.value * 100) / 100}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProgressCircle;\r\n","/* client/components/api/GeneralStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { GENERAL_STATS_FOUND } from \"../../messages/messages.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ProgressCircle from \"../partials/ProgressCircle.js\";\r\n\r\n/*\r\n  @func: GetGeneralStatisticsAPI\r\n  @desc: get general stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass GeneralStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/general\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case GENERAL_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get general statistics\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"GeneralStatisticsAPI\" className=\"statistics-api\">\r\n        <h2 className=\"statistics-title\">Overview</h2>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics-container\">\r\n              <img className=\"user-image\" alt=\"User\" src={this.state.stats.avatar_url_256}/>\r\n              <h3 className=\"stats-grid__heading\">General</h3>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Progression</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"Level\" value={this.state.stats.progression.level}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Playtime</p>\r\n                    <span className=\"stat__value\">{Math.floor(this.state.stats.stats.general.playtime / 3600)} Hrs</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Games Played</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.games_played}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Personal Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"K/D\" value={this.state.stats.stats.general.kd}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Kills</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.kills}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Deaths</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.deaths}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Headshot %</p>\r\n                    <span className=\"stat__value\">{Math.round((this.state.stats.stats.general.headshots / this.state.stats.stats.general.kills) * 100)}%</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Team Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"W/L\" value={this.state.stats.stats.general.wl}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Wins</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.wins}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Losses</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.general.losses}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <h3 className=\"stats-grid__heading\">Ranked</h3>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Progression</h4>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Playtime</p>\r\n                    <span className=\"stat__value\">{Math.floor(this.state.stats.stats.queue.ranked.playtime / 3600)} Hrs</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Games Played</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.games_played}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Personal Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"K/D\" value={this.state.stats.stats.queue.ranked.kd}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Kills</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.kills}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Deaths</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.deaths}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stats-box\">\r\n                  <h4 className=\"stats__heading\">Team Performance</h4>\r\n                  <div className=\"stat stat--main\">\r\n                    <ProgressCircle label=\"W/L\" value={this.state.stats.stats.queue.ranked.wl}/>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Wins</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.wins}</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <p className=\"stat__label\">Losses</p>\r\n                    <span className=\"stat__value\">{this.state.stats.stats.queue.ranked.losses}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-error\">Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GeneralStatisticsAPI;\r\n","/* client/components/api/SeasonalStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { SEASONAL_STATS_FOUND } from \"../../messages/messages.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { CURRENT_SEASON } from \"../../data.js\";\r\n\r\n/*\r\n  @func: SeasonalStatisticsAPI\r\n  @desc: get seasonal stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass SeasonalStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false,\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/seasonal\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case SEASONAL_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get seasonal statistics.\", \"ERROR\");\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    const season_arr = CURRENT_SEASON.split(\"_\");\r\n    const season = season_arr[0].charAt(0).toUpperCase() + season_arr[0].slice(1) + \" \" + season_arr[1].charAt(0).toUpperCase() + season_arr[1].slice(1);\r\n    return (\r\n      <div id=\"SeasonalStatisticsAPI\" className=\"statistics-api\">\r\n        <div id=\"seasonal-stats-inside\">\r\n          <h2 className=\"statistics-title\">Operation {season}</h2>\r\n          <h3 className=\"statistics-title\">Seasonal Performance</h3>\r\n          { this.state.loading ? (\r\n            <Loading/>\r\n          ) : (\r\n            <div>\r\n            { this.state.stats ? (\r\n              <div className=\"statistics\">\r\n                <div className=\"stat--main\">\r\n                  <h3 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].rank_text}</h3>\r\n                  <p className=\"stat__label\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].mmr} MMR</p>\r\n                  <p className=\"stat__label stat__label--secondary\">MMR Change: {this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].last_match_mmr_change}</p>\r\n                </div>\r\n                <div className=\"stat\">\r\n                  <h3 className=\"stat__value--main\">{Math.floor(100 * (this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills / this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths)) / 100} KD</h3>\r\n                  <p className=\"stat__label\">Kills</p>\r\n                  <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills}</h4>\r\n                  <p className=\"stat__label\">Deaths</p>\r\n                  <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths}</h4>\r\n                  <p className=\"stat__label\">K/D Spread</p>\r\n                  <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].kills - this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].deaths}</h4>\r\n                </div>\r\n                <div className=\"stat\">\r\n                  <h3 className=\"stat__value--main\">{Math.floor(100 * (this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins / this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses)) / 100} WL</h3>\r\n                  <p className=\"stat__label\">Wins</p>\r\n                  <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins}</h4>\r\n                  <p className=\"stat__label\">Losses</p>\r\n                  <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses}</h4>\r\n                  <p className=\"stat__label\">W/L Spread</p>\r\n                  <h4 className=\"stat__value\">{this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].wins - this.state.stats.seasons[CURRENT_SEASON].regions.ncsa[0].losses}</h4>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <p className=\"statistics-failure\">Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n            )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SeasonalStatisticsAPI;\r\n","/* client/components/partials/OperatorStatistics.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Operator\r\n  @desc: render operator\r\n  @prop image: String\r\n  @prop name: String\r\n  @prop kd: String\r\n  @prop kills: String\r\n  @prop deaths: String\r\n  @prop wl: String\r\n  @prop wins: String\r\n  @prop losses: String\r\n  @prop playtime: String\r\n  @prop hsp: float\r\n*/\r\nconst OperatorStatistics = (props) => {\r\n  return (\r\n    <div className=\"operator-statistics\">\r\n      <div className=\"operator-info\">\r\n        <img className=\"operator-info__image\" alt=\"Operator\" src={props.image}/>\r\n        <h3 className=\"operator-info__name\">{props.name}</h3>\r\n      </div>\r\n      <div className=\"operator-stats\">\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">K/D</p>\r\n          <span className=\"operator-stats__value\">{props.kd}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Kills</p>\r\n          <span className=\"operator-stats__value\">{props.kills}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Deaths</p>\r\n          <span className=\"operator-stats__value\">{props.deaths}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">W/L</p>\r\n          <span className=\"operator-stats__value\">{props.wl}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Wins</p>\r\n          <span className=\"operator-stats__value\">{props.wins}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Losses</p>\r\n          <span className=\"operator-stats__value\">{props.losses}</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Playtime</p>\r\n          <span className=\"operator-stats__value\">{Math.floor(props.playtime / 3600)} Hrs</span>\r\n        </div>\r\n        <div className=\"operator-stats__stat\">\r\n          <p className=\"operator-stats__label\">Headshot %</p>\r\n          <span className=\"operator-stats__value\">{Math.round(props.hsp * 100 * 100) / 100}%</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OperatorStatistics;\r\n","/* client/components/api/OperatorStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { clean } from \"diacritic\";\r\nimport { OPERATOR_STATS_FOUND } from \"../../messages/messages.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport OperatorStatistics from \"../partials/OperatorStatistics.js\";\r\n\r\n/*\r\n  @func: OperatorStatisticsAPI\r\n  @desc: get operator stats about a user\r\n  @prop getAuthToken: function\r\n  @state:\r\n    stats: Object\r\n    loading: Boolean\r\n*/\r\nclass OperatorStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStats = this.fetchStats.bind(this);\r\n    this.sortOperators = this.sortOperators.bind(this);\r\n    this.searchOperators = this.searchOperators.bind(this);\r\n    this.toggleRows = this.toggleRows.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      search: \"\",\r\n      rows: false,\r\n    }\r\n  }\r\n  fetchStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/operators\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case OPERATOR_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            stats: response.data.stats,\r\n            operators: response.data.stats.operators\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(\"An error has occurred while attempting to get operator statistics.\", \"ERROR\");\r\n    });\r\n  }\r\n  sortOperators(e) {\r\n    let operators = [...this.state.stats.operators];\r\n    switch (e.target.id.toUpperCase()) {\r\n      case \"RELEASE\":\r\n        operators = operators;\r\n        break;\r\n      case \"NAME\":\r\n        operators = operators.sort((a, b) => { return (a.name > b.name) ? 1 : -1 });\r\n        break;\r\n      case \"KD\":\r\n        operators = operators.sort((a, b) => { return (a.kd > b.kd) ? -1 : 1 });\r\n        break;\r\n      case \"PLAYTIME\":\r\n        operators = operators.sort((a, b) => { return (a.playtime > b.playtime) ? -1 : 1 });\r\n        break;\r\n    }\r\n    this.setState({\r\n      operators: operators\r\n    });\r\n  }\r\n  searchOperators(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n  }\r\n  toggleRows() {\r\n    this.setState({\r\n      rows: !this.state.rows\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStats();\r\n    }\r\n  }\r\n  render() {\r\n    let operators = []\r\n    if (this.state.stats) {\r\n      this.state.operators.map((operator, index) => {\r\n        if (!operator.name.includes(\"Recruit\") && (this.state.search === \"\" || clean(operator.name.toUpperCase()).includes(this.state.search.toUpperCase()))) {\r\n          operators.push(<OperatorStatistics image={`../media/min/operators/${clean(operator.name.toLowerCase())}.png`} name={operator.name} kd={Math.round(operator.kd * 100) / 100} kills={operator.kills} deaths={operator.deaths} wl={Math.round(operator.wl * 100) / 100} wins={operator.wins} losses={operator.losses} playtime={Math.round(operator.playtime * 100) / 100} hsp={Math.round(operator.headshots / operator.kills * 100) / 100} key={index}/>)\r\n        }\r\n      });\r\n    }\r\n    return (\r\n      <div id=\"OperatorStatisticsAPI\" className={\"statistics-api\" + (this.state.rows ? \" statistics-api--rows\" : \"\")}>\r\n        <h2 className=\"statistics-title\">Operators</h2>\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n          { this.state.stats ? (\r\n            <div className=\"statistics\">\r\n              <div className=\"controls\">\r\n                <input onChange={this.searchOperators} value={this.state.search} placeholder=\"Search By Name\"/>\r\n                <button onClick={this.sortOperators} id=\"release\">Sort By Release</button>\r\n                <button onClick={this.sortOperators} id=\"name\">Sort By Name</button>\r\n                <button onClick={this.sortOperators} id=\"kd\">Sort By KD</button>\r\n                <button onClick={this.sortOperators} id=\"playtime\">Sort By Playtime</button>\r\n                <button onClick={this.toggleRows} id=\"rows\">{ this.state.rows ? \"Display Cards\" : \"Display Rows\" }</button>\r\n              </div>\r\n              { operators }\r\n            </div>\r\n          ) : (\r\n            <p>Unable to load statistics. Make sure your username matches the account for the platform you signed up with.</p>\r\n          )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default OperatorStatisticsAPI;\r\n","/* client/src/components/pages/Dashboard.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport GeneralStatisticsAPI from \"../api/GeneralStatisticsAPI.js\";\r\nimport SeasonalStatisticsAPI from \"../api/SeasonalStatisticsAPI.js\";\r\nimport OperatorStatisticsAPI from \"../api/OperatorStatisticsAPI.js\";\r\n\r\n/*\r\n  @func: Dashboard\r\n  @desc: render dashboard\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst Dashboard = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"dashboard\">\r\n      <h1>Dashboard</h1>\r\n      <GeneralStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      <SeasonalStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      <OperatorStatisticsAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard;\r\n","/* client/components/partials/CreateTeamForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: CreateTeamForm\r\n  @desc: render create team form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst CreateTeamForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"create-team-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"name-field\">\r\n        <label className=\"form__label\" htmlFor=\"name\">Team Name</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.name == null ? \"\" : \" form__input--error\")} value={props.name} id=\"name\" type=\"text\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.name : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit button\" type=\"submit\">Create Team</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CreateTeamForm;\r\n","/* client/components/api/CreateTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_CREATED } from \"../../messages/emails.js\";\r\nimport { ERROR_CREATE_TEAM } from \"../../messages/errors.js\";\r\n\r\nimport CreateTeamForm from \"../partials/CreateTeamForm.js\";\r\n\r\n/*\r\n  @func: CreateTeamAPI\r\n  @desc: manage state of team name and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass CreateTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(\"/api/teams/create-team\", {\r\n      name: this.state.name\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_CREATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your team has been created.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_CREATE_TEAM.message, ERROR_CREATE_TEAM.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"CreateTeamAPI\">\r\n        <h3>Create a Team</h3>\r\n        <CreateTeamForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading} name={this.state.name}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateTeamAPI;\r\n","/* client/components/partials/JoinTeamForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: JoinTeamForm\r\n  @desc: render join team form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop join_code: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst JoinTeamForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"join-team-form\" onSubmit={props.onSubmit}>\r\n      <fieldset className=\"form__fieldset\" id=\"join-code-field\">\r\n        <label className=\"form__label\" htmlFor=\"join_code\">Team Code</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.join_code == null ? \"\" : \" form__input--error\")} value={props.join_code} id=\"join_code\" type=\"text\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.join_code : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit button button--secondary\" type=\"submit\">Join Team</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default JoinTeamForm;\r\n","/* client/components/api/JoinTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_JOINED } from \"../../messages/messages.js\";\r\nimport { ERROR_JOIN_TEAM } from \"../../messages/errors.js\";\r\n\r\nimport JoinTeamForm from \"../partials/JoinTeamForm.js\";\r\n\r\n/*\r\n  @func: JoinTeamAPI\r\n  @desc: manage state of team name and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    join_code: String\r\n*/\r\nclass JoinTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      join_code: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of platform field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/join-team\", {\r\n      join_code: this.state.join_code\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_JOINED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"You have joined the team.\", \"SUCCESS\");\r\n          this.props.updateAuthToken();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_JOIN_TEAM.message, ERROR_JOIN_TEAM.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"JoinTeamAPI\">\r\n        <h3>Join a Team</h3>\r\n        <JoinTeamForm onSubmit={this.onSubmit} onChange={this.onChange} errors={this.state.errors} loading={this.state.loading} join_code={this.state.join_code}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default JoinTeamAPI;\r\n","/* client/src/components/partials/ErrorLoading.js */\r\n\r\nimport React from \"react\";\r\n\r\nconst ErrorLoading = () => {\r\n  return (\r\n    <div className=\"error-loading\">\r\n      <div className=\"error-loading__modal\">\r\n        <h3>Unable to load data</h3>\r\n        <p>Stratbook was unable to load the data required for this page to function. This typically happens when the client (your device) is unable to contact the servers, so check your network connection and refresh the page.\r\n        <br/><br/>\r\n        If you have a network connection and are still unable to retrieve the necessary data, there is likely a bug or other problem with the servers.\r\n        If you suspect this is the case, please email the lead developer at\r\n        <a id=\"email\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"mailto:cameron@burkholderwd.com\">cameron@burkholderwd.com</a>.</p>\r\n        <a id=\"refresh\" href=\"/\">Refresh</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorLoading;\r\n","/* client/components/partials/teamMember.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: teamMember\r\n  @desc: render team member\r\n  @prop username: String\r\n  @prop attacker_role: String\r\n  @prop attackers: Array\r\n  @prop defender_role: String\r\n  @prop defenders: Array\r\n  @prop status: String\r\n\r\n*/\r\nconst TeamMember = (props) => {\r\n  const attackers = props.attackers.map((attacker, index) => {\r\n    return (\r\n      <div className=\"attacker\" key={index}>\r\n        <img className=\"attacker__image\" alt={attacker} src={`../media/min/operators/${attacker.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")}.png`}/>\r\n      </div>\r\n    )\r\n  });\r\n  const defenders = props.defenders.map((defender, index) => {\r\n    return (\r\n      <div className=\"defender\" key={index}>\r\n        <img className=\"defender__image\" alt={defender} src={`../media/min/operators/${defender.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")}.png`}/>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <div className=\"team-member\">\r\n      <h4 className=\"team-member__username\">{props.username}</h4>\r\n      <p className=\"team-member__status\">{props.status}</p>\r\n      <p className=\"team-member__quality\">{props.attacker_role}</p>\r\n      <p className=\"team-member__quality\">{props.defender_role}</p>\r\n      { attackers.length > 0 ? (\r\n        <div className=\"attackers\">\r\n          <p className=\"team-member__attackers\">Preferred Attackers</p>\r\n          { attackers }\r\n        </div>\r\n      ) : \"\" }\r\n      { defenders.length > 0 ? (\r\n        <div className=\"defenders\">\r\n          <p className=\"team-member__defenders\">Preferred Defenders</p>\r\n          { defenders }\r\n        </div>\r\n      ) : \"\" }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeamMember;\r\n","/* client/components/api/ViewTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_TEAM } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport TeamMember from \"../partials/TeamMember.js\";\r\n\r\n/*\r\n  @func: ViewTeamAPI\r\n  @desc: manage state of team data\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ViewTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamData.bind(this);\r\n\r\n    this.state = {\r\n      team: {},\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamData() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            team: response.data.team_data\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_TEAM.message, ERROR_VIEW_TEAM.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.team.name) {\r\n      this.fetchTeamData();\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let teamMembers = [];\r\n        let index = 0;\r\n        if (this.state.team) {\r\n          this.state.team.admins.map((admin) => {\r\n            teamMembers.push(<TeamMember username={admin.username} status={admin.status} attacker_role={admin.attacker_role} attackers={admin.attackers} defender_role={admin.defender_role} defenders={admin.defenders} key={index++}/>);\r\n          });\r\n          this.state.team.editors.map((editor) => {\r\n            teamMembers.push(<TeamMember username={editor.username} status={editor.status} attacker_role={editor.attacker_role} attackers={editor.attackers} defender_role={editor.defender_role} defenders={editor.defenders} key={index++}/>);\r\n          });\r\n          this.state.team.members.map((member) => {\r\n            teamMembers.push(<TeamMember username={member.username} status={member.status} attacker_role={member.attacker_role} attackers={member.attackers} defender_role={member.defender_role} defenders={member.defenders} key={index++}/>);\r\n          })\r\n          contents = (\r\n            <div className=\"team\">\r\n              <h2 className=\"team-name\">{this.state.team.name}</h2>\r\n              <h3 className=\"team-description\">{this.state.team.platform} - {this.state.team.join_code}</h3>\r\n              <div className=\"roster\">\r\n                <h3>Roster</h3>\r\n                { teamMembers }\r\n              </div>\r\n            </div>\r\n          );\r\n        } else {\r\n          contents = <ErrorLoading/>\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ViewTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            { contents }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewTeamAPI;\r\n","/* client/components/partials/TeamMemberStats.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: TeamMemberStats\r\n  @desc: render team member statistics\r\n  @prop username: String\r\n  @prop kd: Float\r\n  @prop wl: Float\r\n  @prop mmr: Int\r\n  @prop mmrchange: Int\r\n  @prop level: Int\r\n\r\n*/\r\nconst TeamMemberStats = (props) => {\r\n  return (\r\n    <div className=\"team-member-stats\">\r\n      <h4 className=\"team-member-stats__username\">{props.username}</h4>\r\n      <p className=\"team-member-stats__stat\">{props.mmr} MMR</p>\r\n      <p className=\"team-member-stats__stat\">{props.kd} K/D</p>\r\n      <p className=\"team-member-stats__stat\">Level {props.level}</p>\r\n      <p className=\"team-member-stats__stat\">+/-{props.mmrchange} MMR</p>\r\n      <p className=\"team-member-stats__stat\">{props.wl} W/L</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeamMemberStats;\r\n","/* client/components/api/ViewTeamStatisticsAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_STATS_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_TEAM_STATS } from \"../../messages/errors.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport TeamMemberStats from \"../partials/TeamMemberStats.js\";\r\nimport ProgressCircle from \"../partials/ProgressCircle.js\";\r\n\r\n/*\r\n  @func: ViewTeamStatisticsAPI\r\n  @desc: view team stats\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ViewTeamStatisticsAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamStats.bind(this);\r\n\r\n    this.state = {\r\n      stats: undefined,\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamStats() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/statistics/team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_STATS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            stats: {\r\n              team: response.data.team,\r\n              kd: response.data.kd,\r\n              wl: response.data.wl,\r\n              mmr: response.data.mmr,\r\n              mmrchange: response.data.mmrchange,\r\n              level: response.data.level\r\n            }\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_TEAM_STATS.message, ERROR_TEAM_STATS.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.stats) {\r\n      this.fetchTeamStats();\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        if (this.state.stats.team) {\r\n          const teamMembers = this.state.stats.team.map((member) => {\r\n            return (\r\n              <TeamMemberStats username={member.username} kd={member.kd} wl={member.wl} mmr={member.mmr} mmrchange={member.mmrchange} level={member.level}/>\r\n            )\r\n          });\r\n          contents = (\r\n            <div className=\"team-statistics\">\r\n              <h2>Statistics</h2>\r\n              <div className=\"overview\">\r\n                <h3 className=\"overview-label\">Team Performance</h3>\r\n                <ProgressCircle value={this.state.stats.kd} label=\"K/D\"/>\r\n                <ProgressCircle value={this.state.stats.wl} label=\"W/L\"/>\r\n                <ProgressCircle value={this.state.stats.mmr} label=\"MMR\"/>\r\n                <p className=\"team-stat-label\"><span className=\"stat-label\">MMR +/-</span> {this.state.stats.mmrchange}</p>\r\n              </div>\r\n              <div className=\"member-statistics\">\r\n                <h3 className=\"overview-label\">Individual Performances</h3>\r\n                { teamMembers }\r\n              </div>\r\n            </div>\r\n          );\r\n        } else {\r\n          contents = <ErrorLoading/>\r\n        }\r\n      }\r\n    } else {\r\n      contents = <Loading/>\r\n    }\r\n    return (\r\n      <div id=\"ViewTeamStatisticsAPI\">\r\n        <div>\r\n          { contents }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewTeamStatisticsAPI;\r\n","/* client/components/api/LeaveTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_LEFT } from \"../../messages/messages.js\";\r\nimport { ERROR_LEAVE_TEAM } from \"../../messages/errors.js\";\r\n\r\n/*\r\n  @func: LeaveTeamAPI\r\n  @desc: make request to server to leave team\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass LeaveTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Are you sure you want to leave the team?\")) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/leave-team\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case TEAM_LEFT.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"You have left the team.\", \"SUCCESS\");\r\n            this.props.updateAuthToken();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.props.alert(ERROR_LEAVE_TEAM.message, ERROR_LEAVE_TEAM.status);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"LeaveTeamAPI\">\r\n        <button onClick={this.onSubmit} className=\"button--danger\">Leave Team</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LeaveTeamAPI;\r\n","/* client/src/components/pages/Team.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport CreateTeamAPI from \"../api/CreateTeamAPI.js\";\r\nimport JoinTeamAPI from \"../api/JoinTeamAPI.js\";\r\nimport ViewTeamAPI from \"../api/ViewTeamAPI.js\";\r\nimport ViewTeamStatisticsAPI from \"../api/ViewTeamStatisticsAPI.js\";\r\nimport LeaveTeamAPI from \"../api/LeaveTeamAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: Team\r\n  @desc: render team page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop team_code: String\r\n  @prop alert: function\r\n  @prop status: String\r\n*/\r\nconst Team = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"team\">\r\n      <h1>Team</h1>\r\n      { props.team_code ? (\r\n        <div className=\"hasTeam\">\r\n          { props.status === \"ADMIN\" ? (\r\n            <Link className=\"button\" to=\"/team/manage\">Manage Team</Link>\r\n          ) : \"\"}\r\n          <ViewTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          <ViewTeamStatisticsAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          <LeaveTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n        </div>\r\n      ) : (\r\n        <div className=\"hasNoTeam\">\r\n          <h2>You do not have a team</h2>\r\n          <p>It appears that you do not belong to a team. In order to use all the features of Stratbook, make or join one here.</p>\r\n          <div className=\"team-grid\">\r\n            <CreateTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} name={props.name} alert={props.alert}/>\r\n            <JoinTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Team;\r\n","/* client/src/components/api/UpdateTeamNameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { TEAM_FOUND } from \"../../messages/messages.js\";\r\nimport { TEAM_NAME_UPDATED } from \"../../messages/emails.js\";\r\nimport { ERROR_VIEW_TEAM } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_NAME } from \"../../messages/errors.js\";\r\n\r\nclass UpdateTeamNameAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamName = this.fetchTeamName.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      currentName: \"\",\r\n      newName: \"\"\r\n    }\r\n  }\r\n  fetchTeamName() {\r\n    const component = this;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            currentName: response.data.team_data.name\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_VIEW_TEAM.message, ERROR_VIEW_TEAM.status);\r\n    });\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      newName: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-name\", {\r\n      name: this.state.newName\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_NAME_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n            currentName: component.state.newName\r\n          });\r\n          component.props.alert(\"Team name has been updated.\", \"SUCCESS\");\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_NAME.message, ERROR_UPDATE_TEAM_NAME.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (this.state.loading) {\r\n      this.fetchTeamName();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"UpdateTeamNameAPI\">\r\n      { this.state.loading ? (\r\n        <Loading/>\r\n      ) : (\r\n        <div>\r\n          <h3 className=\"current-name\">Team Name</h3>\r\n          <div className=\"update-name-group\">\r\n            <input className=\"team-name-input form__input\" onChange={this.onChange} id=\"newName\" type=\"text\" value={this.state.newName} placeholder={this.state.currentName}/>\r\n            <button className=\"team-name-button button\" onClick={this.onSubmit}>Update Name</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateTeamNameAPI;\r\n","/* client/src/components/api/TeamAnnouncementAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { ANNOUNCEMENT_SENT } from \"../../messages/messages.js\";\r\nimport { ERROR_ANNOUNCE } from \"../../messages/errors.js\";\r\n\r\nclass TeamAnnouncementAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      message: \"\"\r\n    }\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      message: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(\"/api/teams/announce\", {\r\n      announcement: this.state.message\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case ANNOUNCEMENT_SENT.status:\r\n          component.setState({\r\n            loading: false,\r\n            message: \"\"\r\n          });\r\n          component.props.alert(ANNOUNCEMENT_SENT.message, \"SUCCESS\");\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_ANNOUNCE.message, ERROR_ANNOUNCE.status);\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"TeamAnnouncementAPI\">\r\n      { this.state.loading ? (\r\n        <Loading/>\r\n      ) : (\r\n        <div>\r\n          <h3>Make Announcement</h3>\r\n          <div className=\"announcement-input\">\r\n            <textarea onChange={this.onChange} type=\"text\" value={this.state.message} rows={5}/>\r\n            <button onClick={this.onSubmit}>Send</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TeamAnnouncementAPI;\r\n","/* client/src/components/partials/ManageTeamMember.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func ManageTeamMember\r\n  @desc manage state of team member on roster\r\n\r\n  @prop username: String\r\n  @prop status: String\r\n  @prop updateUserStatus: function\r\n  @prop blockUser: function\r\n\r\n*/\r\n\r\nconst ManageTeamMember = (props) => {\r\n  return (\r\n    <div className=\"manage-team-member\">\r\n      <h4 className=\"manage-team-member__username\">{props.username}</h4>\r\n      { props.status === \"ADMIN\" ? (\r\n        <p className=\"manage-team-member__status\">{props.status}</p>\r\n      ) : (\r\n        <select className=\"manage-team-member__input form__select\" onChange={(e) => { props.updateUserStatus(props.username, e.target.value) }} value={props.status}>\r\n          <option>MEMBER</option>\r\n          <option>EDITOR</option>\r\n          <option>ADMIN</option>\r\n        </select>\r\n      )}\r\n      { props.status === \"ADMIN\" ? (\"\") : (\r\n        <button onClick={() => { props.blockUser(props.username) }} className=\"manage-team-member__button button button--warning\">Block User</button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageTeamMember;\r\n","/* client/src/components/api/ManageTeamAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { TEAM_FOUND } from \"../../messages/messages.js\";\r\nimport { USER_STATUS_UPDATED } from \"../../messages/emails.js\";\r\nimport { USER_BLOCKED } from \"../../messages/messages.js\";\r\nimport { TEAM_STATUS_UPDATED } from \"../../messages/emails.js\";\r\nimport { TEAM_PLATFORM_UPDATED } from \"../../messages/messages.js\";\r\nimport { TEAM_MMR_UPDATED } from \"../../messages/messages.js\";\r\nimport { ERROR_TEAM } from\"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_USER_STATUS } from \"../../messages/errors.js\";\r\nimport { ERROR_BLOCK_USER } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_STATUS } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_PLATFORM } from \"../../messages/errors.js\";\r\nimport { ERROR_UPDATE_TEAM_MMR } from \"../../messages/errors.js\";\r\nimport { RANKS, MMR_THRESHOLDS } from \"../../data.js\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport ManageTeamMember from \"../partials/ManageTeamMember.js\";\r\n\r\n/*\r\n  @func: ManageTeamAPI\r\n  @desc: manage state of team data\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass ManageTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchTeamData = this.fetchTeamData.bind(this);\r\n    this.updateUserStatus = this.updateUserStatus.bind(this);\r\n    this.blockUser = this.blockUser.bind(this);\r\n    this.updateTeamStatus = this.updateTeamStatus.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.changeTeamPlatform = this.changeTeamPlatform.bind(this);\r\n    this.changeTeamMMR = this.changeTeamMMR.bind(this);\r\n\r\n    this.state = {\r\n      team: {},\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchTeamData() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-team\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n\r\n        case TEAM_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            team: response.data.team_data,\r\n            status: (response.data.team_data.open ? \"Allow New Members\" : \"No New Members\"),\r\n            platform: response.data.team_data.platform,\r\n            mmr: response.data.team_data.mmr\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_TEAM.message, ERROR_TEAM.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.team.name) {\r\n      this.fetchTeamData();\r\n    }\r\n  }\r\n  updateUserStatus(username, status) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/users/update-user-status\", {\r\n      username: username,\r\n      status: status\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      switch (response.data.status) {\r\n        case USER_STATUS_UPDATED.status:\r\n          component.setState({\r\n            loading: false\r\n          });\r\n          component.fetchTeamData();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false\r\n      });\r\n      component.props.alert(ERROR_UPDATE_USER_STATUS.message, ERROR_UPDATE_USER_STATUS.status);\r\n    });\r\n  }\r\n  blockUser(username) {\r\n    if (window.confirm(`You are about to block ${username} from the team. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/block-user\", {\r\n        username: username\r\n      })\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case USER_BLOCKED.status:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"SUCCESS\", \"User has been blocked successfully.\");\r\n            component.fetchTeamData();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n        setTimeout(() => {\r\n          window.location.reload(false);\r\n        }, 500);\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(ERROR_BLOCK_USER.message, ERROR_BLOCK_USER.status);\r\n      });\r\n    }\r\n  }\r\n  updateTeamStatus() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-team-status\", {\r\n      status: (component.state.status === \"Allow New Members\" ? true : false)\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_STATUS_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n            status: (response.data.open ? \"Allow New Members\" : \"No New Members\")\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_STATUS.message, ERROR_UPDATE_TEAM_STATUS.status);\r\n    });\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      status: e.target.value\r\n    }, this.updateTeamStatus);\r\n  }\r\n  changeTeamPlatform(e) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      platform: e.target.value\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-team-platform\", {\r\n      platform: e.target.value\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_PLATFORM_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_PLATFORM.message, ERROR_UPDATE_TEAM_PLATFORM.status);\r\n    });\r\n  }\r\n  changeTeamMMR(e) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(\"/api/teams/update-team-mmr\", {\r\n      mmr: RANKS[e.target.value]\r\n    })\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case TEAM_MMR_UPDATED.status:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(\"Your team MMR threshold has been updated.\", \"SUCCESS\");\r\n          component.fetchTeamData();\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_UPDATE_TEAM_MMR.message, ERROR_UPDATE_TEAM_MMR.status);\r\n    });\r\n  }\r\n  render() {\r\n    let contents = <Loading/>;\r\n    if (!this.state.loading) {\r\n      if (this.state.error) {\r\n        contents = <ErrorLoading/>\r\n      } else {\r\n        let teamMembers = [];\r\n        let index = 0;\r\n        this.state.team.admins.forEach((admin) => {\r\n          teamMembers.push(<ManageTeamMember username={admin.username} status={admin.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        });\r\n        this.state.team.editors.forEach((editor) => {\r\n          teamMembers.push(<ManageTeamMember username={editor.username} status={editor.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        });\r\n        this.state.team.members.forEach((member) => {\r\n          teamMembers.push(<ManageTeamMember username={member.username} status={member.status} updateUserStatus={this.updateUserStatus} blockUser={this.blockUser} key={index++}/>);\r\n        })\r\n        contents = (\r\n          <div className=\"team\">\r\n            { teamMembers }\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ManageTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <h3>Roster</h3>\r\n            { contents }\r\n            <div className=\"team-status\">\r\n              <p>Team Status</p>\r\n              <select onChange={this.onChange} value={this.state.status}>\r\n                <option>Allow New Members</option>\r\n                <option>No New Members</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"team-platform\">\r\n              <p>Team Platform</p>\r\n              <select onChange={this.changeTeamPlatform} value={this.state.platform}>\r\n                <option>XBOX</option>\r\n                <option>PC</option>\r\n                <option>PS4</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"team-mmr\">\r\n              <p>MMR Threshold</p>\r\n              <select onChange={this.changeTeamMMR} value={MMR_THRESHOLDS[this.state.mmr]}>\r\n                <option>None</option>\r\n                <option>Silver III</option>\r\n                <option>Silver II</option>\r\n                <option>Silver I</option>\r\n                <option>Gold III</option>\r\n                <option>Gold II</option>\r\n                <option>Gold I</option>\r\n                <option>Platinum III</option>\r\n                <option>Platinum II</option>\r\n                <option>Platinum I</option>\r\n                <option>Diamond</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ManageTeamAPI;\r\n","/* client/src/components/api/UpdateTeamNameAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../partials/Loading.js\";\r\nimport { TEAM_DELETED } from \"../../messages/messages.js\";\r\nimport { ERROR_DELETE_TEAM } from \"../../messages/errors.js\";\r\n\r\nclass DeleteTeamAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      loading: false\r\n    }\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (window.confirm(\"Deleting your team is a permanent action that cannot be undone. All data associated with this team will be purged from the Stratbook databases. Are you sure you want to do this?\")) {\r\n      const component = this;\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(\"/api/teams/delete-team\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case TEAM_DELETED.status:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"Your team has been deleted.\", \"SUCCESS\");\r\n            component.props.updateAuthToken();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.updateAuthToken();\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(ERROR_DELETE_TEAM.message, ERROR_DELETE_TEAM.status);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"DeleteTeamAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <button onClick={this.onSubmit} className=\"form__button form__button--submit button button--danger\" id=\"DeleteTeamAPI\">Delete Team</button>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteTeamAPI;\r\n","/* client/src/components/api/BlockedUsersAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loading from \"../partials/Loading.js\";\r\nimport ErrorLoading from \"../partials/ErrorLoading.js\";\r\nimport { BLOCKED_USERS_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_BLOCKED_USERS } from \"../../messages/errors.js\";\r\n\r\n/*\r\n  @func: BlockedUsersAPI\r\n  @desc: view and manage blocked users\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n\r\n*/\r\nclass BlockedUsersAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchBlockedUsers = this.fetchBlockedUsers.bind(this);\r\n    this.unblockUser = this.unblockUser.bind(this);\r\n\r\n    this.state = {\r\n      blocked_users: undefined,\r\n      loading: true\r\n    }\r\n  }\r\n  /*\r\n    @func: fetchTeamData\r\n    @desc: get team data from server\r\n  */\r\n  fetchBlockedUsers() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/teams/view-blocked-users\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case BLOCKED_USERS_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            blocked_users: response.data.blocked_users\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        error: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_BLOCKED_USERS.message, ERROR_VIEW_BLOCKED_USERS.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.blocked_users) {\r\n      this.fetchBlockedUsers();\r\n    }\r\n  }\r\n  unblockUser(username, _id) {\r\n    if (window.confirm(`You are about to unblock ${username}. He/she will be able to join the team if he/she has the join code. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.patch(\"/api/teams/unblock-user\", {\r\n        _id: _id\r\n      })\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case \"USER_UNBLOCKED\":\r\n            component.setState({\r\n              loading: false\r\n            });\r\n            component.props.alert(\"User has been unblocked successfully.\", \"SUCCESS\");\r\n            component.fetchBlockedUsers();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false\r\n        });\r\n        component.props.alert(\"An error has occurred while attempting to unblock user.\", \"ERROR\");\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let contents = <Loading/>;\r\n    if (this.state.error) {\r\n      contents = <ErrorLoading/>;\r\n    } else {\r\n      if (this.state.blocked_users) {\r\n        if (this.state.blocked_users.length > 0) {\r\n          contents = this.state.blocked_users.map((user) => {\r\n            return (\r\n              <div className=\"blocked-user\">\r\n                <h4>{user.username}</h4>\r\n                <button className=\"button button--secondary\" onClick={() => { this.unblockUser(user.username, user._id) }}>Unblock</button>\r\n              </div>\r\n            )\r\n          })\r\n        } else {\r\n          contents = \"No users have been blocked.\";\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"BlockedUsersAPI\">\r\n        { this.state.loading ? (\r\n          <Loading/>\r\n        ) : (\r\n          <div>\r\n            <h3>Blocked Users</h3>\r\n            { contents }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlockedUsersAPI;\r\n","/* client/src/components/pages/ManageTeam.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport UpdateTeamNameAPI from \"../api/UpdateTeamNameAPI.js\";\r\nimport TeamAnnouncementAPI from \"../api/TeamAnnouncementAPI.js\";\r\nimport ManageTeamAPI from \"../api/ManageTeamAPI.js\";\r\nimport DeleteTeamAPI from \"../api/DeleteTeamAPI.js\";\r\nimport BlockedUsersAPI from \"../api/BlockedUsersAPI.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: ManageTeam\r\n  @desc: render manage team page\r\n  @prop getAuthToken: function\r\n  @prop updateAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst ManageTeam = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"manage-team\">\r\n      <h1>Manage Team</h1>\r\n      <Link className=\"button\" to=\"/team\">Back to Team</Link>\r\n      <div id=\"TeamControls\">\r\n        <UpdateTeamNameAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n        <TeamAnnouncementAPI getAuthToken={props.getAuthToken} alert={props.alert}/>\r\n      </div>\r\n      <ManageTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      <BlockedUsersAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n      <DeleteTeamAPI getAuthToken={props.getAuthToken} updateAuthToken={props.updateAuthToken} alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageTeam;\r\n","/* client/src/components/partials/ViewerToolbar.js */\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass ViewerToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleStrategyNavigation = this.toggleStrategyNavigation.bind(this);\r\n\r\n    this.state = {\r\n      strategy: (this.props.strategy !== \"\" ? this.props.strategy : \"Unnamed\"),\r\n      nav: false\r\n    }\r\n  }\r\n  toggleStrategyNavigation() {\r\n    this.setState({\r\n      nav: !this.state.nav\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.strategy !== this.state.strategy && !this.state.active) {\r\n      this.setState({\r\n        strategy: this.props.strategy\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let sites = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.sites.map((site, index) => {\r\n        return (\r\n          <button onClick={() => { this.props.selectSite(index) }} className={(index === this.props.siteIndex ? \"site--active\" : \"\")} key={index}>{site}</button>\r\n        )\r\n      })\r\n    ))\r\n    let strategies = this.props.strategies.map((strat, index) => {\r\n      return (\r\n        <button onClick={() => { this.props.selectStrategy(index) }} className={(index === this.props.strategyIndex ? \"strategy--active\" : \"\")} key={index}>{strat.name}</button>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className={\"toolbar\" + (this.state.nav ? \" toolbar--active\" : \"\")}>\r\n        <button onClick={this.toggleStrategyNavigation} className={\"toolbar__navigation-button\" + (this.state.nav ? \" toolbar__navigation-button--active\" : \"\")}>&#9776;</button>\r\n        <h4 className=\"toolbar__strategy\" onClick={this.changeName}>{this.state.strategy}</h4>\r\n        { this.props.type === \"ATTACK\" ? (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\" onClick={this.props.insertDrone}>\r\n              <img className=\"action__img\" src=\"../../media/min/drone.png\" alt=\"Drone\"/>\r\n              <p>Drones ({this.props.drones.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\" onClick={this.props.insertBreach}>\r\n              <img className=\"action__img\" src=\"../../media/min/breach.png\" alt=\"Breach\"/>\r\n              <p>Breaches ({this.props.breaches.length})</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\" onClick={this.props.insertReinforcement}>\r\n              <img className=\"action__img\" src=\"../../media/min/reinforcement.png\" alt=\"Reinforcement\"/>\r\n              <p>Reinforcements ({this.props.reinforcements.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\" onClick={this.props.insertRotate}>\r\n              <img className=\"action__img\" src=\"../../media/min/rotate.png\" alt=\"Rotate\"/>\r\n              <p>Rotates ({this.props.rotates.length})</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <h4 className=\"toolbar__label\">Viewing</h4>\r\n        <div className={\"toolbar__navigation\" + (this.state.nav ? \" toolbar__navigation--active\" : \"\")}>\r\n          <h3>{this.props.map.name}</h3>\r\n          <Link to=\"/strategies\" onClick={this.props.fetchStrategies} id=\"showMaps\">Back to Maps</Link>\r\n          <div className=\"strategy__navigation\">\r\n            <h4>Mode</h4>\r\n            <div className=\"type-selector\">\r\n              <button onClick={() => { this.props.updateType(\"ATTACK\") }} className={this.props.type === \"ATTACK\" ? \"type--active\" : \"\"}>Attack</button>\r\n              <button onClick={() => { this.props.updateType(\"DEFENSE\") }} className={this.props.type === \"ATTACK\" ? \"\" : \"type--active\"}>Defense</button>\r\n            </div>\r\n            { this.props.type === \"ATTACK\" ? \"\" : (\r\n              <div className=\"site-container\">\r\n                <h4>Sites</h4>\r\n                <div>\r\n                  { sites }\r\n                </div>\r\n              </div>\r\n            )}\r\n            <h4>Strategies</h4>\r\n            <div className=\"strategy-selector\">\r\n              { strategies }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerToolbar;\r\n","/* client/src/components/partials/ViewerSidebar.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ViewerSidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleSidebar = this.toggleSidebar.bind(this);\r\n\r\n    this.state = {\r\n      index: 0,\r\n      name: \"\",\r\n      showSidebar: false\r\n    }\r\n  }\r\n  toggleSidebar() {\r\n    this.setState({\r\n      showSidebar: !this.state.showSidebar\r\n    });\r\n  }\r\n  render() {\r\n    const sites = this.props.sites.map((site, index) => {\r\n      return (\r\n        <div className={\"site\" + (this.props.siteIndex === index ? \" site--active\" : \"\")} onClick={() => { this.props.selectSite(index) }} key={index}>\r\n          <span className=\"site__number\">Site {index + 1}</span>\r\n          <p className=\"site__name\">{site}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const scenes = this.props.scenes.map((scene, index) => {\r\n      return (\r\n        <div className={\"scene\" + (this.props.sceneIndex === index ? \" scene--active\" : \"\")}\r\n          onClick={() => {\r\n            if (!this.state.active) {\r\n              this.props.selectScene(index);\r\n            }\r\n          }} key={index}>\r\n          <span className=\"scene__number\">Scene {index + 1}</span>\r\n          <p className=\"scene__name\">{scene.name}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const strategies = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.strategies.map((strat, index) => {\r\n        return (\r\n          <div className={\"strategy\" + (this.props.strategyIndex === index ? \" strategy--active\" : \"\")} onClick={() => { this.props.selectStrategy(index) }} key={index}>\r\n            <p className=\"strategy__name\">{strat.name}</p>\r\n          </div>\r\n        )\r\n      })\r\n    ));\r\n    return (\r\n      <div className={\"sidebar\" + (this.state.showSidebar ? \" sidebar--active\" : \"\")}>\r\n        <button onClick={this.toggleSidebar}>&#8594;</button>\r\n        <div className=\"sidebar-body\">\r\n          { this.props.type === \"ATTACK\" ? (\r\n            <div className=\"site-container\">\r\n              <h3 className=\"site-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"site-container__subtitle\">{this.props.strategy}</h4>\r\n              { this.props.shared ? (\r\n                <div className=\"viewer-toggle\">\r\n                  <label className=\"switch\">\r\n                    <span className={\"slider slider--active round\"}></span>\r\n                  </label>\r\n                  <p>Shared</p>\r\n                  <a className=\"toggle__link\" rel=\"noopener noreferrer\" href={( this.props.shared ? window.location.protocol + \"//\" + window.location.host + \"/shared/\" + this.props.shared_key : \"\")} target=\"_blank\">view</a>\r\n                  <button className=\"toggle__button\" onClick={() => {\r\n                    const temp = document.createElement(\"textarea\");\r\n                    temp.value = window.location.protocol + \"//\" + window.location.host + \"/shared/\" + this.props.shared_key;\r\n                    document.body.appendChild(temp);\r\n                    temp.select();\r\n                    temp.setSelectionRange(0, 99999);\r\n                    document.execCommand(\"copy\");\r\n                    document.body.removeChild(temp);\r\n                    this.props.alert(\"The link to your shared strategy has been copied.\", \"Strategy Link Copied\");\r\n                  }}>&#128203;</button>\r\n                </div>\r\n              ) : \"\"}\r\n              { sites }\r\n            </div>\r\n          ) : (\r\n            <div className=\"strategy-container\">\r\n              <h3 className=\"strategy-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"strategy-container__subtitle\">{this.props.sites[this.props.siteIndex]}</h4>\r\n              { this.props.shared ? (\r\n                <div className=\"viewer-toggle\">\r\n                  <label className=\"switch\">\r\n                    <span className={\"slider slider--active round\"}></span>\r\n                  </label>\r\n                  <p>Shared</p>\r\n                  <a className=\"toggle__link\" rel=\"noopener noreferrer\" href={( this.props.shared ? window.location.protocol + \"//\" + window.location.host + \"/shared/\" + this.props.shared_key : \"\")} target=\"_blank\">view</a>\r\n                  <button className=\"toggle__button\" onClick={() => {\r\n                    const temp = document.createElement(\"textarea\");\r\n                    temp.value = window.location.protocol + \"//\" + window.location.host + \"/shared/\" + this.props.shared_key;\r\n                    document.body.appendChild(temp);\r\n                    temp.select();\r\n                    temp.setSelectionRange(0, 99999);\r\n                    document.execCommand(\"copy\");\r\n                    document.body.removeChild(temp);\r\n                    this.props.alert(\"The link to your shared strategy has been copied.\", \"Strategy Link Copied\");\r\n                  }}>&#128203;</button>\r\n                </div>\r\n              ) : \"\"}\r\n              { strategies }\r\n            </div>\r\n          )}\r\n          <div className=\"scene-container\">\r\n            <h3 className=\"scene-container__heading\">Scenes</h3>\r\n            { scenes }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerSidebar;\r\n","/* client/src/components/partials/FloorSelector.js */\r\n\r\nimport React from \"react\";\r\n\r\nconst FloorSelector = (props) => {\r\n  const options = props.floors.map((floor, index) => {\r\n    return <option key={index}>{floor}</option>\r\n  })\r\n  return (\r\n    <select onChange={props.onChange} className=\"form__select\" value={props.floor}>\r\n      {options}\r\n    </select>\r\n  )\r\n}\r\n\r\nexport default FloorSelector;\r\n","/* client/src/components/partials/ZoomSelector.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ZoomSelector extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"zoom-selector\">\r\n        <p>Zoom Level: {this.props.zoom}X</p>\r\n        <input onChange={this.props.onChange} value={this.props.zoom} type=\"range\" min=\"1\" max=\"3\" step=\"0.1\"/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ZoomSelector;\r\n","/* client/components/partials/Pagination.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Pagination\r\n  @desc: allow a user to page through content\r\n*/\r\nconst Pagination = (props) => {\r\n  return (\r\n    <div className=\"pagination\">\r\n      <button className=\"pagination__button\" onClick={() => {\r\n        if (props.index - 1 >= 0) {\r\n          props.onChange(props.index - 1);\r\n        }\r\n      }}> &lt; </button>\r\n      <p className=\"pagination__title\">{props.activeLabel}</p>\r\n      <button className=\"pagination__button\" onClick={() => {\r\n        if (props.index + 1 < props.labels.length) {\r\n          props.onChange(props.index + 1);\r\n        }\r\n      }}> &gt; </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination;\r\n","/* client/src/components/partials/ViewerDragItem.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ViewerDragItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      drag: false,\r\n      x: this.props.x,\r\n      y: this.props.y,\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ top: (this.props.y ? this.props.y : 0), left: (this.props.x ? this.props.x : 0), backgroundImage: `url(${this.props.url})`, backgroundSize: \"cover\", backgroundPosition: \"center\" }}\r\n      className={\"drag-item\" + ` drag-${this.props.type.toLowerCase()}` + (this.props.drag ? \" drag\" : \"\") + (this.state.selected ? \" drag-item--selected\" : \"\")}\r\n        data-type={this.props.type}>\r\n        { this.props.labels ? (\r\n          <span>{(this.props.type === \"GADGET\" || this.props.type === \"UTILITY\" || this.props.type === \"OPERATOR\" ? this.props.value.replace(\"_\", \" \").replace(\"_\", \" \").toUpperCase() : \"\")}</span>\r\n        ) : \"\"}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerDragItem;\r\n","/* client/src/components/partials/ViewerPositionOverlay.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewerDragItem from \"./ViewerDragItem.js\";\r\n\r\nclass ViewerPositionOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Handle drag canvas\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n\r\n    // Handle new props\r\n    this.detectChange = this.detectChange.bind(this);\r\n\r\n    this.innerSelector = React.createRef();\r\n\r\n    this.state = {\r\n      index: 0,\r\n      type: \"\",\r\n      operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n      gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n      utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n      drones: (this.props.drones ? [...this.props.drones] : []),\r\n      rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n      reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n      breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n      style: JSON.parse(JSON.stringify(this.props.style)),\r\n      selected: {}\r\n    }\r\n  }\r\n  onDrag(e) {\r\n    this.props.onDragStart(e);\r\n  }\r\n  onDragTouch(t) {\r\n    this.props.onDragTouch(t);\r\n  }\r\n  detectChange(prevProps, prevState) {\r\n    let bool = false;\r\n    if (prevProps !== this.props || prevProps.zoom !== this.props.zoom) {\r\n      bool = true;\r\n    }\r\n    return bool;\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      let bounds = this.innerSelector.current.getBoundingClientRect();\r\n      let newBounds = {\r\n        top: bounds.top + window.pageYOffset,\r\n        left: bounds.left + window.pageXOffset,\r\n        x: bounds.x + window.pageXOffset,\r\n        y: bounds.y + window.pageYOffset,\r\n        width: bounds.width,\r\n        height: bounds.height\r\n      }\r\n      this.setState({\r\n        bounds: newBounds\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.detectChange(prevProps, prevState)) {\r\n      let bounds;\r\n      if (this.props.zoom !== prevProps.zoom || this.props.offsetX !== prevProps.offsetX || this.props.offsetY !== prevProps.offsetY) {\r\n        let newBounds = this.innerSelector.current.getBoundingClientRect();\r\n        bounds = {\r\n          top: newBounds.top + window.pageYOffset,\r\n          left: newBounds.left + window.pageXOffset,\r\n          x: newBounds.x + window.pageXOffset,\r\n          y: newBounds.y + window.pageYOffset,\r\n          width: newBounds.width,\r\n          height: newBounds.height\r\n        }\r\n      } else {\r\n        bounds = this.state.bounds;\r\n      }\r\n      this.setState({\r\n        index: 0,\r\n        type: \"\",\r\n        operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n        gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n        utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n        drones: (this.props.drones ? [...this.props.drones] : []),\r\n        rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n        reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n        breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n        bounds: bounds\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let breaches = [];\r\n    this.state.breaches.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/breach.png\";\r\n        breaches.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"BREACH\" bounds={this.state.bounds} labels={this.props.labels}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let reinforcements = [];\r\n    this.state.reinforcements.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/reinforcement.png\";\r\n        reinforcements.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"REINFORCEMENT\" bounds={this.state.bounds} labels={this.props.labels}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let rotates = [];\r\n    this.state.rotates.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/rotate.png\";\r\n        rotates.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"ROTATE\" bounds={this.state.bounds} labels={this.props.labels}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let drones = [];\r\n    this.state.drones.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/drone.png\";\r\n        drones.push(\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"DRONE\" bounds={this.state.bounds} labels={this.props.labels}\r\n            selected={this.state.selected}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n\r\n    let utility = [];\r\n    this.state.utilityPositions.map((pos, index) => {\r\n      pos.forEach((u, uindex) => {\r\n        if (u.floor === this.props.floorIndex) {\r\n          let url = `../../media/min/utility/${this.props.utility[index].replace(\" \", \"_\").replace(\" \", \"_\")}.png`;\r\n          utility.push(\r\n            <ViewerDragItem url={url}\r\n            x={u.x} y={u.y}\r\n            selectElement={this.selectElement} index={index} gi={uindex} key={uindex * index + uindex} drag={this.state.drag}\r\n            type=\"UTILITY\" bounds={this.state.bounds} value={this.props.utility[index]} labels={this.props.labels}\r\n            selected={this.state.selected}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    let gadgets = [];\r\n    this.state.gadgetPositions.map((pos, index) => {\r\n      pos.forEach((g, gindex) => {\r\n        if (g.floor === this.props.floorIndex) {\r\n          let gadget = this.props.gadgets[index].gadget.replace(\" \", \"_\").replace(\" \", \"_\").toUpperCase();\r\n          let url = `../../media/min/gadgets/${gadget}.png`;\r\n          gadgets.push(\r\n            <ViewerDragItem url={url}\r\n            x={g.x} y={g.y}\r\n            selectElement={this.selectElement} index={index} gi={gindex} key={gindex * index + gindex} drag={this.state.drag}\r\n            type=\"GADGET\" bounds={this.state.bounds} value={this.props.gadgets[index].gadget} labels={this.props.labels}\r\n            selected={this.state.selected}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    const operators = this.state.operatorPositions.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = `../../media/min/operators/${this.props.operators[index].toLowerCase()}.png`;\r\n        return (\r\n          <ViewerDragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"OPERATOR\" bounds={this.state.bounds} value={this.props.operators[index]} labels={this.props.labels}\r\n            selected={this.state.selected}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n    return (\r\n      <div className=\"position-overlay\" style={this.props.style} ref={this.innerSelector} onMouseDown={this.onDrag} onTouchStart={this.onDragTouch}>\r\n        { reinforcements }\r\n        { rotates }\r\n        { breaches }\r\n        { drones }\r\n        { utility }\r\n        { gadgets }\r\n        { operators }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerPositionOverlay;\r\n","/* client/src/components/partials/ViewerBlueprintForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewerPositionOverlay from \"./ViewerPositionOverlay.js\";\r\nimport { CANVAS_WIDTH, CANVAS_HEIGHT } from \"../../data.js\";\r\n\r\nclass ViewerBlueprintForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onDragStart = this.onDragStart.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragStop = this.onDragStop.bind(this);\r\n\r\n    this.selector = React.createRef();\r\n\r\n    this.state = {\r\n      offsetX: 0,\r\n      offsetY: 0\r\n    };\r\n  }\r\n  onDragStart(e) {\r\n    this.setState({\r\n      startX: e.clientX,\r\n      startY: e.clientY,\r\n      move: true\r\n    }, () => {\r\n      document.addEventListener(\"mousemove\", this.onDrag);\r\n      document.addEventListener(\"mouseup\", this.onDragStop);\r\n    });\r\n  }\r\n  onDragTouch(t) {\r\n    this.setState({\r\n      startX: t.touches[0].clientX,\r\n      startY: t.touches[0].clientY,\r\n      move: true\r\n    }, () => {\r\n      document.addEventListener(\"touchmove\", this.onDrag);\r\n      document.addEventListener(\"touchend\", this.onDragStop);\r\n    })\r\n  }\r\n  onDrag(e) {\r\n    let offsetX = e.clientX - this.state.startX;\r\n    let offsetY = e.clientY - this.state.startY;\r\n    if (e.touches) {\r\n      offsetX = e.touches[0].clientX - this.state.startX;\r\n      offsetY = e.touches[0].clientY - this.state.startY;\r\n    }\r\n\r\n    if (!this.state.isMobile) {\r\n      const xLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.CANVAS_WIDTH) - this.state.bounds.CANVAS_WIDTH) / 2);\r\n      const xUpperBound = this.props.zoom * ((this.state.bounds.CANVAS_WIDTH - (this.props.zoom * this.state.bounds.CANVAS_WIDTH)) / 2);\r\n      const yLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.CANVAS_HEIGHT) - this.state.bounds.CANVAS_HEIGHT) / 2);\r\n      const yUpperBound = this.props.zoom * ((this.state.bounds.CANVAS_HEIGHT - (this.props.zoom * this.state.bounds.CANVAS_HEIGHT)) / 2);\r\n\r\n      if (offsetX > xLowerBound) {\r\n        offsetX = xLowerBound;\r\n      }\r\n      if (offsetX < xUpperBound) {\r\n        offsetX = xUpperBound;\r\n      }\r\n\r\n      if (offsetY > yLowerBound) {\r\n        offsetY = yLowerBound;\r\n      }\r\n      if (offsetY < yUpperBound) {\r\n        offsetY = yUpperBound;\r\n      }\r\n    }\r\n\r\n    if (this.state.isMobile) {\r\n      offsetX += this.state.mobileOffset;\r\n    }\r\n\r\n    this.setState({\r\n      offsetX: offsetX,\r\n      offsetY: offsetY\r\n    });\r\n  }\r\n  onDragStop(e) {\r\n    document.removeEventListener(\"mousemove\", this.onDrag);\r\n    document.removeEventListener(\"mouseup\", this.onDragStop);\r\n    document.removeEventListener(\"touchmove\", this.onDrag);\r\n    document.addEventListener(\"touchend\", this.onDragStop);\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      let bounds = this.selector.current.getBoundingClientRect();\r\n      const isMobile = (Math.abs(bounds.CANVAS_WIDTH - CANVAS_WIDTH) < 20 && Math.abs(bounds.CANVAS_HEIGHT - CANVAS_HEIGHT) < 20 ? false : true);\r\n      bounds.CANVAS_WIDTH = CANVAS_WIDTH;\r\n      bounds.CANVAS_HEIGHT = CANVAS_HEIGHT;\r\n      this.setState({\r\n        bounds: bounds,\r\n        isMobile: isMobile\r\n      }, () => {\r\n        if (this.state.isMobile) {\r\n          let bounds = this.selector.current.getBoundingClientRect();\r\n          let mobileOffset = -((this.state.bounds.CANVAS_WIDTH / 2) - (bounds.CANVAS_WIDTH / 2));\r\n          this.setState({\r\n            offsetX: mobileOffset,\r\n            mobileOffset: mobileOffset\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const url = `../../media/min/maps/${this.props.map.replace(\" \", \"_\")}-${this.props.floor.toUpperCase().replace(\" \", \"_\")}-min.jpg`;\r\n    const style = {\r\n      backgroundImage: `url(${url})`,\r\n      backgroundPosition: \"center\",\r\n      backgroundSize: \"cover\",\r\n      transform: `scale(${parseFloat(this.props.zoom)}) translate(${this.state.offsetX}px, ${this.state.offsetY}px)`\r\n    };\r\n    return (\r\n      <div className=\"blueprint-form\" ref={this.selector}>\r\n        <ViewerPositionOverlay\r\n          style={style}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          drones={this.props.drones}\r\n          rotates={this.props.rotates}\r\n          reinforcements={this.props.reinforcements}\r\n          floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          type={this.props.type}\r\n          zoom={this.props.zoom}\r\n          bounds={this.state.bounds}\r\n          onDragStart={this.onDragStart}\r\n          onDragTouch={this.onDragTouch}\r\n          offsetX={this.state.offsetX}\r\n          offsetY={this.state.offsetY}\r\n          labels={this.props.labels}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerBlueprintForm;\r\n","/* client/src/components/partials/Objectives.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass ViewerObjectives extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      newObj: \"\",\r\n    }\r\n  }\r\n  render() {\r\n    const objectives = this.props.objectives.map((obj, index) => {\r\n      return (\r\n        <li key={index}>\r\n          <div>\r\n            <p>{obj}</p>\r\n          </div>\r\n        </li>\r\n      )\r\n    });\r\n    return (\r\n      <div className=\"objectives\">\r\n        <h3>Objectives: {this.props.scenes[this.props.sceneIndex].name}</h3>\r\n        <ul>\r\n          { objectives }\r\n        </ul>\r\n        <h3>Notes: {this.props.scenes[this.props.sceneIndex].name}</h3>\r\n        <p>{this.props.notes}</p>\r\n        <h3>Video Link</h3>\r\n        <a className=\"objectives__video\" href={this.props.video} rel=\"noopener noreferrer\" target=\"_blank\">Watch Video</a>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerObjectives;\r\n","/* client/src/components/partials/ViewerCanvas.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport FloorSelector from \"./FloorSelector.js\";\r\nimport ZoomSelector from \"./ZoomSelector.js\";\r\nimport Pagination from \"./Pagination.js\";\r\nimport ViewerBlueprintForm from \"./ViewerBlueprintForm.js\";\r\nimport ViewerObjectives from \"./ViewerObjectives.js\";\r\n\r\nclass ViewerCanvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateZoom = this.updateZoom.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n\r\n    this.state = {\r\n      zoom: 1,\r\n      labels: false\r\n    }\r\n  }\r\n  toggleLabels() {\r\n    this.setState({\r\n      labels: !this.state.labels\r\n    })\r\n  }\r\n  updateZoom(e) {\r\n    this.setState({\r\n      zoom: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"canvas\">\r\n        <div className=\"canvas__controls\">\r\n          <FloorSelector onChange={this.props.updateFloor} floors={this.props.floors} floor={this.props.floor}/>\r\n          <ZoomSelector onChange={this.updateZoom} zoom={this.state.zoom}/>\r\n          <div className=\"labels\">\r\n            <span>Show Labels</span>\r\n            <input type=\"checkbox\" onChange={this.toggleLabels} checked={this.state.labels}/>\r\n          </div>\r\n          <Pagination onChange={this.props.selectScene} index={this.props.sceneIndex} labels={this.props.scenes}\r\n            activeLabel={this.props.scenes[this.props.sceneIndex].name}/>\r\n        </div>\r\n        <ViewerBlueprintForm type={this.props.type}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          drones={this.props.drones}\r\n          rotates={this.props.rotates}\r\n          reinforcements={this.props.reinforcements}\r\n          map={this.props.map} site={this.props.site} floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          floor={this.props.floor}\r\n          zoom={this.state.zoom}\r\n          labels={this.state.labels}/>\r\n        <div className=\"canvas__body\">\r\n          <ViewerObjectives objectives={this.props.objectives}\r\n            notes={this.props.notes} scenes={this.props.scenes} sceneIndex={this.props.sceneIndex}\r\n            video={this.props.video}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerCanvas;\r\n","/* client/src/components/partials/ViewerLineup.js */\r\n\r\nimport React from \"react\";\r\nimport { clean } from \"diacritic\";\r\nimport { UTILITY_GUIDE } from \"../../data.js\";\r\n\r\nclass ViewerLineup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleLineup = this.toggleLineup.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggleLineup() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    })\r\n  }\r\n  render() {\r\n    const lineup = this.props.roles.map((role, index) => {\r\n      return (\r\n        <div className={\"role\" + (this.props.activeOperator === index ? \" role--active\" : \"\")} key={index}>\r\n          <div className=\"role__head\">\r\n            <div className=\"role__options\">\r\n              <p className=\"role__role\">Role: {this.props.roles[index]}</p>\r\n              <p className=\"role__utility\">Utility: {this.props.utility[index]}</p>\r\n            </div>\r\n            <div className=\"role__image\" onClick={() => { this.props.selectOperator(index) }}>\r\n              <p>{this.props.operators[index]}</p>\r\n              <img className=\"role__image\" src={`../../media/min/operators/${clean(this.props.operators[index].toLowerCase())}.png`} alt=\"Operator\"/>\r\n            </div>\r\n          </div>\r\n\r\n          { this.props.activeOperator === index ? (\r\n            <div className=\"role__body\">\r\n              <div>\r\n                { this.props.gadgets[index].gadget && this.props.gadgets[index].count !== 0 ? (\r\n                  <div className=\"role__gadget\">\r\n                    <p>{this.props.gadgets[index].gadget} ({this.props.gadgets[index].count - this.props.gadgetPositions[index].length})</p>\r\n                    <img className=\"role__gadget-image\" src={`../../media/min/gadgets/${this.props.gadgets[index].gadget.toUpperCase().replace(\" \", \"_\").replace(\" \", \"_\")}.png`} alt=\"Gadget\"/>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n              <div>\r\n                { this.props.utility[index] && this.props.utility[index] !== \"UTILITY\" ? (\r\n                  <div className=\"role__utility\">\r\n                    <p>{this.props.utility[index]} ({UTILITY_GUIDE[this.props.utility[index]] - this.props.utilityPositions[index].length})</p>\r\n                    <img className=\"role__utility-image\" src={`../../media/min/utility/${this.props.utility[index].toUpperCase().replace(\" \", \"_\").replace(\" \", \"_\")}.png`} alt=\"Utility\"/>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n            </div>\r\n          ) : \"\"}\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div className={\"lineup\" + (this.state.active ? \" lineup--active\" : \"\")}>\r\n        <button onClick={this.toggleLineup}>&#8594;</button>\r\n        <div className=\"lineup-body\">\r\n          <h3>Lineup</h3>\r\n          { lineup }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewerLineup;\r\n","/* client/components/partials/Viewer.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewerToolbar from \"./ViewerToolbar.js\";\r\nimport ViewerSidebar from \"./ViewerSidebar.js\";\r\nimport ViewerCanvas from \"./ViewerCanvas.js\";\r\nimport ViewerLineup from \"./ViewerLineup.js\";\r\n\r\nimport { SITES, FLOORS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: Viewer\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop map\r\n  @prop save (function)\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass Viewer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectSite = this.selectSite.bind(this);\r\n    this.updateType = this.updateType.bind(this);\r\n    this.updateFloor = this.updateFloor.bind(this);\r\n\r\n    // Operators\r\n    this.selectOperator = this.selectOperator.bind(this);\r\n\r\n    // Strategies\r\n    this.selectStrategy = this.selectStrategy.bind(this);\r\n\r\n    // Scenes\r\n    this.selectScene = this.selectScene.bind(this);\r\n\r\n    // Handle scroll\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n\r\n    // Declare initial state\r\n    let siteIndex;\r\n    let sceneIndex;\r\n    let strategyIndex;\r\n    let scenes;\r\n    let strategies;\r\n    let floorIndex;\r\n    let type;\r\n    let sites = SITES[this.props.map.name];\r\n    if (this.props.position) {\r\n      type = this.props.position.type;\r\n      siteIndex = this.props.position.siteIndex;\r\n      sceneIndex = this.props.position.sceneIndex;\r\n      strategyIndex = this.props.position.strategyIndex;\r\n      floorIndex = this.props.position.floorIndex;\r\n      if (this.props.position.type === \"ATTACK\") {\r\n        strategies = this.props.map.attack;\r\n        scenes = this.props.map.attack[strategyIndex][SITES[this.props.map.name][siteIndex]];\r\n      } else {\r\n        strategies = this.props.map.defense[SITES[this.props.map.name][siteIndex]];\r\n        scenes = this.props.map.defense[SITES[this.props.map.name][siteIndex]][strategyIndex].scenes;\r\n      }\r\n    } else {\r\n      siteIndex = 0;\r\n      strategyIndex = 0;\r\n      sceneIndex = 0;\r\n      if (sites[siteIndex][0] === 'B') {\r\n        floorIndex = 0;\r\n      } else {\r\n        floorIndex = parseInt(sites[siteIndex][0]);\r\n      }\r\n      type = \"ATTACK\";\r\n      scenes = this.props.map.attack[0][SITES[this.props.map.name][0]];\r\n      strategies = this.props.map.attack;\r\n    }\r\n\r\n    this.state = {\r\n      activeOperator: 0,\r\n      map: this.props.map,\r\n      sites: SITES[this.props.map.name],\r\n      site: SITES[this.props.map.name][siteIndex],\r\n      siteIndex: siteIndex,\r\n      strategyIndex: strategyIndex,\r\n      strategies: strategies,\r\n      sceneIndex: sceneIndex,\r\n      scenes: scenes,\r\n      floors: FLOORS[this.props.map.name],\r\n      floorIndex: floorIndex,\r\n      type: type,\r\n      mounted: false\r\n    }\r\n  }\r\n  selectSite(index) {\r\n    let sites = this.state.sites;\r\n    let floorIndex;\r\n    if (sites[index][0] === 'B') {\r\n      floorIndex = 0;\r\n    } else {\r\n      floorIndex = parseInt(sites[index][0]);\r\n    }\r\n    this.setState({\r\n      site: this.state.sites[index],\r\n      siteIndex: index,\r\n      sceneIndex: 0,\r\n      scenes: (this.state.type === \"ATTACK\" ? this.state.map.attack[this.state.strategyIndex][this.state.sites[index]] : this.state.map.defense[this.state.sites[index]][0].scenes),\r\n      strategyIndex: (this.state.type === \"ATTACK\" ? this.state.strategyIndex : 0),\r\n      strategies: (this.state.type === \"ATTACK\" ? this.state.strategies : this.state.map.defense[this.state.sites[index]]),\r\n      floorIndex: floorIndex\r\n    });\r\n  }\r\n  updateType(type) {\r\n    if (type === \"ATTACK\") {\r\n      this.setState({\r\n        type: \"ATTACK\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.attack,\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.attack[0][this.state.sites[0]],\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    } else {\r\n      this.setState({\r\n        type: \"DEFENSE\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.defense[this.state.sites[0]],\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.defense[this.state.sites[0]][0].scenes,\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    }\r\n  }\r\n  updateFloor(e) {\r\n    this.setState({\r\n      floorIndex: this.state.floors.indexOf(e.target.value)\r\n    });\r\n  }\r\n\r\n  // Operators\r\n  selectOperator(index) {\r\n    this.setState({\r\n      activeOperator: index\r\n    });\r\n  }\r\n\r\n  // Strategies\r\n  selectStrategy(index) {\r\n    this.setState({\r\n      strategyIndex: index\r\n    });\r\n  }\r\n\r\n  // Scenes\r\n  selectScene(index) {\r\n    this.setState({\r\n      sceneIndex: index\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.state.mounted) {\r\n      window.addEventListener(\"scroll\", this.handleScroll);\r\n      this.setState({\r\n        mounted: true\r\n      });\r\n    }\r\n  }\r\n  handleScroll(e) {\r\n    const nav = document.querySelector(\"nav.nav\");\r\n    const toolbar = document.querySelector(\"div.toolbar\");\r\n    const main = document.querySelector(\"main\");\r\n    const sidebar = document.querySelector(\"div.sidebar\");\r\n    const lineup = document.querySelector(\"div.lineup\");\r\n    if (window.scrollY > nav.offsetTop + nav.offsetHeight) {\r\n      toolbar.classList.add(\"toolbar--scroll\");\r\n      sidebar.classList.add(\"sidebar--scroll\");\r\n      lineup.classList.add(\"lineup--scroll\");\r\n      main.style.marginTop = toolbar.offsetHeight + \"px\";\r\n    } else {\r\n      toolbar.classList.remove(\"toolbar--scroll\");\r\n      sidebar.classList.remove(\"sidebar--scroll\");\r\n      lineup.classList.remove(\"lineup--scroll\");\r\n      main.style.marginTop = 0;\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"Viewer\">\r\n        <ViewerToolbar\r\n          showMaps={this.showMaps}\r\n          map={this.state.map}\r\n          strategies={this.state.strategies}\r\n          strategyIndex={this.state.strategyIndex}\r\n          selectStrategy={this.selectStrategy}\r\n          type={this.state.type}\r\n          updateType={this.updateType}\r\n          siteIndex={this.state.siteIndex}\r\n          sites={this.state.sites}\r\n          selectSite={this.selectSite}\r\n          strategy={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex].name\r\n          ): (\r\n            this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n          )}\r\n          drones={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones) : undefined}\r\n          rotates={this.state.type === \"ATTACK\"? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n          reinforcements={this.state.type === \"ATTACK\" ? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n          breaches={(this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n          ) : undefined)}\r\n          alert={this.props.alert}\r\n          fetchStrategies={this.props.fetchStrategies}/>\r\n        <main>\r\n          <ViewerSidebar\r\n            map={this.state.map.name}\r\n            strategy={this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].name\r\n            ): (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n            )}\r\n            strategies={this.state.strategies}\r\n            selectStrategy={this.selectStrategy}\r\n            strategyIndex={this.state.strategyIndex}\r\n            sites={this.state.sites}\r\n            selectSite={this.selectSite}\r\n            siteIndex={this.state.siteIndex}\r\n            scenes={this.state.scenes}\r\n            selectScene={this.selectScene}\r\n            sceneIndex={this.state.sceneIndex}\r\n            type={this.state.type}\r\n            shared={this.state.strategies[this.state.strategyIndex].shared}\r\n            shared_key={this.state.strategies[this.state.strategyIndex].shared_key}\r\n            alert={this.props.alert}\r\n            />\r\n          <ViewerCanvas\r\n            type={this.state.type}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            operatorPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions\r\n            ))}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n            ))}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n            ))}\r\n            drones={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones\r\n            ) : undefined)}\r\n            rotates={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n            reinforcements={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n            map={this.state.map.name} site={this.state.site} floorIndex={this.state.floorIndex}\r\n            breaches={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n            ) : undefined)}\r\n            floor={this.state.floors[this.state.floorIndex]}\r\n            updateFloor={this.updateFloor}\r\n            floors={this.state.floors}\r\n            objectives={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives))}\r\n            notes={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].notes\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes))}\r\n            scenes={this.state.scenes}\r\n            sceneIndex={this.state.sceneIndex}\r\n            selectScene={this.selectScene}\r\n            video={this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].video\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].video)}\r\n            />\r\n          <ViewerLineup\r\n            type={this.state.type}\r\n            roles={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].roles\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].roles ))}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            selectOperator={this.selectOperator} activeOperator={this.state.activeOperator}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n            ))}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n            ))}\r\n            />\r\n        </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Viewer;\r\n","/* client/components/partials/LoadingModal.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Loading\r\n  @desc: render a loading animation\r\n*/\r\nconst LoadingModal = (props) => {\r\n  return (\r\n    <div className=\"loading-modal\">\r\n      <div className=\"loader\">\r\n        <svg className=\"circular\" viewBox=\"25 25 50 50\">\r\n          <circle className=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" strokeWidth=\"2\" strokeMiterlimit=\"10\"/>\r\n        </svg>\r\n      </div>\r\n      { props.message ? props.message : \"Fetching Data\" }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoadingModal;\r\n","/* client/components/api/ViewStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { STRATEGIES_FOUND, MAP_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_STRATEGIES, ERROR_VIEW_MAP } from \"../../messages/errors.js\";\r\n\r\nimport Viewer from \"../partials/Viewer.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\nimport { MAP_NAMES } from \"../../data.js\";\r\n\r\n/*\r\n  @func: ViewStrategiesAPI\r\n  @desc: manage state of strategies page and make requests to server\r\n  @prop team_code: String\r\n  @prop getAuthToken: function\r\n  @state:\r\n    strategies: Object\r\n    index: Int\r\n    loading: Boolean\r\n*/\r\nclass ViewStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStrategies = this.fetchStrategies.bind(this);\r\n    this.fetchMap = this.fetchMap.bind(this);\r\n\r\n    this.state = {\r\n      map_name: this.props.map,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      errors: {},\r\n    }\r\n  }\r\n  /*\r\n    @func fetchStrategies\r\n    @desc get strategies from server\r\n  */\r\n  fetchStrategies() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      add: false\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/strategies/view\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case STRATEGIES_FOUND.status:\r\n          const maps = Object.keys(response.data.maps).filter((map) => MAP_NAMES.indexOf(map) >= 0);\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            maps: response.data.maps,\r\n            map: undefined,\r\n            map_name: undefined\r\n          });\r\n          break;\r\n          default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_STRATEGIES.message, ERROR_VIEW_STRATEGIES.status);\r\n    });\r\n  }\r\n  fetchMap(map) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    let map_name = map ? map : this.state.map_name;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(`/api/strategies/view/${map_name.toLowerCase().replace(\" \", \"_\")}`)\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_FOUND.status:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true,\r\n              map_name: map_name,\r\n              map: response.data[map_name.toLowerCase()]\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_VIEW_MAP.message, ERROR_VIEW_MAP.status);\r\n      })\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      if (this.state.map_name) {\r\n        this.fetchMap();\r\n      } else {\r\n        this.fetchStrategies();\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (this.state.loading) {\r\n      contents = <LoadingModal message=\"Fetching Strategies\"/>\r\n    } else {\r\n      if (this.state.map_name) {\r\n        if (this.state.hasLoaded && this.state.map) {\r\n          contents = <Viewer map={this.state.map} alert={this.props.alert} fetchStrategies={this.fetchStrategies}/>;\r\n        } else {\r\n          contents = \"Waiting for server\";\r\n        }\r\n      } else {\r\n        const maps = this.state.maps.map((map, index) => {\r\n          return (\r\n            <Link to={`/strategies/${map}`} className=\"map-option\" key={index} style={{ backgroundImage: `url(../../media/min/maps/${map.toUpperCase().replace(\" \", \"_\")}-min.png)` }}\r\n              onClick={() => { this.fetchMap(map) }}>\r\n              <div className=\"map-overlay\">\r\n                { map.toUpperCase().replace(\"_\", \" \") }\r\n              </div>\r\n            </Link>\r\n          )\r\n        });\r\n        contents = (\r\n          <div className=\"view-container\">\r\n            <h1>View Strategies</h1>\r\n            { this.props.status === \"EDITOR\" || this.props.status === \"ADMIN\" ? (\r\n              <Link className=\"button\" to=\"/strategies/edit\">Edit Strategies</Link>\r\n            ) : \"\"}\r\n            <div className=\"map-selector\">\r\n              { maps.length > 0 ? maps : \"No maps to show.\" }\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"ViewStrategiesAPI\">\r\n        { contents }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ViewStrategiesAPI;\r\n","/* client/src/components/pages/Strategies.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ViewStrategiesAPI from \"../api/ViewStrategiesAPI.js\";\r\n\r\n/*\r\n  @func: Strategies\r\n  @desc: render strategies page\r\n  @prop team_code: String\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst Strategies = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"strategies\">\r\n      <ViewStrategiesAPI team_code={props.team_code} getAuthToken={props.getAuthToken} alert={props.alert} map={props.map} status={props.status}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Strategies;\r\n","/* client/components/api/CreateStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\n\r\nimport { MAP_NAMES, SITES, CANVAS_WIDTH, CANVAS_HEIGHT } from \"../../data.js\";\r\nimport { MAP_ADDED } from \"../../messages/messages.js\";\r\nimport { ERROR_ADD_MAP } from \"../../messages/errors.js\";\r\n\r\n/*\r\n  @func: CreateStrategiesAPI\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass CreateStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectMap = this.selectMap.bind(this);\r\n    this.addMap = this.addMap.bind(this);\r\n\r\n    this.state = {\r\n      maps: MAP_NAMES.filter((map) => this.props.maps.indexOf(map.toLowerCase().replace(\" \", \"_\")) < 0)\r\n    }\r\n  }\r\n  selectMap(name) {\r\n    if (MAP_NAMES.indexOf(name) >= 0) {\r\n      let map = {\r\n        name: name,\r\n        attack: []\r\n      };\r\n      let attackStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"]\r\n      };\r\n      SITES[name].map((site) => {\r\n        attackStrategy[site] = [\r\n          {\r\n            objectives: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            breaches: [],\r\n            operatorPositions: [{x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}],\r\n            drones: [],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      });\r\n      map.attack.push(attackStrategy);\r\n      let defenseStrategy = {};\r\n      SITES[name].map((site) => {\r\n        defenseStrategy[site] = [\r\n          {\r\n            name: \"Unnamed\",\r\n            roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n            operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n            utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n            gadgets: [\"\", \"\", \"\", \"\", \"\"],\r\n            reinforcements: [],\r\n            rotates: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            scenes: [\r\n              {\r\n                objectives: [],\r\n                operatorPositions: [{x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}, {x: CANVAS_WIDTH, y: CANVAS_HEIGHT}],\r\n                notes: \"\",\r\n                name: \"Unnamed\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      });\r\n      map.defense = defenseStrategy;\r\n      this.setState({\r\n        map: map,\r\n      }, this.addMap);\r\n    }\r\n  }\r\n  addMap() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(`/api/strategies/add/${this.state.map.name.toLowerCase().replace(\" \", \"_\")}`, {\r\n      map: JSON.stringify(this.state.map)\r\n      })\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_ADDED.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            component.props.alert(\"You have successfully added a map to your Stratbook.\", \"SUCCESS\");\r\n            component.props.fetchStrategies();\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            }, component.props.fetchStrategies);\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_ADD_MAP.message, ERROR_ADD_MAP.status);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const maps = this.state.maps.map((map, index) => {\r\n      return (\r\n        <div className=\"map-option\" key={index} style={{ backgroundImage: `url(../../media/maps/${map.toUpperCase().replace(\" \", \"_\")}-min.png)`}}\r\n          onClick={() => { this.selectMap(map.toUpperCase()) }}>\r\n          <div className=\"map-overlay\">\r\n            { map }\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n    return (\r\n      <div id=\"CreateStrategiesAPI\">\r\n        { this.state.loading ? (\r\n          <LoadingModal message=\"Adding Map to Stratbook\"/>\r\n        ) : (\r\n          <div className=\"add-map\">\r\n            <h1>Create Strategy</h1>\r\n            <h4>Add a map to your Stratbook</h4>\r\n            <div className=\"map-selector\">\r\n              { maps.length > 0 ? maps : <p>There are no maps to add to your Stratbook. Your Stratbook contains all the available maps.</p> }\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateStrategiesAPI;\r\n","/* client/src/components/partials/Toolbar.js */\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Toolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeName = this.changeName.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.updateStrategyName = this.updateStrategyName.bind(this);\r\n    this.toggleStrategyNavigation = this.toggleStrategyNavigation.bind(this);\r\n\r\n    this.state = {\r\n      strategy: (this.props.strategy !== \"\" ? this.props.strategy : \"Unnamed\"),\r\n      active: false,\r\n      nav: false\r\n    }\r\n  }\r\n  changeName() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    });\r\n  }\r\n  updateName(e) {\r\n    this.setState({\r\n      strategy: e.target.value\r\n    });\r\n  }\r\n  updateStrategyName() {\r\n    if (this.state.strategy !== \"\" && this.state.strategy !== \" \") {\r\n      this.props.updateStrategyName(this.state.strategy);\r\n      this.setState({\r\n        active: false\r\n      });\r\n    } else {\r\n      this.props.alert(\"Strategy name cannot be empty.\");\r\n    }\r\n  }\r\n  toggleStrategyNavigation() {\r\n    this.setState({\r\n      nav: !this.state.nav\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.strategy !== this.state.strategy && !this.state.active) {\r\n      this.setState({\r\n        strategy: this.props.strategy\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let sites = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.sites.map((site, index) => {\r\n        return (\r\n          <button onClick={() => { this.props.selectSite(index) }} className={(index === this.props.siteIndex ? \"site--active\" : \"\")} key={index}>{site}</button>\r\n        )\r\n      })\r\n    ))\r\n    let strategies = this.props.strategies.map((strat, index) => {\r\n      return (\r\n        <button onClick={() => { this.props.selectStrategy(index) }} className={(index === this.props.strategyIndex ? \"strategy--active\" : \"\")} key={index}>{strat.name}</button>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className={\"toolbar\" + (this.state.nav ? \" toolbar--active\" : \"\")}>\r\n        <button onClick={this.toggleStrategyNavigation} className={\"toolbar__navigation-button\" + (this.state.nav ? \" toolbar__navigation-button--active\" : \"\")}>&#9776;</button>\r\n        { this.state.active ? (\r\n          <div className=\"strategy__name-input\">\r\n            <input className=\"strategy__input\" onChange={this.updateName} value={this.state.strategy}/>\r\n            <button onClick={this.updateStrategyName}>&#10003;</button>\r\n          </div>\r\n        ) : (\r\n          <h4 className=\"toolbar__strategy\" onClick={this.changeName}>{this.state.strategy}</h4>\r\n        )}\r\n        { this.props.type === \"ATTACK\" ? (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\" onClick={this.props.insertDrone}>\r\n              <img className=\"action__img\" src=\"../../media/min/drone.png\" alt=\"Drone\"/>\r\n              <p>Drones ({this.props.drones.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\" onClick={this.props.insertBreach}>\r\n              <img className=\"action__img\" src=\"../../media/min/breach.png\" alt=\"Breach\"/>\r\n              <p>Breaches ({this.props.breaches.length})</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\" onClick={this.props.insertReinforcement}>\r\n              <img className=\"action__img\" src=\"../../media/min/reinforcement.png\" alt=\"Reinforcement\"/>\r\n              <p>Reinforcements ({this.props.reinforcements.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\" onClick={this.props.insertRotate}>\r\n              <img className=\"action__img\" src=\"../../media/min/rotate.png\" alt=\"Rotate\"/>\r\n              <p>Rotates ({this.props.rotates.length})</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <h4 className=\"toolbar__label\">Viewing in Editor</h4>\r\n        <div className={\"toolbar__navigation\" + (this.state.nav ? \" toolbar__navigation--active\" : \"\")}>\r\n          <h3>{this.props.map.name}</h3>\r\n          <button className=\"button toolbar__button\" onClick={this.props.save}>Save</button>\r\n          <Link to=\"/strategies/edit\" onClick={() => {\r\n            if (this.props.updated) {\r\n\r\n            } else {\r\n              this.props.fetchStrategies();\r\n            }\r\n          }} id=\"showMaps\">Back to Maps</Link>\r\n          <div className=\"strategy__navigation\">\r\n            <h4>Mode</h4>\r\n            <div className=\"type-selector\">\r\n              <button onClick={() => { this.props.updateType(\"ATTACK\") }} className={this.props.type === \"ATTACK\" ? \"type--active\" : \"\"}>Attack</button>\r\n              <button onClick={() => { this.props.updateType(\"DEFENSE\") }} className={this.props.type === \"ATTACK\" ? \"\" : \"type--active\"}>Defense</button>\r\n            </div>\r\n            { this.props.type === \"ATTACK\" ? \"\" : (\r\n              <div className=\"site-container\">\r\n                <h4>Sites</h4>\r\n                <div>\r\n                  { sites }\r\n                </div>\r\n              </div>\r\n            )}\r\n            <h4>Strategies</h4>\r\n            <div className=\"strategy-selector\">\r\n              { strategies }\r\n              <div className=\"strategy-control\">\r\n                <button onClick={this.props.addStrategy}>Add Strategy</button>\r\n                <button onClick={this.props.removeStrategy}>Remove Strategy</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Toolbar;\r\n","/* client/src/components/partials/Toggle.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass Toggle extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"toggle\">\r\n        <label className=\"switch\">\r\n          <input type=\"checkbox\" checked={(this.props.active && this.props.active !== \"\" ? true : false)} onChange={() => {\r\n            if (this.props.active) {\r\n              this.props.activeAction();\r\n            } else {\r\n              this.props.inactiveAction();\r\n            }\r\n          }}/>\r\n          <span className=\"slider round\"></span>\r\n        </label>\r\n        <p>{(this.props.active ? this.props.activeState : this.props.inactiveState )}</p>\r\n        { this.props.link && this.props.link !== \"\" ? (\r\n          <a className=\"toggle__link\" rel=\"noopener noreferrer\" href={this.props.link} target=\"_blank\">view</a>\r\n        ) : \"\"}\r\n        { this.props.link && this.props.link !== \"\" ? (\r\n          <button className=\"toggle__button\" onClick={() => {\r\n            const temp = document.createElement(\"textarea\");\r\n            temp.value = this.props.link;\r\n            document.body.appendChild(temp);\r\n            temp.select();\r\n            temp.setSelectionRange(0, 99999);\r\n            document.execCommand(\"copy\");\r\n            document.body.removeChild(temp);\r\n            this.props.alert(\"The link to your shared strategy has been copied.\", \"Strategy Link Copied\");\r\n          }}>&#128203;</button>\r\n        ) : \"\"}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Toggle;\r\n","/* client/src/components/partials/Sidebar.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Toggle from \"./Toggle.js\";\r\n\r\nclass Sidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeName = this.changeName.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.toggleSidebar = this.toggleSidebar.bind(this);\r\n\r\n    this.state = {\r\n      index: 0,\r\n      name: \"\",\r\n      active: false,\r\n      showSidebar: false\r\n    }\r\n  }\r\n  changeName(e, index) {\r\n    if (e) {\r\n      e.stopPropagation();\r\n    }\r\n    if (this.state.active) {\r\n      if (this.state.name !== \"\") {\r\n        this.props.updateSceneName(this.state.name, this.state.index);\r\n        this.setState({\r\n          index: 0,\r\n          name: \"\",\r\n          active: false\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        index: index,\r\n        name: this.props.scenes[index].name,\r\n        active: true\r\n      });\r\n    }\r\n  }\r\n  updateName(e) {\r\n    this.setState({\r\n      name: e.target.value\r\n    });\r\n  }\r\n  toggleSidebar() {\r\n    this.setState({\r\n      showSidebar: !this.state.showSidebar\r\n    });\r\n  }\r\n  render() {\r\n    const sites = this.props.sites.map((site, index) => {\r\n      return (\r\n        <div className={\"site\" + (this.props.siteIndex === index ? \" site--active\" : \"\")} onClick={() => { this.props.selectSite(index) }} key={index}>\r\n          <span className=\"site__number\">Site {index + 1}</span>\r\n          <p className=\"site__name\">{site}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const scenes = this.props.scenes.map((scene, index) => {\r\n      return (\r\n        <div className={\"scene\" + (this.props.sceneIndex === index ? \" scene--active\" : \"\")}\r\n          onClick={() => {\r\n            if (!this.state.active) {\r\n              this.props.selectScene(index);\r\n            }\r\n          }} key={index}>\r\n          <span className=\"scene__number\">Scene {index + 1}</span>\r\n          { this.state.active && this.state.index === index ? (\r\n            <div className=\"scene__name-input\">\r\n              <input className=\"scene__input\" onChange={this.updateName} value={this.state.name}/>\r\n              <button onClick={this.changeName}>&#10003;</button>\r\n            </div>\r\n          ) : (\r\n            <p className=\"scene__name\" onClick={(e) => { this.changeName(e, index) }}>{scene.name}</p>\r\n          )}\r\n        </div>\r\n      )\r\n    });\r\n    const strategies = (this.props.type === \"ATTACK\" ? \"\" : (\r\n      this.props.strategies.map((strat, index) => {\r\n        return (\r\n          <div className={\"strategy\" + (this.props.strategyIndex === index ? \" strategy--active\" : \"\")} onClick={() => { this.props.selectStrategy(index) }} key={index}>\r\n            <p className=\"strategy__name\">{strat.name}</p>\r\n          </div>\r\n        )\r\n      })\r\n    ));\r\n    return (\r\n      <div className={\"sidebar\" + (this.state.showSidebar ? \" sidebar--active\" : \"\")}>\r\n        <button onClick={this.toggleSidebar}>&#8594;</button>\r\n        <div className=\"sidebar-body\">\r\n          { this.props.type === \"ATTACK\" ? (\r\n            <div className=\"site-container\">\r\n              <h3 className=\"site-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"site-container__subtitle\">{this.props.strategy}</h4>\r\n              <Toggle inactiveState=\"Private\" activeState=\"Shared\" activeAction={this.props.unshare} inactiveAction={this.props.share} active={this.props.shared}\r\n              link={( this.props.shared ? window.location.protocol + \"//\" + window.location.host + \"/shared/\" + this.props.shared_key : \"\")} alert={this.props.alert}/>\r\n              <h3 className=\"site-container__heading\">Sites</h3>\r\n              <div className=\"select-container\">\r\n                { sites }\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"strategy-container\">\r\n              <h3 className=\"strategy-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"strategy-container__subtitle\">{this.props.sites[this.props.siteIndex]}</h4>\r\n              <Toggle inactiveState=\"Private\" activeState=\"Shared\" activeAction={this.props.unshare} inactiveAction={this.props.share} active={this.props.shared}\r\n              link={( this.props.shared ? window.location.protocol + \"//\" + window.location.host + \"/shared/\" + this.props.shared_key : \"\")} alert={this.props.alert}/>\r\n              <h3 className=\"strategy-container__heading\">Strategies</h3>\r\n              <div className=\"select-container\">\r\n                { strategies }\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className=\"scene-container\">\r\n            <h3 className=\"scene-container__heading\">Scenes</h3>\r\n              <div className=\"select-container\">\r\n                { scenes }\r\n              </div>\r\n          </div>\r\n          <div className=\"scene-controls\">\r\n            <button onClick={this.props.addScene}>Add Scene</button>\r\n            <button onClick={this.props.removeScene}>Remove Scene</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Sidebar;\r\n","/* client/src/components/partials/DragItem.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass DragItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.removeItem = this.removeItem.bind(this);\r\n\r\n    this.state = {\r\n      drag: false,\r\n      x: this.props.x,\r\n      y: this.props.y,\r\n      selected: (this.props.selected && (this.props.type === this.props.selected.type) && (this.props.index === this.props.selected.index) && (!this.props.selected.gi || this.props.selected.gi && this.props.gi === this.props.selected.gi))\r\n    }\r\n  }\r\n  removeItem() {\r\n    if (this.props.type === \"OPERATOR\") {\r\n      this.props.removeOperator(this.props.index);\r\n    }\r\n    if (this.props.type === \"GADGET\") {\r\n      this.props.removeGadget(this.props.index, this.props.gi);\r\n    }\r\n    if (this.props.type === \"UTILITY\") {\r\n      this.props.removeUtility(this.props.index, this.props.gi);\r\n    }\r\n    if (this.props.type === \"DRONE\") {\r\n      this.props.removeDrone(this.props.index);\r\n    }\r\n    if (this.props.type === \"BREACH\") {\r\n      this.props.removeBreach(this.props.index);\r\n    }\r\n    if (this.props.type === \"REINFORCEMENT\") {\r\n      this.props.removeReinforcement(this.props.index);\r\n    }\r\n    if (this.props.type === \"ROTATE\") {\r\n      this.props.removeRotate(this.props.index);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    let selected = this.props.selected && (this.props.type === this.props.selected.type) && (this.props.index === this.props.selected.index) && (!this.props.selected.gi || this.props.selected.gi && this.props.gi === this.props.selected.gi);\r\n    if (this.state.selected !== selected) {\r\n      this.setState({\r\n        selected: selected\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ top: (this.props.y ? this.props.y : 0), left: (this.props.x ? this.props.x : 0), backgroundImage: `url(${this.props.url})`, backgroundSize: \"cover\", backgroundPosition: \"center\" }}\r\n      className={\"drag-item\" + ` drag-${this.props.type.toLowerCase()}` + (this.props.drag ? \" drag\" : \"\") + (this.state.selected ? \" drag-item--selected\" : \"\")}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n\r\n        }}\r\n        onMouseDown={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.setState({\r\n            drag: true\r\n          }, () => {\r\n            if (this.props.type === \"GADGET\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else if (this.props.type === \"UTILITY\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else {\r\n              this.props.selectElement(this.props.index, this.props.type);\r\n            }\r\n          });\r\n        }}\r\n        onTouchStart={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.setState({\r\n            drag: true\r\n          }, () => {\r\n            if (this.props.type === \"GADGET\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else if (this.props.type === \"UTILITY\") {\r\n              this.props.selectElement(this.props.index, this.props.type, this.props.gi);\r\n            } else {\r\n              this.props.selectElement(this.props.index, this.props.type);\r\n            }\r\n          })\r\n        }}\r\n        data-type={this.props.type}>\r\n        { this.props.labels ? (\r\n          <span>{(this.props.type === \"GADGET\" || this.props.type === \"UTILITY\" || this.props.type === \"OPERATOR\" ? this.props.value.replace(\"_\", \" \").replace(\"_\", \" \").toUpperCase() : \"\")}</span>\r\n        ) : \"\"}\r\n        { this.state.selected ? (\r\n          <button className=\"drag-item__button\" onClick={this.removeItem}>X</button>\r\n        ) : \"\"}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DragItem;\r\n","/* client/src/components/partials/PositionOverlay.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport DragItem from \"./DragItem.js\";\r\n\r\nlet width = 30;\r\nlet height = 30;\r\n\r\nclass PositionOverlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Handle drag items\r\n    this.selectElement = this.selectElement.bind(this);\r\n    this.deselectElement = this.deselectElement.bind(this);\r\n    this.translateElement = this.translateElement.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n    this.onTouchMove = this.onTouchMove.bind(this);\r\n\r\n    // Handle drag canvas\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n\r\n    // Handle new props\r\n    this.detectChange = this.detectChange.bind(this);\r\n\r\n    this.innerSelector = React.createRef();\r\n\r\n    this.state = {\r\n      index: 0,\r\n      type: \"\",\r\n      operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n      gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n      utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n      drones: (this.props.drones ? [...this.props.drones] : []),\r\n      rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n      reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n      breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n      style: JSON.parse(JSON.stringify(this.props.style)),\r\n      selected: {}\r\n    }\r\n  }\r\n  selectElement(index, type, gi) {\r\n    this.setState({\r\n      index: index,\r\n      drag: true,\r\n      type: type,\r\n      gi: gi,\r\n      selected: {\r\n        type: type,\r\n        index: index,\r\n        gi: gi\r\n      }\r\n    }, () => {\r\n      document.addEventListener(\"mousemove\", this.onMouseMove);\r\n      document.addEventListener(\"mouseup\", this.onMouseUp);\r\n      document.addEventListener(\"touchmove\", this.onTouchMove);\r\n      document.addEventListener(\"touchend\", this.onMouseUp);\r\n      document.addEventListener(\"keydown\", this.translateElement);\r\n    });\r\n  }\r\n  deselectElement() {\r\n    this.setState({\r\n      selected: {}\r\n    });\r\n    document.removeEventListener(\"keydown\", this.translateElement);\r\n  }\r\n  translateElement(e) {\r\n    if (37 <= e.keyCode <= 40) {\r\n      e.preventDefault();\r\n      let newPositions;\r\n      switch (this.state.selected.type) {\r\n        case \"OPERATOR\":\r\n          newPositions = [...this.state.operatorPositions];\r\n          break;\r\n        case \"DRONE\":\r\n          newPositions = [...this.state.drones];\r\n          break;\r\n        case \"GADGET\":\r\n          newPositions = [...this.state.gadgetPositions][this.state.selected.index];\r\n          break;\r\n        case \"UTILITY\":\r\n          newPositions = [...this.state.utilityPositions][this.state.selected.index];\r\n          break;\r\n        case \"ROTATE\":\r\n          newPositions = [...this.state.rotates];\r\n          break;\r\n        case \"REINFORCEMENT\":\r\n          newPositions = [...this.state.reinforcements];\r\n          break;\r\n        case \"BREACH\":\r\n          newPositions = [...this.state.breaches];\r\n          break;\r\n      }\r\n\r\n      let newX;\r\n      let newY;\r\n      if (this.state.selected.type === \"GADGET\" || this.state.selected.type === \"UTILITY\") {\r\n        newX = newPositions[this.state.selected.gi].x;\r\n        newY = newPositions[this.state.selected.gi].y;\r\n      } else {\r\n        newX = newPositions[this.state.selected.index].x;\r\n        newY = newPositions[this.state.selected.index].y;\r\n      }\r\n\r\n      if (e.keyCode === 37) {\r\n        newX -= 2;\r\n      } else if (e.keyCode === 38) {\r\n        newY -= 2;\r\n      } else if (e.keyCode === 39) {\r\n        newX += 2;\r\n      } else if (e.keyCode === 40) {\r\n        newY += 2;\r\n      } else {\r\n        return this.deselectElement();\r\n      }\r\n\r\n      if (this.state.selected.type === \"GADGET\" || this.state.selected.type === \"UTILITY\") {\r\n        newPositions[this.state.selected.gi].x = newX;\r\n        newPositions[this.state.selected.gi].y = newY;\r\n      } else {\r\n        newPositions[this.state.selected.index].x = newX;\r\n        newPositions[this.state.selected.index].y = newY;\r\n      }\r\n\r\n      let positions;\r\n      switch (this.state.selected.type) {\r\n        case \"OPERATOR\":\r\n          this.setState({\r\n            operatorPositions: newPositions\r\n          });\r\n          break;\r\n        case \"DRONE\":\r\n          this.setState({\r\n            drones: newPositions\r\n          });\r\n          break;\r\n        case \"GADGET\":\r\n          positions = [...this.state.gadgetPositions];\r\n          positions[this.state.selected.index] = newPositions;\r\n          this.setState({\r\n            gadgetPositions: positions\r\n          });\r\n          break;\r\n        case \"UTILITY\":\r\n          positions = [...this.state.utilityPositions];\r\n          positions[this.state.selected.index] = newPositions;\r\n          this.setState({\r\n            utilityPositions: positions\r\n          });\r\n          break;\r\n        case \"ROTATE\":\r\n          this.setState({\r\n            rotates: newPositions\r\n          });\r\n          break;\r\n        case \"REINFORCEMENT\":\r\n          this.setState({\r\n            reinforcements: newPositions\r\n          });\r\n          break;\r\n        case \"BREACH\":\r\n          this.setState({\r\n            breaches: newPositions\r\n          });\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  onDrag(e) {\r\n    this.props.onDragStart(e);\r\n    this.deselectElement();\r\n  }\r\n  onDragTouch(t) {\r\n    this.props.onDragTouch(t);\r\n    this.deselectElement();\r\n  }\r\n  onMouseMove(e) {\r\n    let newPositions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        newPositions = [...this.state.operatorPositions];\r\n        break;\r\n      case \"DRONE\":\r\n        newPositions = [...this.state.drones];\r\n        break;\r\n      case \"GADGET\":\r\n        newPositions = [...this.state.gadgetPositions][this.state.index];\r\n        break;\r\n      case \"UTILITY\":\r\n        newPositions = [...this.state.utilityPositions][this.state.index];\r\n        break;\r\n      case \"ROTATE\":\r\n        newPositions = [...this.state.rotates];\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        newPositions = [...this.state.reinforcements];\r\n        break;\r\n      case \"BREACH\":\r\n        newPositions = [...this.state.breaches];\r\n        break;\r\n    }\r\n\r\n    let newX = e.pageX - (this.state.bounds.left);\r\n    let newY = e.pageY - (this.state.bounds.top);\r\n\r\n    if (this.props.zoom > 1) {\r\n      const centerX = this.state.bounds.width / 2;\r\n      const centerY = this.state.bounds.height / 2;\r\n      if (newX > centerX) {\r\n        newX = (centerX / this.props.zoom) + ((newX - centerX) / this.props.zoom);\r\n      } else {\r\n        newX = (centerX / this.props.zoom) - ((centerX - newX) / this.props.zoom);\r\n      }\r\n\r\n      if (newY > centerY) {\r\n        newY = (centerY / this.props.zoom) + ((newY - centerY) / this.props.zoom);\r\n      } else {\r\n        newY = (centerY / this.props.zoom) - ((centerY - newY) / this.props.zoom);\r\n      }\r\n    }\r\n\r\n    newX -= ((width) / 2);\r\n    newY -= ((height) / 2);\r\n\r\n    if (newX < 0) {\r\n      newX = 0;\r\n    } else if (newX > this.props.bounds.width - width) {\r\n      newX = this.props.bounds.width - width;\r\n    } else if (newY < 0) {\r\n      newY = 0;\r\n    } else if (newY > this.props.bounds.height - height) {\r\n      newY = this.props.bounds.height - height;\r\n    }\r\n\r\n    // Initial testing for snap\r\n    console.log(`(${newX}, ${newY})`);\r\n    if (true) {\r\n      if (Math.abs(newX - 412) < 5 && Math.abs(newY - 298) < 5) {\r\n        newX = 412;\r\n        newY = 298;\r\n      }\r\n\r\n      if (Math.abs(newX - 467) < 5 && Math.abs(newY - 298) < 5) {\r\n        newX = 467;\r\n        newY = 298;\r\n      }\r\n\r\n      if (Math.abs(newX - 491) < 5 && Math.abs(newY - 298) < 5) {\r\n        newX = 491;\r\n        newY = 298;\r\n      }\r\n\r\n      if (Math.abs(newX - 366) < 5 && Math.abs(newY - 380) < 5) {\r\n        newX = 366;\r\n        newY = 380;\r\n      }\r\n    }\r\n\r\n\r\n    if (this.state.type === \"GADGET\" || this.state.type === \"UTILITY\") {\r\n      newPositions[this.state.gi].x = newX;\r\n      newPositions[this.state.gi].y = newY;\r\n    } else {\r\n      newPositions[this.state.index].x = newX;\r\n      newPositions[this.state.index].y = newY;\r\n    }\r\n\r\n    let positions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        this.setState({\r\n          operatorPositions: newPositions\r\n        });\r\n        break;\r\n      case \"DRONE\":\r\n        this.setState({\r\n          drones: newPositions\r\n        });\r\n        break;\r\n      case \"GADGET\":\r\n        positions = [...this.state.gadgetPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          gadgetPositions: positions\r\n        });\r\n        break;\r\n      case \"UTILITY\":\r\n        positions = [...this.state.utilityPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          utilityPositions: positions\r\n        });\r\n        break;\r\n      case \"ROTATE\":\r\n        this.setState({\r\n          rotates: newPositions\r\n        });\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        this.setState({\r\n          reinforcements: newPositions\r\n        });\r\n        break;\r\n      case \"BREACH\":\r\n        this.setState({\r\n          breaches: newPositions\r\n        });\r\n        break;\r\n    }\r\n  }\r\n  onTouchMove(t) {\r\n    let newPositions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        newPositions = [...this.state.operatorPositions];\r\n        break;\r\n      case \"DRONE\":\r\n        newPositions = [...this.state.drones];\r\n        break;\r\n      case \"GADGET\":\r\n        newPositions = [...this.state.gadgetPositions][this.state.index];\r\n        break;\r\n      case \"UTILITY\":\r\n        newPositions = [...this.state.utilityPositions][this.state.index];\r\n        break;\r\n      case \"ROTATE\":\r\n        newPositions = [...this.state.rotates];\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        newPositions = [...this.state.reinforcements];\r\n        break;\r\n      case \"BREACH\":\r\n        newPositions = [...this.state.breaches];\r\n        break;\r\n    }\r\n\r\n    let newX = t.touches[0].pageX - this.state.bounds.left;\r\n    let newY = t.touches[0].pageY - this.state.bounds.top;\r\n\r\n    if (this.props.zoom > 1) {\r\n      const centerX = this.state.bounds.width / 2;\r\n      const centerY = this.state.bounds.height / 2;\r\n      if (newX > centerX) {\r\n        newX = (centerX / this.props.zoom) + ((newX - centerX) / this.props.zoom);\r\n      } else {\r\n        newX = (centerX / this.props.zoom) - ((centerX - newX) / this.props.zoom);\r\n      }\r\n\r\n      if (newY > centerY) {\r\n        newY = (centerY / this.props.zoom) + ((newY - centerY) / this.props.zoom);\r\n      } else {\r\n        newY = (centerY / this.props.zoom) - ((centerY - newY) / this.props.zoom);\r\n      }\r\n    }\r\n\r\n    newX -= ((width) / 2);\r\n    newY -= ((height) / 2);\r\n\r\n    if (newX < 0) {\r\n      newX = 0;\r\n    } else if (newX > this.props.bounds.width - width) {\r\n      newX = this.props.bounds.width - width;\r\n    }\r\n    if (newY < 0) {\r\n      newY = 0;\r\n    } else if (newY > this.props.bounds.height - height) {\r\n      newY = this.props.bounds.height - height;\r\n    }\r\n\r\n    if (this.state.type === \"GADGET\" || this.state.type === \"UTILITY\") {\r\n      newPositions[this.state.gi].x = newX;\r\n      newPositions[this.state.gi].y = newY;\r\n    } else {\r\n      newPositions[this.state.index].x = newX;\r\n      newPositions[this.state.index].y = newY;\r\n    }\r\n\r\n    let positions;\r\n    switch (this.state.type) {\r\n      case \"OPERATOR\":\r\n        this.setState({\r\n          operatorPositions: newPositions\r\n        });\r\n        break;\r\n      case \"DRONE\":\r\n        this.setState({\r\n          drones: newPositions\r\n        });\r\n        break;\r\n      case \"GADGET\":\r\n        positions = [...this.state.gadgetPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          gadgetPositions: positions\r\n        });\r\n        break;\r\n      case \"UTILITY\":\r\n        positions = [...this.state.utilityPositions];\r\n        positions[this.state.index] = newPositions;\r\n        this.setState({\r\n          utilityPositions: positions\r\n        });\r\n        break;\r\n      case \"ROTATE\":\r\n        this.setState({\r\n          rotates: newPositions\r\n        });\r\n        break;\r\n      case \"REINFORCEMENT\":\r\n        this.setState({\r\n          reinforcements: newPositions\r\n        });\r\n        break;\r\n      case \"BREACH\":\r\n        this.setState({\r\n          breaches: newPositions\r\n        });\r\n        break;\r\n    }\r\n  }\r\n  onMouseUp(e) {\r\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    document.removeEventListener(\"touchmove\", this.onTouchMove);\r\n    document.removeEventListener(\"touchend\", this.onMouseUp);\r\n    this.setState({\r\n      drag: false\r\n    }, () => {\r\n      switch (this.state.type) {\r\n        case \"OPERATOR\":\r\n          this.props.updateOperatorPositions(this.state.operatorPositions);\r\n          break;\r\n        case \"DRONE\":\r\n          this.props.updateDronePositions(this.state.drones);\r\n          break;\r\n        case \"GADGET\":\r\n          this.props.updateGadgetPositions(this.state.gadgetPositions);\r\n          break;\r\n        case \"UTILITY\":\r\n          this.props.updateUtilityPositions(this.state.utilityPositions);\r\n          break;\r\n        case \"ROTATE\":\r\n          this.props.updateRotatePositions(this.state.rotates);\r\n          break;\r\n        case \"REINFORCEMENT\":\r\n          this.props.updateReinforcementPositions(this.state.reinforcements);\r\n          break;\r\n        case \"BREACH\":\r\n          this.props.updateBreachPositions(this.state.breaches);\r\n          break;\r\n      }\r\n      this.setState({\r\n        type: undefined,\r\n        gi: undefined\r\n      });\r\n    });\r\n  }\r\n  detectChange(prevProps, prevState) {\r\n    let bool = false;\r\n    if (prevProps !== this.props || prevProps.zoom !== this.props.zoom) {\r\n      bool = true;\r\n    }\r\n    return bool;\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      let bounds = this.innerSelector.current.getBoundingClientRect();\r\n      let newBounds = {\r\n        top: bounds.top + window.pageYOffset,\r\n        left: bounds.left + window.pageXOffset,\r\n        x: bounds.x + window.pageXOffset,\r\n        y: bounds.y + window.pageYOffset,\r\n        width: bounds.width,\r\n        height: bounds.height\r\n      }\r\n      this.setState({\r\n        bounds: newBounds\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.detectChange(prevProps, prevState)) {\r\n      let bounds;\r\n      if (this.props.zoom !== prevProps.zoom || this.props.offsetX !== prevProps.offsetX || this.props.offsetY !== prevProps.offsetY) {\r\n        let newBounds = this.innerSelector.current.getBoundingClientRect();\r\n        bounds = {\r\n          top: newBounds.top + window.pageYOffset,\r\n          left: newBounds.left + window.pageXOffset,\r\n          x: newBounds.x + window.pageXOffset,\r\n          y: newBounds.y + window.pageYOffset,\r\n          width: newBounds.width,\r\n          height: newBounds.height\r\n        }\r\n      } else {\r\n        bounds = this.state.bounds;\r\n      }\r\n      this.setState({\r\n        index: 0,\r\n        type: \"\",\r\n        operatorPositions: (this.props.operatorPositions ? [...this.props.operatorPositions] : []),\r\n        gadgetPositions: (this.props.gadgetPositions ? [...this.props.gadgetPositions] : []),\r\n        utilityPositions: (this.props.utilityPositions ? [...this.props.utilityPositions] : []),\r\n        drones: (this.props.drones ? [...this.props.drones] : []),\r\n        rotates: (this.props.rotates ? [...this.props.rotates] : []),\r\n        reinforcements: (this.props.reinforcements ? [...this.props.reinforcements] : []),\r\n        breaches: (this.props.breaches ? [...this.props.breaches] : []),\r\n        bounds: bounds\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    let breaches = [];\r\n    this.state.breaches.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/breach.png\";\r\n        breaches.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"BREACH\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let reinforcements = [];\r\n    this.state.reinforcements.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/reinforcement.png\";\r\n        reinforcements.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"REINFORCEMENT\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let rotates = [];\r\n    this.state.rotates.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/rotate.png\";\r\n        rotates.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"ROTATE\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      }\r\n    });\r\n\r\n    let drones = [];\r\n    this.state.drones.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = \"../../media/min/drone.png\";\r\n        drones.push(\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"DRONE\" bounds={this.state.bounds} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n\r\n    let utility = [];\r\n    this.state.utilityPositions.map((pos, index) => {\r\n      pos.forEach((u, uindex) => {\r\n        if (u.floor === this.props.floorIndex) {\r\n          let url = `../../media/min/utility/${this.props.utility[index].replace(\" \", \"_\").replace(\" \", \"_\")}.png`;\r\n          utility.push(\r\n            <DragItem url={url}\r\n            x={u.x} y={u.y}\r\n            selectElement={this.selectElement} index={index} gi={uindex} key={uindex * index + uindex} drag={this.state.drag}\r\n            type=\"UTILITY\" bounds={this.state.bounds} value={this.props.utility[index]} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    let gadgets = [];\r\n    this.state.gadgetPositions.map((pos, index) => {\r\n      pos.forEach((g, gindex) => {\r\n        if (g.floor === this.props.floorIndex) {\r\n          let gadget = this.props.gadgets[index].gadget.replace(\" \", \"_\").replace(\" \", \"_\").toUpperCase();\r\n          let url = `../../media/min/gadgets/${gadget}.png`;\r\n          gadgets.push(\r\n            <DragItem url={url}\r\n            x={g.x} y={g.y}\r\n            selectElement={this.selectElement} index={index} gi={gindex} key={gindex * index + gindex} drag={this.state.drag}\r\n            type=\"GADGET\" bounds={this.state.bounds} value={this.props.gadgets[index].gadget} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    const operators = this.state.operatorPositions.map((pos, index) => {\r\n      if (pos.floor === this.props.floorIndex) {\r\n        let url = `../../media/min/operators/${this.props.operators[index].toLowerCase()}.png`;\r\n        return (\r\n          <DragItem url={url}\r\n            x={pos.x} y={pos.y}\r\n            selectElement={this.selectElement} index={index} key={index} drag={this.state.drag}\r\n            type=\"OPERATOR\" bounds={this.state.bounds} value={this.props.operators[index]} labels={this.props.labels}\r\n            removeOperator={this.props.removeOperator}\r\n            removeGadget={this.props.removeGadget}\r\n            removeUtility={this.props.removeUtility}\r\n            removeDrone={this.props.removeDrone}\r\n            removeBreach={this.props.removeBreach}\r\n            removeRotate={this.props.removeRotate}\r\n            removeReinforcement={this.props.removeReinforcement}\r\n            selected={this.state.selected}/>\r\n        )\r\n      } else {\r\n        return \"\";\r\n      }\r\n    });\r\n    return (\r\n      <div className=\"position-overlay\" style={this.props.style} ref={this.innerSelector} onMouseDown={this.onDrag} onTouchStart={this.onDragTouch}>\r\n        { reinforcements }\r\n        { rotates }\r\n        { breaches }\r\n        { drones }\r\n        { utility }\r\n        { gadgets }\r\n        { operators }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PositionOverlay;\r\n","/* client/src/components/partials/Blueprint.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport PositionOverlay from \"./PositionOverlay.js\";\r\nimport { CANVAS_WIDTH, CANVAS_HEIGHT } from \"../../data.js\";\r\n\r\nclass BlueprintForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onDragStart = this.onDragStart.bind(this);\r\n    this.onDragTouch = this.onDragTouch.bind(this);\r\n    this.onDrag = this.onDrag.bind(this);\r\n    this.onDragStop = this.onDragStop.bind(this);\r\n\r\n    this.selector = React.createRef();\r\n\r\n    this.state = {\r\n      offsetX: 0,\r\n      offsetY: 0\r\n    };\r\n  }\r\n  onDragStart(e) {\r\n    this.setState({\r\n      startX: e.clientX,\r\n      startY: e.clientY,\r\n      move: true\r\n    }, () => {\r\n      document.addEventListener(\"mousemove\", this.onDrag);\r\n      document.addEventListener(\"mouseup\", this.onDragStop);\r\n    });\r\n  }\r\n  onDragTouch(t) {\r\n    this.setState({\r\n      startX: t.touches[0].clientX,\r\n      startY: t.touches[0].clientY,\r\n      move: true\r\n    }, () => {\r\n      document.addEventListener(\"touchmove\", this.onDrag);\r\n      document.addEventListener(\"touchend\", this.onDragStop);\r\n    })\r\n  }\r\n  onDrag(e) {\r\n    let offsetX = e.clientX - this.state.startX;\r\n    let offsetY = e.clientY - this.state.startY;\r\n    if (e.touches) {\r\n      offsetX = e.touches[0].clientX - this.state.startX;\r\n      offsetY = e.touches[0].clientY - this.state.startY;\r\n    }\r\n\r\n    if (!this.state.isMobile) {\r\n      const xLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.CANVAS_WIDTH) - this.state.bounds.CANVAS_WIDTH) / 2);\r\n      const xUpperBound = this.props.zoom * ((this.state.bounds.CANVAS_WIDTH - (this.props.zoom * this.state.bounds.CANVAS_WIDTH)) / 2);\r\n      const yLowerBound = this.props.zoom * (((this.props.zoom * this.state.bounds.CANVAS_HEIGHT) - this.state.bounds.CANVAS_HEIGHT) / 2);\r\n      const yUpperBound = this.props.zoom * ((this.state.bounds.CANVAS_HEIGHT - (this.props.zoom * this.state.bounds.CANVAS_HEIGHT)) / 2);\r\n\r\n      if (offsetX > xLowerBound) {\r\n        offsetX = xLowerBound;\r\n      }\r\n      if (offsetX < xUpperBound) {\r\n        offsetX = xUpperBound;\r\n      }\r\n\r\n      if (offsetY > yLowerBound) {\r\n        offsetY = yLowerBound;\r\n      }\r\n      if (offsetY < yUpperBound) {\r\n        offsetY = yUpperBound;\r\n      }\r\n    }\r\n\r\n    if (this.state.isMobile) {\r\n      offsetX += this.state.mobileOffset;\r\n    }\r\n\r\n    this.setState({\r\n      offsetX: offsetX,\r\n      offsetY: offsetY\r\n    });\r\n  }\r\n  onDragStop(e) {\r\n    document.removeEventListener(\"mousemove\", this.onDrag);\r\n    document.removeEventListener(\"mouseup\", this.onDragStop);\r\n    document.removeEventListener(\"touchmove\", this.onDrag);\r\n    document.addEventListener(\"touchend\", this.onDragStop);\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.bounds) {\r\n      let bounds = this.selector.current.getBoundingClientRect();\r\n      const isMobile = (Math.abs(bounds.CANVAS_WIDTH - CANVAS_WIDTH) < 20 && Math.abs(bounds.CANVAS_HEIGHT - CANVAS_HEIGHT) < 20 ? false : true);\r\n      bounds.CANVAS_WIDTH = CANVAS_WIDTH;\r\n      bounds.CANVAS_HEIGHT = CANVAS_HEIGHT;\r\n      this.setState({\r\n        bounds: bounds,\r\n        isMobile: isMobile\r\n      }, () => {\r\n        if (this.state.isMobile) {\r\n          let bounds = this.selector.current.getBoundingClientRect();\r\n          let mobileOffset = -((this.state.bounds.CANVAS_WIDTH / 2) - (bounds.CANVAS_WIDTH / 2));\r\n          this.setState({\r\n            offsetX: mobileOffset,\r\n            mobileOffset: mobileOffset\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const url = `../../media/min/maps/${this.props.map.replace(\" \", \"_\")}-${this.props.floor.toUpperCase().replace(\" \", \"_\")}-min.jpg`;\r\n    const style = {\r\n      backgroundImage: `url(${url})`,\r\n      backgroundPosition: \"center\",\r\n      backgroundSize: \"cover\",\r\n      transform: `scale(${parseFloat(this.props.zoom)}) translate(${this.state.offsetX}px, ${this.state.offsetY}px)`\r\n    };\r\n    return (\r\n      <div className=\"blueprint-form\" ref={this.selector}>\r\n        <PositionOverlay\r\n          style={style}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          removeOperator={this.props.removeOperator}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          removeGadget={this.props.removeGadget}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          removeUtility={this.props.removeUtility}\r\n          drones={this.props.drones}\r\n          removeDrone={this.props.removeDrone}\r\n          rotates={this.props.rotates}\r\n          removeRotate={this.props.removeRotate}\r\n          reinforcements={this.props.reinforcements}\r\n          removeReinforcement={this.props.removeReinforcement}\r\n          floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          removeBreach={this.props.removeBreach}\r\n          updateOperatorPositions={this.props.updateOperatorPositions}\r\n          updateGadgetPositions={this.props.updateGadgetPositions}\r\n          updateDronePositions={this.props.updateDronePositions}\r\n          updateUtilityPositions={this.props.updateUtilityPositions}\r\n          updateRotatePositions={this.props.updateRotatePositions}\r\n          updateReinforcementPositions={this.props.updateReinforcementPositions}\r\n          updateBreachPositions={this.props.updateBreachPositions}\r\n          type={this.props.type}\r\n          zoom={this.props.zoom}\r\n          bounds={this.state.bounds}\r\n          onDragStart={this.onDragStart}\r\n          onDragTouch={this.onDragTouch}\r\n          offsetX={this.state.offsetX}\r\n          offsetY={this.state.offsetY}\r\n          labels={this.props.labels}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlueprintForm;\r\n","/* client/src/components/partials/Objectives.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass Objectives extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n\r\n    this.state = {\r\n      newObj: \"\",\r\n    }\r\n  }\r\n  onChange(e) {\r\n    this.setState({\r\n      newObj: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    const objectives = this.props.objectives.map((obj, index) => {\r\n      return (\r\n        <li key={index}>\r\n          <div>\r\n            <p>{obj}</p>\r\n            <button onClick={() => { this.props.removeObjective(index) }}>X</button>\r\n          </div>\r\n        </li>\r\n      )\r\n    });\r\n    return (\r\n      <div className=\"objectives\">\r\n        <h3>Objectives: {this.props.scenes[this.props.sceneIndex].name}</h3>\r\n        <input onChange={this.onChange} value={this.state.newObj} placeholder=\"New Objective\"/>\r\n        <button onClick={() => {\r\n          this.props.addObjective(this.state.newObj);\r\n          this.setState({\r\n            newObj: \"\"\r\n          });\r\n        }}>Add</button>\r\n        <ul>\r\n          { objectives }\r\n        </ul>\r\n        <h3>Notes: {this.props.scenes[this.props.sceneIndex].name}</h3>\r\n        <textarea value={this.props.notes} onChange={this.props.updateNotes} rows={7}></textarea>\r\n        <h3>Video Link</h3>\r\n        <input onChange={this.props.updateVideo} value={this.props.video}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Objectives;\r\n","/* client/src/components/partials/Canvas.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport FloorSelector from \"./FloorSelector.js\";\r\nimport ZoomSelector from \"./ZoomSelector.js\";\r\nimport Pagination from \"./Pagination.js\";\r\nimport BlueprintForm from \"./BlueprintForm.js\";\r\nimport Objectives from \"./Objectives.js\";\r\n\r\nclass Canvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateZoom = this.updateZoom.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n\r\n    this.state = {\r\n      zoom: 1,\r\n      labels: false\r\n    }\r\n  }\r\n  toggleLabels() {\r\n    this.setState({\r\n      labels: !this.state.labels\r\n    })\r\n  }\r\n  updateZoom(e) {\r\n    this.setState({\r\n      zoom: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"canvas\">\r\n        <div className=\"canvas__controls\">\r\n          <FloorSelector onChange={this.props.updateFloor} floors={this.props.floors} floor={this.props.floor}/>\r\n          <ZoomSelector onChange={this.updateZoom} zoom={this.state.zoom}/>\r\n          <div className=\"labels\">\r\n            <span>Show Labels</span>\r\n            <input type=\"checkbox\" onChange={this.toggleLabels} checked={this.state.labels}/>\r\n          </div>\r\n          <Pagination onChange={this.props.selectScene} index={this.props.sceneIndex} labels={this.props.scenes}\r\n            activeLabel={this.props.scenes[this.props.sceneIndex].name}/>\r\n        </div>\r\n        <BlueprintForm type={this.props.type}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          removeOperator={this.props.removeOperator}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          removeGadget={this.props.removeGadget}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          removeUtility={this.props.removeUtility}\r\n          drones={this.props.drones}\r\n          removeDrone={this.props.removeDrone}\r\n          rotates={this.props.rotates}\r\n          removeRotate={this.props.removeRotate}\r\n          reinforcements={this.props.reinforcements}\r\n          removeReinforcement={this.props.removeReinforcement}\r\n          map={this.props.map} site={this.props.site} floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          removeBreach={this.props.removeBreach}\r\n          floor={this.props.floor}\r\n          updateOperatorPositions={this.props.updateOperatorPositions}\r\n          updateGadgetPositions={this.props.updateGadgetPositions}\r\n          updateDronePositions={this.props.updateDronePositions}\r\n          updateUtilityPositions={this.props.updateUtilityPositions}\r\n          updateRotatePositions={this.props.updateRotatePositions}\r\n          updateReinforcementPositions={this.props.updateReinforcementPositions}\r\n          updateBreachPositions={this.props.updateBreachPositions}\r\n          zoom={this.state.zoom}\r\n          labels={this.state.labels}/>\r\n        <div className=\"canvas__body\">\r\n          <Objectives objectives={this.props.objectives} addObjective={this.props.addObjective} removeObjective={this.props.removeObjective}\r\n            notes={this.props.notes} updateNotes={this.props.updateNotes} scenes={this.props.scenes} sceneIndex={this.props.sceneIndex}\r\n            video={this.props.video} updateVideo={this.props.updateVideo}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Canvas;\r\n","/* client/src/components/partials/Viewer.js */\r\n\r\nimport React from \"react\";\r\nimport { clean } from \"diacritic\";\r\nimport { ATTACKER_ROLES, ATTACKER_OPERATORS, DEFENDER_ROLES, DEFENDER_OPERATORS, UTILITY_GUIDE, UTILITY } from \"../../data.js\";\r\nconst attackRoles = ATTACKER_ROLES;\r\nconst defenderRoles = DEFENDER_ROLES;\r\nconst utility_guide = UTILITY;\r\n\r\nclass Lineup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleLineup = this.toggleLineup.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggleLineup() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    })\r\n  }\r\n  render() {\r\n    const roleOptions = (this.props.type === \"ATTACK\" ? (\r\n      attackRoles.map((option, index) => {\r\n        return <option key={index}>{option}</option>\r\n      })\r\n    ) : (\r\n      defenderRoles.map((option, index) => {\r\n        return <option key={index}>{option}</option>\r\n      })\r\n    ));\r\n    const operators = (this.props.type === \"ATTACK\" ? (\r\n      ATTACKER_OPERATORS\r\n    ) : (\r\n      DEFENDER_OPERATORS\r\n    ));\r\n\r\n    const lineup = this.props.roles.map((role, index) => {\r\n      const i = index;\r\n      const operatorOptions = (this.props.roles[index] !== \"ROLE\" ? (\r\n        operators[this.props.roles[index]].map((operator, index) => {\r\n          if (this.props.operators.indexOf(operator) < 0 || this.props.operators.indexOf(operator) === i) {\r\n            return <option key={index}>{operator.toUpperCase()}</option>\r\n          }\r\n        })\r\n      ) : \"\");\r\n      const utilityOptions = (this.props.type === \"ATTACK\" ? (\r\n        utility_guide.attack[this.props.operators[index]].map((gadget, index) => {\r\n          return <option key={index}>{gadget}</option>\r\n        })\r\n      ) : (\r\n        utility_guide.defense[this.props.operators[index]].map((gadget, index) => {\r\n          return <option key={index}>{gadget}</option>\r\n        })\r\n      ));\r\n      return (\r\n        <div className={\"role\" + (this.props.activeOperator === index ? \" role--active\" : \"\")} key={index}>\r\n          <div className=\"role__head\">\r\n            { this.props.activeOperator === index ? (\r\n              <div className=\"role__options\">\r\n                <select className=\"form__select\" onChange={(e) => { this.props.updateRoles(e, index) }} value={this.props.roles[index]}>\r\n                  { roleOptions }\r\n                </select>\r\n                <select className=\"form__select\" onChange={(e) => { this.props.updateOperators(e, index) }} value={this.props.operators[index]} disabled={this.props.roles[index] === \"ROLE\"}>\r\n                  <option>OPERATOR</option>\r\n                  { operatorOptions }\r\n                </select>\r\n                <div className=\"role__utility\">\r\n                  <select className=\"form__select\" onChange={(e) => { this.props.updateUtility(e, index) }} value={this.props.utility[index]}>\r\n                    <option>UTILITY</option>\r\n                    { utilityOptions }\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"role__options\">\r\n                <p className=\"role__role\">Role: {this.props.roles[index]}</p>\r\n                <p className=\"role__utility\">Utility: {this.props.utility[index]}</p>\r\n              </div>\r\n            )}\r\n            <div className=\"role__image\" onClick={() => { this.props.selectOperator(index) }}>\r\n              <p>{this.props.operators[index]}</p>\r\n              <img className=\"role__image\" src={`../../media/min/operators/${clean(this.props.operators[index].toLowerCase())}.png`}\r\n                alt=\"Operator\"\r\n                onClick={() => {\r\n                  if (this.props.activeOperator === index) {\r\n                    this.props.insertOperator(this.props.activeOperator);\r\n                  } else {\r\n                    this.props.selectOperator(index);\r\n                  }\r\n                }}/>\r\n              { this.props.activeOperator === index ? (\r\n                <p style={{ fontSize: \"8pt\" }}>Click to insert</p>\r\n              ) : \"\" }\r\n            </div>\r\n          </div>\r\n\r\n          { this.props.activeOperator === index ? (\r\n            <div className=\"role__body\">\r\n              <div>\r\n                { this.props.gadgets[index].gadget && this.props.gadgets[index].count !== 0 ? (\r\n                  <div className=\"role__gadget\">\r\n                    <p>{this.props.gadgets[index].gadget} ({this.props.gadgets[index].count - this.props.gadgetPositions[index].length})</p>\r\n                    <img className=\"role__gadget-image\" src={`../../media/min/gadgets/${this.props.gadgets[index].gadget.toUpperCase().replace(\" \", \"_\").replace(\" \", \"_\")}.png`}\r\n                      alt=\"Operator Gadget\"\r\n                      onClick={() => {\r\n                        if (this.props.gadgets[index].count - this.props.gadgetPositions[index].length> 0) {\r\n                          this.props.insertGadget(index)\r\n                        }\r\n                      }}/>\r\n                    <p style={{ fontSize: \"8pt\", textTransform: \"none\" }}>Click to insert</p>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n              <div>\r\n                { this.props.utility[index] && this.props.utility[index] !== \"UTILITY\" ? (\r\n                  <div className=\"role__utility\">\r\n                    <p>{this.props.utility[index]} ({UTILITY_GUIDE[this.props.utility[index]] - this.props.utilityPositions[index].length})</p>\r\n                    <img className=\"role__utility-image\" src={`../../media/min/utility/${this.props.utility[index].toUpperCase().replace(\" \", \"_\").replace(\" \", \"_\")}.png`}\r\n                      alt=\"Operator Utility\"\r\n                      onClick={() => {\r\n                        if (UTILITY_GUIDE[this.props.utility[index]] - this.props.utilityPositions[index].length) {\r\n                          this.props.insertUtility(index);\r\n                        }\r\n                      }}/>\r\n                    <p style={{ fontSize: \"8pt\", textTransform: \"none\" }}>Click to insert</p>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n            </div>\r\n          ) : \"\"}\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div className={\"lineup\" + (this.state.active ? \" lineup--active\" : \"\")}>\r\n        <button onClick={this.toggleLineup}>&#8594;</button>\r\n        <div className=\"lineup-body\">\r\n          <h3>Lineup</h3>\r\n          { lineup }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Lineup;\r\n","/* client/components/partials/Editor.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Toolbar from \"./Toolbar.js\";\r\nimport Sidebar from \"./Sidebar.js\";\r\nimport Canvas from \"./Canvas.js\";\r\nimport Lineup from \"./Lineup.js\";\r\nimport { Prompt } from 'react-router'\r\n\r\nimport { SITES, FLOORS, GADGETS, UTILITY_GUIDE, CANVAS_WIDTH, CANVAS_HEIGHT } from \"../../data.js\";\r\n\r\n\r\n/*\r\n  @func: Editor\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop map\r\n  @prop save (function)\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass Editor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectSite = this.selectSite.bind(this);\r\n    this.updateType = this.updateType.bind(this);\r\n    this.updateRoles = this.updateRoles.bind(this);\r\n    this.updateName = this.updateName.bind(this);\r\n    this.updateFloor = this.updateFloor.bind(this);\r\n    this.save = this.save.bind(this);\r\n    this.share = this.share.bind(this);\r\n    this.unshare = this.unshare.bind(this);\r\n\r\n    // Strategies\r\n    this.addStrategy = this.addStrategy.bind(this);\r\n    this.removeStrategy = this.removeStrategy.bind(this);\r\n    this.selectStrategy = this.selectStrategy.bind(this);\r\n\r\n    // Scenes\r\n    this.selectScene = this.selectScene.bind(this);\r\n    this.addScene = this.addScene.bind(this);\r\n    this.removeScene = this.removeScene.bind(this);\r\n    this.updateSceneName = this.updateSceneName.bind(this);\r\n\r\n    // Operators\r\n    this.updateOperators = this.updateOperators.bind(this);\r\n    this.updateOperatorPositions = this.updateOperatorPositions.bind(this);\r\n    this.selectOperator = this.selectOperator.bind(this);\r\n    this.insertOperator = this.insertOperator.bind(this);\r\n    this.removeOperator = this.removeOperator.bind(this);\r\n\r\n    // Drones\r\n    this.updateDronePositions = this.updateDronePositions.bind(this);\r\n    this.insertDrone = this.insertDrone.bind(this);\r\n    this.removeDrone = this.removeDrone.bind(this);\r\n\r\n    // Gadgets\r\n    this.updateGadgetPositions = this.updateGadgetPositions.bind(this);\r\n    this.insertGadget = this.insertGadget.bind(this);\r\n    this.removeGadget = this.removeGadget.bind(this);\r\n\r\n    // Utility\r\n    this.updateUtility = this.updateUtility.bind(this);\r\n    this.updateUtilityPositions = this.updateUtilityPositions.bind(this);\r\n    this.insertUtility = this.insertUtility.bind(this);\r\n    this.removeUtility = this.removeUtility.bind(this);\r\n\r\n    // Rotates\r\n    this.updateRotatePositions = this.updateRotatePositions.bind(this);\r\n    this.insertRotate = this.insertRotate.bind(this);\r\n    this.removeRotate = this.removeRotate.bind(this);\r\n\r\n    // Reinforcements\r\n    this.updateReinforcementPositions = this.updateReinforcementPositions.bind(this);\r\n    this.insertReinforcement = this.insertReinforcement.bind(this);\r\n    this.removeReinforcement = this.removeReinforcement.bind(this);\r\n\r\n    // Breaches\r\n    this.updateBreachPositions = this.updateBreachPositions.bind(this);\r\n    this.insertBreach = this.insertBreach.bind(this);\r\n    this.removeBreach = this.removeBreach.bind(this);\r\n\r\n    // Objectives and Notes\r\n    this.addObjective = this.addObjective.bind(this);\r\n    this.removeObjective = this.removeObjective.bind(this);\r\n    this.updateNotes = this.updateNotes.bind(this);\r\n    this.updateVideo = this.updateVideo.bind(this);\r\n\r\n    // Handle scroll\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n\r\n    // Declare initial state\r\n    let siteIndex;\r\n    let sceneIndex;\r\n    let strategyIndex;\r\n    let scenes;\r\n    let strategies;\r\n    let floorIndex;\r\n    let type;\r\n    let floors = FLOORS[this.props.map.name];\r\n    let sites = SITES[this.props.map.name];\r\n    if (this.props.position) {\r\n      type = this.props.position.type;\r\n      siteIndex = this.props.position.siteIndex;\r\n      sceneIndex = this.props.position.sceneIndex;\r\n      strategyIndex = this.props.position.strategyIndex;\r\n      floorIndex = this.props.position.floorIndex;\r\n      if (this.props.position.type === \"ATTACK\") {\r\n        strategies = this.props.map.attack;\r\n        scenes = this.props.map.attack[strategyIndex][SITES[this.props.map.name][siteIndex]];\r\n      } else {\r\n        strategies = this.props.map.defense[SITES[this.props.map.name][siteIndex]];\r\n        scenes = this.props.map.defense[SITES[this.props.map.name][siteIndex]][strategyIndex].scenes;\r\n      }\r\n    } else {\r\n      siteIndex = 0;\r\n      strategyIndex = 0;\r\n      sceneIndex = 0;\r\n      if (sites[siteIndex][0] === 'B') {\r\n        floorIndex = 0;\r\n      } else {\r\n        floorIndex = parseInt(sites[siteIndex][0]);\r\n      }\r\n      type = \"ATTACK\";\r\n      scenes = this.props.map.attack[0][SITES[this.props.map.name][0]];\r\n      strategies = this.props.map.attack;\r\n    }\r\n\r\n    this.state = {\r\n      activeOperator: 0,\r\n      map: this.props.map,\r\n      sites: sites,\r\n      site: SITES[this.props.map.name][siteIndex],\r\n      siteIndex: siteIndex,\r\n      strategyIndex: strategyIndex,\r\n      strategies: strategies,\r\n      sceneIndex: sceneIndex,\r\n      scenes: scenes,\r\n      floors: floors,\r\n      floorIndex: floorIndex,\r\n      type: type,\r\n      mounted: false,\r\n      updated: false\r\n    }\r\n  }\r\n  selectSite(index) {\r\n    let sites = this.state.sites;\r\n    let floorIndex;\r\n    if (sites[index][0] === 'B') {\r\n      floorIndex = 0;\r\n    } else {\r\n      floorIndex = parseInt(sites[index][0]);\r\n    }\r\n    this.setState({\r\n      site: this.state.sites[index],\r\n      siteIndex: index,\r\n      sceneIndex: 0,\r\n      scenes: (this.state.type === \"ATTACK\" ? this.state.map.attack[this.state.strategyIndex][this.state.sites[index]] : this.state.map.defense[this.state.sites[index]][0].scenes),\r\n      strategyIndex: (this.state.type === \"ATTACK\" ? this.state.strategyIndex : 0),\r\n      strategies: (this.state.type === \"ATTACK\" ? this.state.strategies : this.state.map.defense[this.state.sites[index]]),\r\n      floorIndex: floorIndex\r\n    });\r\n  }\r\n  updateType(type) {\r\n    if (type === \"ATTACK\") {\r\n      this.setState({\r\n        type: \"ATTACK\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.attack,\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.attack[0][this.state.sites[0]],\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    } else {\r\n      this.setState({\r\n        type: \"DEFENSE\",\r\n        site: this.state.sites[0],\r\n        siteIndex: 0,\r\n        strategies: this.state.map.defense[this.state.sites[0]],\r\n        strategyIndex: 0,\r\n        scenes: this.state.map.defense[this.state.sites[0]][0].scenes,\r\n        sceneIndex: 0,\r\n        floorIndex: 0\r\n      });\r\n    }\r\n  }\r\n  updateRoles(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].roles[index] = e.target.value;\r\n      map.attack[this.state.strategyIndex].operators[index] = \"OPERATOR\";\r\n      map.attack[this.state.strategyIndex].gadgets[index] = \"\";\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions[index] = [];\r\n      map.attack[this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].roles[index] = e.target.value;\r\n      map.defense[this.state.site][this.state.strategyIndex].operators[index] = \"OPERATOR\";\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgets[index] = \"\";\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions[index] = [];\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateName(name) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].name = name;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].name = name;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateFloor(e) {\r\n    this.setState({\r\n      floorIndex: this.state.floors.indexOf(e.target.value)\r\n    });\r\n  }\r\n  selectOperator(index) {\r\n    this.setState({\r\n      activeOperator: index\r\n    });\r\n  }\r\n  save() {\r\n    const position = {\r\n      siteIndex: this.state.siteIndex,\r\n      strategyIndex: this.state.strategyIndex,\r\n      sceneIndex: this.state.sceneIndex,\r\n      floorIndex: this.state.floorIndex,\r\n      type: this.state.type\r\n    };\r\n    this.props.save(JSON.stringify(this.state.map), position);\r\n  }\r\n  share() {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    let strategy;\r\n    let shared;\r\n    if (this.state.type === \"ATTACK\") {\r\n      shared = map.attack[this.state.strategyIndex].shared === true;\r\n    } else {\r\n      shared = map.defense[this.state.site][this.state.strategyIndex].shared === true;\r\n    }\r\n\r\n    if (!shared) {\r\n      if (this.state.type === \"ATTACK\") {\r\n        map.attack[this.state.strategyIndex].shared = true;\r\n        strategies = map.attack;\r\n      } else {\r\n        map.defense[this.state.site][this.state.strategyIndex].shared = true;\r\n        strategies = map.defense[this.state.site];\r\n      }\r\n      strategy = strategies[this.state.strategyIndex];\r\n      strategy.type = this.state.type;\r\n      strategy.map = this.state.map.name;\r\n      strategy.floorIndex = this.state.floorIndex;\r\n      strategy.siteIndex = this.state.siteIndex;\r\n      const position = {\r\n        siteIndex: this.state.siteIndex,\r\n        strategyIndex: this.state.strategyIndex,\r\n        sceneIndex: this.state.sceneIndex,\r\n        floorIndex: this.state.floorIndex,\r\n        type: this.state.type\r\n      };\r\n\r\n      this.setState({\r\n        map: map,\r\n        strategies: strategies\r\n      }, () => {\r\n        this.props.shareStrategy(strategy, map, position);\r\n      });\r\n    }\r\n  }\r\n  unshare() {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    let shared;\r\n    if (this.state.type === \"ATTACK\") {\r\n      shared = map.attack[this.state.strategyIndex].shared === true;\r\n    } else {\r\n      shared = map.defense[this.state.site][this.state.strategyIndex].shared === true;\r\n    }\r\n\r\n    let shared_key;\r\n    if (shared) {\r\n      if (this.state.type === \"ATTACK\") {\r\n        map.attack[this.state.strategyIndex].shared = undefined;\r\n        shared_key = map.attack[this.state.strategyIndex].shared_key;\r\n        strategies = map.attack;\r\n      } else {\r\n        map.defense[this.state.site][this.state.strategyIndex].shared = undefined;\r\n        shared_key = map.defense[this.state.site][this.state.strategyIndex].shared_key;\r\n        strategies = map.defense[this.state.site];\r\n      }\r\n      const position = {\r\n        siteIndex: this.state.siteIndex,\r\n        strategyIndex: this.state.strategyIndex,\r\n        sceneIndex: this.state.sceneIndex,\r\n        floorIndex: this.state.floorIndex,\r\n        type: this.state.type\r\n      };\r\n\r\n      this.setState({\r\n        map: map,\r\n        strategies: strategies\r\n      }, () => {\r\n        this.props.unshareStrategy(shared_key, map, position);\r\n      });\r\n    }\r\n  }\r\n\r\n  // Strategies\r\n  addStrategy() {\r\n    let map = this.state.map;\r\n    let newStrategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      let attackStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"]\r\n      };\r\n      SITES[this.state.map.name].forEach((site) => {\r\n        attackStrategy[site] = [\r\n          {\r\n            objectives: [],\r\n            utilityPositions: [[], [], [], [], []],\r\n            gadgetPositions: [[], [], [], [], []],\r\n            breaches: [],\r\n            operatorPositions: [{x: Math.floor(CANVAS_WIDTH / 2), y: 0}, {x: Math.floor(CANVAS_WIDTH / 2), y: 0}, {x: Math.floor(CANVAS_WIDTH / 2), y: 0}, {x: Math.floor(CANVAS_WIDTH / 2), y: 0}, {x: Math.floor(CANVAS_WIDTH / 2), y: Math.floor(CANVAS_HEIGHT / 2)}],\r\n            drones: [],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      });\r\n      map.attack.push(attackStrategy);\r\n      newStrategies = map.attack;\r\n    } else {\r\n      let defenseStrategy = {\r\n        name: \"Unnamed\",\r\n        roles: [\"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\", \"ROLE\"],\r\n        operators: [\"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\", \"OPERATOR\"],\r\n        utility: [\"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\", \"UTILITY\"],\r\n        gadgets: [\"\", \"\", \"\", \"\", \"\"],\r\n        reinforcements: [],\r\n        rotates: [],\r\n        utilityPositions: [[], [], [], [], []],\r\n        gadgetPositions: [[], [], [], [], []],\r\n        scenes: [\r\n          {\r\n            objectives: [],\r\n            operatorPositions: [{x: Math.floor(CANVAS_WIDTH / 2), y: Math.floor(CANVAS_HEIGHT / 2)}, {x: Math.floor(CANVAS_WIDTH / 2), y: Math.floor(CANVAS_HEIGHT / 2)}, {x: Math.floor(CANVAS_WIDTH / 2), y: Math.floor(CANVAS_HEIGHT / 2)}, {x: Math.floor(CANVAS_WIDTH / 2), y: Math.floor(CANVAS_HEIGHT / 2)}, {x: Math.floor(CANVAS_WIDTH / 2), y: Math.floor(CANVAS_HEIGHT / 2)}],\r\n            notes: \"\",\r\n            name: \"Unnamed\"\r\n          }\r\n        ]\r\n      };\r\n      map.defense[this.state.sites[this.state.siteIndex]].push(defenseStrategy);\r\n      newStrategies = map.defense[this.state.sites[this.state.siteIndex]];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      strategies: newStrategies,\r\n      strategyIndex: this.state.strategyIndex + 1\r\n    });\r\n  }\r\n  removeStrategy() {\r\n    if (this.state.strategies.length !== 1) {\r\n      if (window.confirm(`You are about to remove ${this.state.strategies[this.state.strategyIndex].name} from your Stratbook. If you wish to continue, please confirm.`)) {\r\n        let newStrategies = [...this.state.strategies];\r\n        newStrategies.splice(this.state.strategyIndex, 1);\r\n        let map = this.state.map;\r\n        if (this.state.type === \"ATTACK\") {\r\n          map.attack = newStrategies;\r\n        } else {\r\n          map.defense[this.state.sites[this.state.siteIndex]] = newStrategies;\r\n        }\r\n        this.setState({\r\n          map: map,\r\n          strategyIndex: (this.state.strategyIndex - 1 >= 0 ? this.state.strategyIndex - 1 : 0),\r\n          strategies: newStrategies,\r\n        });\r\n      }\r\n    }\r\n  }\r\n  selectStrategy(index) {\r\n    this.setState({\r\n      strategyIndex: index\r\n    });\r\n  }\r\n\r\n  // Scenes\r\n  addScene() {\r\n    let scenes;\r\n    let map = this.state.map;\r\n    let name = \"Unnamed\";\r\n    if (this.state.type === \"ATTACK\") {\r\n      scenes = [...map.attack[this.state.strategyIndex][this.state.site]];\r\n      let newScene = JSON.parse(JSON.stringify(scenes[scenes.length - 1]));\r\n      newScene.notes = \"\";\r\n      newScene.name = name;\r\n      newScene.objectives = [];\r\n      scenes.push(newScene);\r\n      map.attack[this.state.strategyIndex][this.state.site] = scenes;\r\n    } else {\r\n      scenes = [...map.defense[this.state.site][this.state.strategyIndex].scenes];\r\n      let newScene = JSON.parse(JSON.stringify(scenes[scenes.length - 1]));\r\n      newScene.notes = \"\";\r\n      newScene.objectives = [];\r\n      newScene.name = name;\r\n      scenes.push(newScene);\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes = scenes;\r\n    }\r\n    this.setState({\r\n      scenes: scenes,\r\n      map: map,\r\n      sceneIndex: this.state.sceneIndex + 1\r\n    });\r\n  }\r\n  removeScene() {\r\n    if (this.state.sceneIndex - 1 >= 0) {\r\n      let scenes;\r\n      let map = this.state.map;\r\n      if (this.state.type === \"ATTACK\") {\r\n        scenes = [...map.attack[this.state.strategyIndex][this.state.site]];\r\n        scenes.splice(this.state.sceneIndex, 1);\r\n        map.attack[this.state.strategyIndex][this.state.site] = scenes;\r\n      } else {\r\n        scenes = [...map.defense[this.state.site][this.state.strategyIndex].scenes];\r\n        scenes.splice(this.state.sceneIndex, 1);\r\n        map.defense[this.state.site][this.state.strategyIndex].scenes = scenes;\r\n      }\r\n      this.setState({\r\n        scenes: scenes,\r\n        map: map,\r\n        sceneIndex: this.state.sceneIndex - 1\r\n      });\r\n    }\r\n  }\r\n  selectScene(index) {\r\n    this.setState({\r\n      sceneIndex: index\r\n    });\r\n  }\r\n  updateSceneName(name, index) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][index].name = name;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[index].name = name;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Operators\r\n  insertOperator(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].floor = this.state.floorIndex;\r\n      let opPosition = map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index];\r\n      if (opPosition.x === 0 && opPosition.y === 0) {\r\n        map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].x = Math.floor(CANVAS_WIDTH / 2);\r\n        map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].y = Math.floor(CANVAS_HEIGHT / 2);\r\n      }\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].floor = this.state.floorIndex;\r\n      let opPosition = map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index];\r\n      if (opPosition.x === 0 && opPosition.y === 0) {\r\n        map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].x = Math.floor(CANVAS_WIDTH / 2);\r\n        map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].y = Math.floor(CANVAS_HEIGHT / 2);\r\n      }\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeOperator(index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions[index].floor = undefined;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions[index].floor = undefined;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateOperators(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].operators[index] = e.target.value;\r\n      map.attack[this.state.strategyIndex].gadgets[index] = GADGETS[e.target.value];\r\n      map.attack[this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].operators[index] = e.target.value;\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgets[index] = GADGETS[e.target.value];\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = \"UTILITY\";\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateOperatorPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Drones\r\n  insertDrone() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.length + 1 <= 10) {\r\n      let drone = {\r\n        x: Math.floor(CANVAS_WIDTH / 2), // taken from blueprint form values\r\n        y: Math.floor(CANVAS_HEIGHT / 2), // taken from blueprint form values\r\n        floor: this.state.floorIndex\r\n      };\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.push(drone);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeDrone(index) {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.length - 1 >= 0) {\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones.splice(index, 1);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  updateDronePositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones = positions;\r\n    scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n    strategies = map.attack;\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Gadgets\r\n  insertGadget(index) {\r\n    let map = this.state.map;\r\n    let gadget = {\r\n      x: Math.floor(CANVAS_WIDTH / 2), // taken from blueprint form values\r\n      y: Math.floor(CANVAS_HEIGHT / 2), // taken from blueprint form values\r\n      floor: this.state.floorIndex\r\n    };\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions[index].push(gadget);\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions[index].push(gadget);\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeGadget(index, gi) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions[index].splice(gi, 1);\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].gadgetPositions[index].splice(gi, 1);\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateGadgetPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].gadgetPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  // Utility\r\n  updateUtility(e, index) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex].utility[index] = e.target.value;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].utility[index] = e.target.value;\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  updateUtilityPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions = positions;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].utilityPositions = positions;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertUtility(index) {\r\n    let map = this.state.map;\r\n    let utility = {\r\n      x: Math.floor(CANVAS_WIDTH / 2), // taken from blueprint form values\r\n      y: Math.floor(CANVAS_HEIGHT / 2), // taken from blueprint form values\r\n      floor: this.state.floorIndex\r\n    };\r\n    if (this.state.type === \"ATTACK\") {\r\n      if (map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].length + 1 <= UTILITY_GUIDE[map.attack[this.state.strategyIndex].utility[index]]) {\r\n        map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].push(utility);\r\n      }\r\n    } else {\r\n      if (map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].length + 1 <= UTILITY_GUIDE[map.defense[this.state.site][this.state.strategyIndex].utility[index]]) {\r\n        map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].push(utility);\r\n      }\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeUtility(index, gi) {\r\n    let map = this.state.map;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions[index].splice(gi, 1);\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].utilityPositions[index].splice(gi, 1);\r\n    }\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Rotates\r\n  updateRotatePositions(positions) {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates = positions;\r\n    strategies = map.defense[this.state.site];\r\n    this.setState({\r\n      map: map,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertRotate() {\r\n    let map = this.state.map;\r\n    let rotate = {\r\n      x: Math.floor(CANVAS_HEIGHT / 2), // taken from blueprint form values\r\n      y: Math.floor(CANVAS_HEIGHT / 2), // taken from blueprint form values\r\n      floor: this.state.floorIndex\r\n    };\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates.push(rotate);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n  removeRotate(index) {\r\n    let map = this.state.map;\r\n    map.defense[this.state.site][this.state.strategyIndex].rotates.splice(index, 1);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Reinforcements\r\n  updateReinforcementPositions(positions) {\r\n    let map = this.state.map;\r\n    let strategies;\r\n    map.defense[this.state.site][this.state.strategyIndex].reinforcements = positions;\r\n    strategies = map.defense[this.state.site];\r\n    this.setState({\r\n      map: map,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertReinforcement() {\r\n    if (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements.length + 1 <= 10) {\r\n      let map = this.state.map;\r\n      let reinforcement = {\r\n        x: Math.floor(CANVAS_WIDTH / 2), // taken from blueprint form values\r\n        y: Math.floor(CANVAS_HEIGHT / 2), // taken from blueprint form values\r\n        floor: this.state.floorIndex\r\n      };\r\n      map.defense[this.state.site][this.state.strategyIndex].reinforcements.push(reinforcement);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeReinforcement(index) {\r\n    let map = this.state.map;\r\n    map.defense[this.state.site][this.state.strategyIndex].reinforcements.splice(index, 1);\r\n    this.setState({\r\n      map: map\r\n    });\r\n  }\r\n\r\n  // Breaches\r\n  updateBreachPositions(positions) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches = positions;\r\n    scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n    strategies = map.attack;\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  insertBreach() {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.length + 1 <= 10) {\r\n      let breach = {\r\n        x: Math.floor(CANVAS_WIDTH / 2), // taken from blueprint form values\r\n        y: Math.floor(CANVAS_HEIGHT / 2), // taken from blueprint form values\r\n        floor: this.state.floorIndex\r\n      };\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.push(breach);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n  removeBreach(index) {\r\n    if (this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.length - 1 >= 0) {\r\n      let map = this.state.map;\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches.splice(index, 1);\r\n      this.setState({\r\n        map: map\r\n      });\r\n    }\r\n  }\r\n\r\n  // Objectives and Notes\r\n  addObjective(msg) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives.push(msg);\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.push(msg);\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  removeObjective(index) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives.splice(index, 1);\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives.splice(index, 1);\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  updateNotes(e) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].notes = e.target.value;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes = e.target.value;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n  updateVideo(e) {\r\n    let map = this.state.map;\r\n    let scenes;\r\n    let strategies;\r\n    if (this.state.type === \"ATTACK\") {\r\n      map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].video = e.target.value;\r\n      scenes = map.attack[this.state.strategyIndex][this.state.site];\r\n      strategies = map.attack;\r\n    } else {\r\n      map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].video = e.target.value;\r\n      scenes = map.defense[this.state.site][this.state.strategyIndex].scenes;\r\n      strategies = map.defense[this.state.site];\r\n    }\r\n    this.setState({\r\n      map: map,\r\n      scenes: scenes,\r\n      strategies: strategies\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.state.mounted) {\r\n      window.addEventListener(\"scroll\", this.handleScroll);\r\n      this.setState({\r\n        mounted: true\r\n      });\r\n    }\r\n  }\r\n  handleScroll(e) {\r\n    const nav = document.querySelector(\"nav.nav\");\r\n    const toolbar = document.querySelector(\"div.toolbar\");\r\n    const main = document.querySelector(\"main\");\r\n    const sidebar = document.querySelector(\"div.sidebar\");\r\n    const lineup = document.querySelector(\"div.lineup\");\r\n    if (window.scrollY > nav.offsetTop + nav.offsetHeight) {\r\n      toolbar.classList.add(\"toolbar--scroll\");\r\n      sidebar.classList.add(\"sidebar--scroll\");\r\n      lineup.classList.add(\"lineup--scroll\");\r\n      main.style.marginTop = toolbar.offsetHeight + \"px\";\r\n    } else {\r\n      toolbar.classList.remove(\"toolbar--scroll\");\r\n      sidebar.classList.remove(\"sidebar--scroll\");\r\n      lineup.classList.remove(\"lineup--scroll\");\r\n      main.style.marginTop = 0;\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"Editor\">\r\n        <Prompt\r\n          when={this.state.updated}\r\n          message=\"You have unsaved changes. Are you sure you want to leave this page?\"/>\r\n        <Toolbar\r\n          showMaps={this.showMaps}\r\n          map={this.state.map}\r\n          strategies={this.state.strategies}\r\n          strategyIndex={this.state.strategyIndex}\r\n          selectStrategy={this.selectStrategy}\r\n          type={this.state.type}\r\n          updateType={this.updateType}\r\n          siteIndex={this.state.siteIndex}\r\n          sites={this.state.sites}\r\n          selectSite={this.selectSite}\r\n          addStrategy={this.addStrategy}\r\n          removeStrategy={this.removeStrategy}\r\n          strategy={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex].name\r\n          ): (\r\n            this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n          )}\r\n          updateStrategyName={this.updateName}\r\n          drones={this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones) : undefined}\r\n          insertDrone={this.insertDrone}\r\n          rotates={this.state.type === \"ATTACK\"? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n          insertRotate={this.insertRotate}\r\n          reinforcements={this.state.type === \"ATTACK\" ? (\r\n            undefined\r\n          ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n          insertReinforcement={this.insertReinforcement}\r\n          breaches={(this.state.type === \"ATTACK\" ? (\r\n            this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n          ) : undefined)}\r\n          insertBreach={this.insertBreach}\r\n          alert={this.props.alert} save={this.save}\r\n          fetchStrategies={this.props.fetchStrategies}\r\n          />\r\n        <main>\r\n          <Sidebar\r\n            map={this.state.map.name}\r\n            strategy={this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].name\r\n            ): (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].name\r\n            )}\r\n            strategies={this.state.strategies}\r\n            selectStrategy={this.selectStrategy}\r\n            strategyIndex={this.state.strategyIndex}\r\n            sites={this.state.sites}\r\n            selectSite={this.selectSite}\r\n            siteIndex={this.state.siteIndex}\r\n            scenes={this.state.scenes}\r\n            selectScene={this.selectScene}\r\n            sceneIndex={this.state.sceneIndex}\r\n            addScene={this.addScene}\r\n            removeScene={this.removeScene}\r\n            updateSceneName={this.updateSceneName}\r\n            type={this.state.type}\r\n            shared={this.state.strategies[this.state.strategyIndex].shared}\r\n            shared_key={this.state.strategies[this.state.strategyIndex].shared_key}\r\n            share={this.share}\r\n            unshare={this.unshare}\r\n            alert={this.props.alert}\r\n            />\r\n          <Canvas\r\n            type={this.state.type}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            operatorPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].operatorPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].operatorPositions\r\n            ))}\r\n            removeOperator={this.removeOperator}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n            ))}\r\n            removeGadget={this.removeGadget}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n            ))}\r\n            removeUtility={this.removeUtility}\r\n            drones={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].drones\r\n            ) : undefined)}\r\n            removeDrone={this.removeDrone}\r\n            rotates={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].rotates)}\r\n            removeRotate={this.removeRotate}\r\n            reinforcements={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.map.defense[this.state.site][this.state.strategyIndex].reinforcements)}\r\n            removeReinforcement={this.removeReinforcement}\r\n            map={this.state.map.name} site={this.state.site} floorIndex={this.state.floorIndex}\r\n            breaches={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].breaches\r\n            ) : undefined)}\r\n            removeBreach={this.removeBreach}\r\n            floor={this.state.floors[this.state.floorIndex]}\r\n            updateOperatorPositions={this.updateOperatorPositions}\r\n            updateGadgetPositions={this.updateGadgetPositions}\r\n            updateDronePositions={this.updateDronePositions}\r\n            updateUtilityPositions={this.updateUtilityPositions}\r\n            updateRotatePositions={this.updateRotatePositions}\r\n            updateReinforcementPositions={this.updateReinforcementPositions}\r\n            updateBreachPositions={this.updateBreachPositions}\r\n            updateFloor={this.updateFloor}\r\n            floors={this.state.floors}\r\n            objectives={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].objectives\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].objectives))}\r\n            notes={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].notes\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].notes))}\r\n            addObjective={this.addObjective}\r\n            removeObjective={this.removeObjective}\r\n            updateNotes={this.updateNotes}\r\n            scenes={this.state.scenes}\r\n            sceneIndex={this.state.sceneIndex}\r\n            selectScene={this.selectScene}\r\n            video={this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].video\r\n            ) : ( this.state.map.defense[this.state.site][this.state.strategyIndex].scenes[this.state.sceneIndex].video)}\r\n            updateVideo={this.updateVideo}\r\n            />\r\n          <Lineup\r\n            type={this.state.type}\r\n            roles={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].roles\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].roles ))}\r\n            operators={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].operators\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].operators))}\r\n            updateRoles={this.updateRoles} updateOperators={this.updateOperators} updateUtility={this.updateUtility}\r\n            selectOperator={this.selectOperator} activeOperator={this.state.activeOperator}\r\n            insertOperator={this.insertOperator} removeOperator={this.removeOperator}\r\n            gadgets={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].gadgets\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].gadgets))}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].gadgetPositions\r\n            ))}\r\n            utility={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex].utility\r\n            ) : (this.state.map.defense[this.state.site][this.state.strategyIndex].utility))}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.map.attack[this.state.strategyIndex][this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.map.defense[this.state.site][this.state.strategyIndex].utilityPositions\r\n            ))}\r\n            insertUtility={this.insertUtility}\r\n            insertGadget={this.insertGadget}\r\n            />\r\n        </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Editor;\r\n","/* client/src/components/api/EditStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { STRATEGIES_FOUND, MAP_FOUND, MAP_UPDATED, MAP_DELETED, STRATEGY_SHARED, STRATEGY_UNSHARED } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_STRATEGIES, ERROR_VIEW_MAP, ERROR_UPDATE_MAP, ERROR_DELETE_MAP, ERROR_SHARED_STRATEGY, ERROR_UNSHARE_STRATEGY } from \"../../messages/errors.js\";\r\n\r\nimport CreateStrategiesAPI from \"./CreateStrategiesAPI\";\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\nimport Editor from \"../partials/Editor.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { SITES } from \"../../data.js\";\r\n\r\n/*\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nclass EditStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.addMap = this.addMap.bind(this);\r\n    this.fetchStrategies = this.fetchStrategies.bind(this);\r\n    this.fetchMap = this.fetchMap.bind(this);\r\n    this.updateStrategy = this.updateStrategy.bind(this);\r\n    this.deleteMap = this.deleteMap.bind(this);\r\n    this.shareStrategy = this.shareStrategy.bind(this);\r\n    this.unshareStrategy = this.unshareStrategy.bind(this);\r\n\r\n    this.state = {\r\n      map_name: this.props.map,\r\n      loading: true,\r\n      hasLoaded: false,\r\n      add: false,\r\n      errors: {},\r\n    }\r\n  }\r\n  addMap() {\r\n    this.setState({\r\n      add: !this.state.add\r\n    });\r\n  }\r\n  /*\r\n    @func fetchStrategies\r\n    @desc get strategies from server\r\n  */\r\n  fetchStrategies() {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      add: false\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(\"/api/strategies/view\")\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case STRATEGIES_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            maps: response.data.maps,\r\n            map: undefined,\r\n            map_name: undefined\r\n          });\r\n          break;\r\n          default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_STRATEGIES.message, ERROR_VIEW_STRATEGIES.status);\r\n    });\r\n  }\r\n  fetchMap(map) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      position: undefined\r\n    });\r\n    let map_name = map ? map : this.state.map_name;\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.get(`/api/strategies/view/${map_name.toLowerCase().replace(\" \", \"_\")}`)\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_FOUND.status:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true,\r\n              map_name: map_name,\r\n              map: response.data[map_name.toLowerCase()]\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n              hasLoaded: true\r\n            });\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_VIEW_MAP.message, ERROR_VIEW_MAP.status);\r\n      })\r\n  }\r\n  updateStrategy(map, position) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      position: position\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(`/api/strategies/update/${this.state.map.name.toLowerCase().replace(\" \", \"_\")}`, {\r\n      map: map\r\n      })\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case MAP_UPDATED.status:\r\n            component.setState({\r\n              loading: false,\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            }, component.props.fetchStrategies);\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_UPDATE_MAP.message, ERROR_UPDATE_MAP.status);\r\n      })\r\n  }\r\n  shareStrategy(strategy, map, position) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      position: position\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.post(`/api/strategies/share`, {\r\n      strategy: strategy\r\n      })\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case STRATEGY_SHARED.status:\r\n            component.setState({\r\n              loading: false,\r\n            }, () => {\r\n              if (position.type === \"ATTACK\") {\r\n                map.attack[position.strategyIndex].shared_key = response.data.shared_key;\r\n              } else {\r\n                map.defense[SITES[map.name][position.siteIndex]][position.strategyIndex].shared_key = response.data.shared_key;\r\n              }\r\n              this.updateStrategy(JSON.stringify(map), position);\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            }, component.props.fetchStrategies);\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_SHARED_STRATEGY.message, ERROR_SHARED_STRATEGY.status);\r\n      })\r\n  }\r\n  unshareStrategy(shared_key, map, position) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true,\r\n      position: position\r\n    });\r\n    axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n    axios.patch(`/api/strategies/unshare`, {\r\n      shared_key: shared_key\r\n      })\r\n      .then((response) => {\r\n        switch (response.data.status) {\r\n          case STRATEGY_UNSHARED.status:\r\n            component.setState({\r\n              loading: false,\r\n            }, () => {\r\n              this.updateStrategy(JSON.stringify(map), position);\r\n            });\r\n            break;\r\n          default:\r\n            component.setState({\r\n              loading: false,\r\n            }, component.props.fetchStrategies);\r\n            component.props.alert(response.data.message, response.data.status);\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        component.setState({\r\n          loading: false,\r\n          hasLoaded: true\r\n        });\r\n        component.props.alert(ERROR_UNSHARE_STRATEGY.message, ERROR_UNSHARE_STRATEGY.status);\r\n      })\r\n  }\r\n  deleteMap(e, map) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (window.confirm(`You are about to remove ${map.toUpperCase()} from your team's Stratbook. If you decide to add this map again, it will not restore the data currently stored. Are you sure?`)) {\r\n      const component = this;\r\n      this.setState({\r\n        loading: true\r\n      });\r\n      axios.defaults.headers.common[\"Authorization\"] = this.props.getAuthToken();\r\n      axios.delete(`/api/strategies/delete/${map.toLowerCase().replace(\" \", \"_\")}`)\r\n        .then((response) => {\r\n          switch (response.data.status) {\r\n            case MAP_DELETED.status:\r\n              component.setState({\r\n                loading: false,\r\n              });\r\n              component.props.alert(\"You have deleted the requested map\", \"SUCCESS\");\r\n              component.fetchStrategies();\r\n              break;\r\n            default:\r\n              component.setState({\r\n                loading: false,\r\n              }, component.props.fetchStrategies);\r\n              component.props.alert(response.data.message, response.data.status);\r\n              break;\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error);\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(ERROR_DELETE_MAP.message, ERROR_DELETE_MAP.status);\r\n        })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      if (this.state.map_name) {\r\n        this.fetchMap();\r\n      } else {\r\n        this.fetchStrategies();\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (this.state.loading) {\r\n      contents = <LoadingModal message=\"Fetching Strategies\"/>\r\n    } else if (this.state.add) {\r\n      contents = (\r\n        <div className=\"add-strategy\">\r\n          <button id=\"cancel\" onClick={this.addMap}>Cancel</button>\r\n          <CreateStrategiesAPI getAuthToken={this.props.getAuthToken} alert={this.props.alert} maps={this.state.maps} fetchStrategies={this.fetchStrategies}/>\r\n        </div>\r\n      )\r\n    } else {\r\n      if (this.state.map_name) {\r\n        if (this.state.hasLoaded && this.state.map) {\r\n          contents = <Editor map={this.state.map} alert={this.props.alert} save={this.updateStrategy} shareStrategy={this.shareStrategy} unshareStrategy={this.unshareStrategy}\r\n          fetchStrategies={this.fetchStrategies} position={this.state.position}/>;\r\n        } else {\r\n          contents = (\r\n            <div>\r\n              <Link className=\"button\" to=\"/strategies\">Back to view</Link>\r\n              <button className=\"button\" onClick={this.addMap}>Add Map</button>\r\n            </div>\r\n          )\r\n        }\r\n      } else {\r\n        const maps = this.state.maps.map((map, index) => {\r\n          return (\r\n            <Link to={`/strategies/edit/${map}`} className=\"map-option\" key={index} style={{ backgroundImage: `url(../../media/min/maps/${map.toUpperCase().replace(\" \", \"_\")}-min.png)` }}\r\n              onClick={() => { this.fetchMap(map) }}>\r\n              <div className=\"map-overlay\">\r\n                { map.toUpperCase().replace(\"_\", \" \") }\r\n              </div>\r\n              <button className=\"delete-button\" onClick={(e) => { this.deleteMap(e, map) }}>&#128465;</button>\r\n            </Link>\r\n          )\r\n        });\r\n        contents = (\r\n          <div className=\"edit-container\">\r\n            <h1>Edit Strategies</h1>\r\n            <Link className=\"button\" to=\"/strategies\">Back to view</Link>\r\n            <div className=\"edit-buttons\">\r\n              <button className=\"button\" onClick={this.addMap}>Add Map</button>\r\n            </div>\r\n            <div className=\"map-selector\">\r\n              { maps.length > 0 ? maps : \"No maps to show.\" }\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"EditStrategiesAPI\">\r\n        { contents }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditStrategiesAPI;\r\n","/* client/src/components/pages/EditStrategies.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport EditStrategiesAPI from \"../api/EditStrategiesAPI.js\";\r\n\r\n/*\r\n  @func: EditStrategies\r\n  @desc: render manage team page\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n*/\r\nconst EditStrategies = (props) => {\r\n  return (\r\n    <div id=\"edit-strategies\">\r\n      <EditStrategiesAPI getAuthToken={props.getAuthToken} alert={props.alert} map={props.map}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditStrategies;\r\n","/* client/src/components/partials/SharedViewerToolbar.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass SharedViewerToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      strategy: (this.props.strategy !== \"\" ? this.props.strategy : \"Unnamed\"),\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.strategy !== this.state.strategy && !this.state.active) {\r\n      this.setState({\r\n        strategy: this.props.strategy\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className={\"toolbar\" + (this.state.nav ? \" toolbar--active\" : \"\")}>\r\n        <h4 className=\"toolbar__strategy\" onClick={this.changeName}>{this.state.strategy}</h4>\r\n        { this.props.type === \"ATTACK\" ? (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\">\r\n              <img className=\"action__img\" src=\"../../media/min/drone.png\" alt=\"Drone\"/>\r\n              <p>Drones ({this.props.drones.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\">\r\n              <img className=\"action__img\" src=\"../../media/min/breach.png\" alt=\"Breach\"/>\r\n              <p>Breaches ({this.props.breaches.length})</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"action-container\">\r\n            <div className=\"action\">\r\n              <img className=\"action__img\" src=\"../../media/min/reinforcement.png\" alt=\"Reinforcement\"/>\r\n              <p>Reinforcements ({this.props.reinforcements.length}/{10})</p>\r\n            </div>\r\n            <div className=\"action\">\r\n              <img className=\"action__img\" src=\"../../media/min/rotate.png\" alt=\"Rotate\"/>\r\n              <p>Rotates ({this.props.rotates.length})</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <h4 className=\"toolbar__label\">Viewing</h4>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SharedViewerToolbar;\r\n","/* client/src/components/partials/SharedViewerSidebar.js */\r\n\r\nimport React from \"react\";\r\n\r\nclass SharedViewerSidebar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleSidebar = this.toggleSidebar.bind(this);\r\n\r\n    this.state = {\r\n      index: 0,\r\n      name: \"\",\r\n      showSidebar: false\r\n    }\r\n  }\r\n  toggleSidebar() {\r\n    this.setState({\r\n      showSidebar: !this.state.showSidebar\r\n    });\r\n  }\r\n  render() {\r\n    const sites = this.props.sites.map((site, index) => {\r\n      return (\r\n        <div className={\"site\" + (this.props.siteIndex === index ? \" site--active\" : \"\")} onClick={() => { this.props.selectSite(index) }} key={index}>\r\n          <span className=\"site__number\">Site {index + 1}</span>\r\n          <p className=\"site__name\">{site}</p>\r\n        </div>\r\n      )\r\n    });\r\n    const scenes = this.props.scenes.map((scene, index) => {\r\n      return (\r\n        <div className={\"scene\" + (this.props.sceneIndex === index ? \" scene--active\" : \"\")}\r\n          onClick={() => {\r\n            if (!this.state.active) {\r\n              this.props.selectScene(index);\r\n            }\r\n          }} key={index}>\r\n          <span className=\"scene__number\">Scene {index + 1}</span>\r\n          <p className=\"scene__name\">{scene.name}</p>\r\n        </div>\r\n      )\r\n    });\r\n    return (\r\n      <div className={\"sidebar\" + (this.state.showSidebar ? \" sidebar--active\" : \"\")}>\r\n        <button onClick={this.toggleSidebar}>&#8594;</button>\r\n        <div className=\"sidebar-body\">\r\n          { this.props.type === \"ATTACK\" ? (\r\n            <div className=\"site-container\">\r\n              <h3 className=\"site-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n              <h4 className=\"site-container__subtitle\">{this.props.strategy}</h4>\r\n              { sites }\r\n            </div>\r\n          ) : (\"\") }\r\n          <div className=\"scene-container\">\r\n            { this.props.type === \"ATTACK\" ? (\r\n              <h3 className=\"scene-container__heading\">Scenes</h3>\r\n            ) : (\r\n              <div>\r\n                <h3 className=\"scene-container__heading\">{this.props.map}: {this.props.type}</h3>\r\n                <h4 className=\"scene-container__subtitle\">{this.props.sites[this.props.siteIndex]}</h4>\r\n              </div>\r\n            )}\r\n            { scenes }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SharedViewerSidebar;\r\n","/* client/src/components/partials/SharedViewerCanvas.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport FloorSelector from \"./FloorSelector.js\";\r\nimport ZoomSelector from \"./ZoomSelector.js\";\r\nimport Pagination from \"./Pagination.js\";\r\nimport ViewerBlueprintForm from \"./ViewerBlueprintForm.js\";\r\nimport ViewerObjectives from \"./ViewerObjectives.js\";\r\n\r\nclass SharedViewerCanvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateZoom = this.updateZoom.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n\r\n    this.state = {\r\n      zoom: 1,\r\n      labels: false\r\n    }\r\n  }\r\n  toggleLabels() {\r\n    this.setState({\r\n      labels: !this.state.labels\r\n    })\r\n  }\r\n  updateZoom(e) {\r\n    this.setState({\r\n      zoom: e.target.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"canvas\">\r\n        <div className=\"canvas__controls\">\r\n          <FloorSelector onChange={this.props.updateFloor} floors={this.props.floors} floor={this.props.floor}/>\r\n          <ZoomSelector onChange={this.updateZoom} zoom={this.state.zoom}/>\r\n          <div className=\"labels\">\r\n            <span>Show Labels</span>\r\n            <input type=\"checkbox\" onChange={this.toggleLabels} checked={this.state.labels}/>\r\n          </div>\r\n          <Pagination onChange={this.props.selectScene} index={this.props.sceneIndex} labels={this.props.scenes}\r\n            activeLabel={this.props.scenes[this.props.sceneIndex].name}/>\r\n        </div>\r\n        <ViewerBlueprintForm type={this.props.type}\r\n          operators={this.props.operators}\r\n          operatorPositions={this.props.operatorPositions}\r\n          gadgets={this.props.gadgets}\r\n          gadgetPositions={this.props.gadgetPositions}\r\n          utility={this.props.utility}\r\n          utilityPositions={this.props.utilityPositions}\r\n          drones={this.props.drones}\r\n          rotates={this.props.rotates}\r\n          reinforcements={this.props.reinforcements}\r\n          map={this.props.map} site={this.props.site} floorIndex={this.props.floorIndex}\r\n          breaches={this.props.breaches}\r\n          floor={this.props.floor}\r\n          zoom={this.state.zoom}\r\n          labels={this.state.labels}/>\r\n        <div className=\"canvas__body\">\r\n          <ViewerObjectives objectives={this.props.objectives}\r\n            notes={this.props.notes} scenes={this.props.scenes} sceneIndex={this.props.sceneIndex}\r\n            video={this.props.video}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SharedViewerCanvas;\r\n","/* client/src/components/partials/SharedViewerLineup.js */\r\n\r\nimport React from \"react\";\r\nimport { clean } from \"diacritic\";\r\nimport { UTILITY_GUIDE } from \"../../data.js\";\r\n\r\nclass SharedViewerLineup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleLineup = this.toggleLineup.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggleLineup() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    })\r\n  }\r\n  render() {\r\n    const lineup = this.props.roles.map((role, index) => {\r\n      return (\r\n        <div className={\"role\" + (this.props.activeOperator === index ? \" role--active\" : \"\")} key={index}>\r\n          <div className=\"role__head\">\r\n            <div className=\"role__options\">\r\n              <p className=\"role__role\">Role: {this.props.roles[index]}</p>\r\n              <p className=\"role__utility\">Utility: {this.props.utility[index]}</p>\r\n            </div>\r\n            <div className=\"role__image\" onClick={() => { this.props.selectOperator(index) }}>\r\n              <p>{this.props.operators[index]}</p>\r\n              <img className=\"role__image\" src={`../../media/min/operators/${clean(this.props.operators[index].toLowerCase())}.png`} alt=\"Operator\"/>\r\n            </div>\r\n          </div>\r\n\r\n          { this.props.activeOperator === index ? (\r\n            <div className=\"role__body\">\r\n              <div>\r\n                { this.props.gadgets[index].gadget && this.props.gadgets[index].count !== 0 ? (\r\n                  <div className=\"role__gadget\">\r\n                    <p>{this.props.gadgets[index].gadget} ({this.props.gadgets[index].count - this.props.gadgetPositions[index].length})</p>\r\n                    <img className=\"role__gadget-image\" src={`../../media/min/gadgets/${this.props.gadgets[index].gadget.toUpperCase().replace(\" \", \"_\").replace(\" \", \"_\")}.png`} alt=\"Gadget\"/>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n              <div>\r\n                { this.props.utility[index] && this.props.utility[index] !== \"UTILITY\" ? (\r\n                  <div className=\"role__utility\">\r\n                    <p>{this.props.utility[index]} ({UTILITY_GUIDE[this.props.utility[index]] - this.props.utilityPositions[index].length})</p>\r\n                    <img className=\"role__utility-image\" src={`../../media/min/utility/${this.props.utility[index].toUpperCase().replace(\" \", \"_\").replace(\" \", \"_\")}.png`} alt=\"Utility\"/>\r\n                  </div>\r\n                ) : \"\"}\r\n              </div>\r\n            </div>\r\n          ) : \"\"}\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div className={\"lineup\" + (this.state.active ? \" lineup--active\" : \"\")}>\r\n        <button onClick={this.toggleLineup}>&#8594;</button>\r\n        <div className=\"lineup-body\">\r\n          <h3>Lineup</h3>\r\n          { lineup }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SharedViewerLineup;\r\n","/* client/components/partials/SharedViewer.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport SharedViewerToolbar from \"./SharedViewerToolbar.js\";\r\nimport SharedViewerSidebar from \"./SharedViewerSidebar.js\";\r\nimport SharedViewerCanvas from \"./SharedViewerCanvas.js\";\r\nimport SharedViewerLineup from \"./SharedViewerLineup.js\";\r\n\r\nimport { SITES, FLOORS } from \"../../data.js\";\r\n\r\n/*\r\n  @func: SharedViewer\r\n  @desc: manage state of new strategies and make requests to server\r\n  @prop map\r\n  @prop save (function)\r\n  @prop getAuthToken: function\r\n  @prop alert: function\r\n  @prop fetchStrategies: function\r\n  @state:\r\n    name: String\r\n*/\r\nclass SharedViewer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.selectSite = this.selectSite.bind(this);\r\n    this.updateFloor = this.updateFloor.bind(this);\r\n\r\n    // Operators\r\n    this.selectOperator = this.selectOperator.bind(this);\r\n\r\n    // Scenes\r\n    this.selectScene = this.selectScene.bind(this);\r\n\r\n    // Handle scroll\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n\r\n    // Declare initial state\r\n    let scenes;\r\n    if (this.props.strategy.type === \"ATTACK\") {\r\n      scenes = this.props.strategy[SITES[this.props.strategy.map][this.props.strategy.siteIndex]];\r\n    } else {\r\n      scenes = this.props.strategy.scenes;\r\n    }\r\n\r\n    this.state = {\r\n      activeOperator: 0,\r\n      sites: SITES[this.props.strategy.map],\r\n      site: SITES[this.props.strategy.map][this.props.strategy.siteIndex],\r\n      siteIndex: this.props.strategy.siteIndex,\r\n      sceneIndex: 0,\r\n      scenes: scenes,\r\n      floors: FLOORS[this.props.strategy.map],\r\n      floorIndex: this.props.strategy.floorIndex,\r\n      strategy: this.props.strategy,\r\n      type: this.props.strategy.type,\r\n      mounted: false\r\n    }\r\n  }\r\n  selectSite(index) {\r\n    let sites = this.state.sites;\r\n    let floorIndex;\r\n    if (sites[index][0] === 'B') {\r\n      floorIndex = 0;\r\n    } else {\r\n      floorIndex = parseInt(sites[index][0]);\r\n    }\r\n    this.setState({\r\n      site: this.state.sites[index],\r\n      siteIndex: index,\r\n      sceneIndex: 0,\r\n      scenes: (this.state.type === \"ATTACK\" ? this.state.map.attack[this.state.strategyIndex][this.state.sites[index]] : this.state.map.defense[this.state.sites[index]][0].scenes),\r\n      strategyIndex: (this.state.type === \"ATTACK\" ? this.state.strategyIndex : 0),\r\n      strategies: (this.state.type === \"ATTACK\" ? this.state.strategies : this.state.map.defense[this.state.sites[index]]),\r\n      floorIndex: floorIndex\r\n    });\r\n  }\r\n  updateFloor(e) {\r\n    this.setState({\r\n      floorIndex: this.state.floors.indexOf(e.target.value)\r\n    });\r\n  }\r\n\r\n  // Operators\r\n  selectOperator(index) {\r\n    this.setState({\r\n      activeOperator: index\r\n    });\r\n  }\r\n\r\n  // Scenes\r\n  selectScene(index) {\r\n    this.setState({\r\n      sceneIndex: index\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.state.mounted) {\r\n      window.addEventListener(\"scroll\", this.handleScroll);\r\n      this.setState({\r\n        mounted: true\r\n      });\r\n    }\r\n  }\r\n  handleScroll(e) {\r\n    const nav = document.querySelector(\"nav.nav\");\r\n    const toolbar = document.querySelector(\"div.toolbar\");\r\n    const main = document.querySelector(\"main\");\r\n    const sidebar = document.querySelector(\"div.sidebar\");\r\n    const lineup = document.querySelector(\"div.lineup\");\r\n    if (window.scrollY > nav.offsetTop + nav.offsetHeight) {\r\n      toolbar.classList.add(\"toolbar--scroll\");\r\n      sidebar.classList.add(\"sidebar--scroll\");\r\n      lineup.classList.add(\"lineup--scroll\");\r\n      main.style.marginTop = toolbar.offsetHeight + \"px\";\r\n    } else {\r\n      toolbar.classList.remove(\"toolbar--scroll\");\r\n      sidebar.classList.remove(\"sidebar--scroll\");\r\n      lineup.classList.remove(\"lineup--scroll\");\r\n      main.style.marginTop = 0;\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"SharedViewer\">\r\n        <SharedViewerToolbar\r\n          strategy={this.state.strategy.name}\r\n          drones={this.state.type === \"ATTACK\" ? (\r\n            this.state.strategy[this.state.site][this.state.sceneIndex].drones) : undefined}\r\n          rotates={this.state.type === \"ATTACK\"? (\r\n            undefined\r\n          ) : (this.state.strategy.rotates)}\r\n          reinforcements={this.state.type === \"ATTACK\" ? (\r\n            undefined\r\n          ) : (this.state.strategy.reinforcements)}\r\n          breaches={(this.state.type === \"ATTACK\" ? (\r\n            this.state.strategy[this.state.site][this.state.sceneIndex].breaches\r\n          ) : undefined)}\r\n          alert={this.props.alert}\r\n          map={this.state.strategy.map}\r\n          type={this.state.type}/>\r\n        <main>\r\n          <SharedViewerSidebar\r\n            map={this.state.strategy.map}\r\n            strategy={this.state.strategy.name}\r\n            sites={this.state.sites}\r\n            selectSite={this.selectSite}\r\n            siteIndex={this.state.siteIndex}\r\n            scenes={this.state.scenes}\r\n            selectScene={this.selectScene}\r\n            sceneIndex={this.state.sceneIndex}\r\n            type={this.state.type}\r\n            alert={this.props.alert}\r\n            />\r\n          <SharedViewerCanvas\r\n            type={this.state.type}\r\n            operators={this.state.strategy.operators}\r\n            operatorPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].operatorPositions) : (\r\n              this.state.strategy.scenes[this.state.sceneIndex].operatorPositions\r\n            ))}\r\n            gadgets={this.state.strategy.gadgets}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.strategy.scenes[this.state.sceneIndex].gadgetPositions\r\n            ))}\r\n            utility={this.state.strategy.utility}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.strategy.scenes[this.state.sceneIndex].utilityPositions\r\n            ))}\r\n            drones={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].drones\r\n            ) : undefined)}\r\n            rotates={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.strategy.rotates)}\r\n            reinforcements={(this.state.type === \"ATTACK\" ? (\r\n              undefined\r\n            ) : this.state.strategy.reinforcements)}\r\n            map={this.state.strategy.map} site={this.state.site} floorIndex={this.state.floorIndex}\r\n            breaches={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].drones\r\n            ) : undefined)}\r\n            floor={this.state.floors[this.state.floorIndex]}\r\n            updateFloor={this.updateFloor}\r\n            floors={this.state.floors}\r\n            objectives={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].objectives\r\n            ) : ( this.state.strategy.scenes[this.state.sceneIndex].objectives))}\r\n            notes={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].notes\r\n            ) : ( this.state.strategy.scenes[this.state.sceneIndex].notes))}\r\n            scenes={this.state.scenes}\r\n            sceneIndex={this.state.sceneIndex}\r\n            selectScene={this.selectScene}\r\n            video={this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].video\r\n            ) : ( this.state.strategy.scenes[this.state.sceneIndex].video )}\r\n            />\r\n          <SharedViewerLineup\r\n            type={this.state.type}\r\n            roles={this.state.strategy.roles}\r\n            operators={this.state.strategy.operators}\r\n            selectOperator={this.selectOperator} activeOperator={this.state.activeOperator}\r\n            gadgets={this.state.strategy.gadgets}\r\n            gadgetPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].gadgetPositions) : (\r\n              this.state.strategy.scenes[this.state.sceneIndex].gadgetPositions\r\n            ))}\r\n            utility={this.state.strategy.utility}\r\n            utilityPositions={(this.state.type === \"ATTACK\" ? (\r\n              this.state.strategy[this.state.site][this.state.sceneIndex].utilityPositions) : (\r\n              this.state.strategy.scenes[this.state.sceneIndex].utilityPositions\r\n            ))}/>\r\n        </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SharedViewer;\r\n","/* client/components/api/SharedStrategiesAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { SHARED_STRATEGY_FOUND } from \"../../messages/messages.js\";\r\nimport { ERROR_VIEW_SHARED_STRATEGY } from \"../../messages/errors.js\";\r\n\r\nimport SharedViewer from \"../partials/SharedViewer.js\";\r\nimport LoadingModal from \"../partials/LoadingModal.js\";\r\n\r\n/*\r\n  @func: SharedStrategiesAPI\r\n  @desc: manage state of strategies page and make requests to server\r\n  @prop alert: function\r\n  @prop shared_key: string\r\n*/\r\nclass SharedStrategiesAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fetchStrategy = this.fetchStrategy.bind(this);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      hasLoaded: false,\r\n      errors: {},\r\n    }\r\n  }\r\n  fetchStrategy(shared_key) {\r\n    const component = this;\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    axios.get(`/api/strategies/shared/${shared_key}`)\r\n      .then((response) => {\r\n      switch (response.data.status) {\r\n        case SHARED_STRATEGY_FOUND.status:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true,\r\n            strategy: response.data.strategy\r\n          });\r\n          break;\r\n          default:\r\n          component.setState({\r\n            loading: false,\r\n            hasLoaded: true\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.setState({\r\n        loading: false,\r\n        hasLoaded: true\r\n      });\r\n      component.props.alert(ERROR_VIEW_SHARED_STRATEGY.message, ERROR_VIEW_SHARED_STRATEGY.status);\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.hasLoaded) {\r\n      this.fetchStrategy(this.props.shared_key);\r\n    }\r\n  }\r\n  render() {\r\n    let contents;\r\n    if (this.state.loading) {\r\n      contents = <LoadingModal message=\"Fetching Strategy\"/>\r\n    } else {\r\n      if (this.state.strategy) {\r\n        if (this.state.hasLoaded) {\r\n          contents = <SharedViewer strategy={this.state.strategy} type={this.state.strategy.type} alert={this.props.alert}/>\r\n        } else {\r\n          contents = \"Waiting for server\";\r\n        }\r\n      } else {\r\n        contents = <Redirect to=\"/dashboard\"/>\r\n      }\r\n    }\r\n    return (\r\n      <div id=\"SharedStrategiesAPI\">\r\n        { contents }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SharedStrategiesAPI;\r\n","/* client/src/components/pages/SharedStrategies.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport SharedStrategiesAPI from \"../api/SharedStrategiesAPI.js\";\r\n\r\n/*\r\n  @func: SharedStrategies\r\n  @desc: render shared strategies page\r\n  @prop shared_key: string\r\n  @prop alert: function\r\n*/\r\nconst SharedStrategies = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"strategies\">\r\n      <SharedStrategiesAPI alert={props.alert} shared_key={props.shared_key}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SharedStrategies;\r\n","/* client/components/pages/NotFound.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: NotFound\r\n  @desc: render 404 page\r\n*/\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"page\" id=\"not-found\">\r\n      The route you requested could not be found.\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFound;\r\n","/* client/components/partials/ForgotPasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: ForgotPasswordForm\r\n  @desc: render ForgotPassword form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop email: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst ForgotPasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"ForgotPassword-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Forgot Password</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"email-field\">\r\n        <label className=\"form__label\" htmlFor=\"email\">Email associated with account</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.email == null ? \"\" : \" form__input--error\")} value={props.email} id=\"email\" type=\"email\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.email : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Send Reset Link</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ForgotPasswordForm;\r\n","/* client/components/api/ForgotPasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { PASSWORD_RESET_LINK_SENT } from \"../../messages/messages.js\";\r\nimport { ERROR_RESET_PASSWORD } from \"../../messages/errors.js\";\r\n\r\nimport ForgotPasswordForm from \"../partials/ForgotPasswordForm.js\";\r\n\r\n/*\r\n  @func: ForgotPasswordAPI\r\n  @desc: manage state of ForgotPassword form and ForgotPassword requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass ForgotPasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.patch(\"/api/users/forgot-password\", {\r\n      email: this.state.email\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PASSWORD_RESET_LINK_SENT.status:\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_RESET_PASSWORD.message, ERROR_RESET_PASSWORD.status);\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"ForgotPasswordAPI\">\r\n          <ForgotPasswordForm onSubmit={this.onSubmit} onChange={this.onChange} email={this.state.email} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ForgotPasswordAPI;\r\n","/* client/src/components/pages/ForgotPassword.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ForgotPasswordAPI from \"../api/ForgotPasswordAPI.js\";\r\n\r\n/*\r\n  @func: Forgot password\r\n  @desc: render forgot password\r\n  @prop alert: function\r\n*/\r\nconst ForgotPassword = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"forgot-password\">\r\n      <ForgotPasswordAPI alert={props.alert}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword;\r\n","/* client/components/partials/ResetPasswordForm.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loading from \"./Loading.js\"\r\n\r\n/*\r\n  @func: ResetPasswordForm\r\n  @desc: render ResetPassword form for user to interact with\r\n  @prop onSubmit: function\r\n  @prop onChange: function\r\n  @prop name: String\r\n  @prop email: String\r\n  @prop password1: String\r\n  @prop password2: String\r\n  @prop platform: String\r\n  @prop errors: Object\r\n  @prop loading: Boolean\r\n*/\r\nconst ResetPasswordForm = (props) => {\r\n  return (\r\n    <form className=\"form\" id=\"ResetPassword-form\" onSubmit={props.onSubmit}>\r\n      <h4 className=\"form__heading\">Reset Password</h4>\r\n      <fieldset className=\"form__fieldset\" id=\"password1-field\">\r\n        <label className=\"form__label\" htmlFor=\"password1\">New Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password1 == null ? \"\" : \" form__input--error\")} value={props.password1} id=\"password1\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password1 : \"\")}</span>\r\n      </fieldset>\r\n      <fieldset className=\"form__fieldset\" id=\"password2-field\">\r\n        <label className=\"form__label\" htmlFor=\"password2\">Confirm Password</label>\r\n        <input onChange={props.onChange} className={\"form__input\" + (props.errors && props.errors.password2 == null ? \"\" : \" form__input--error\")} value={props.password2} id=\"password2\" type=\"password\" required/>\r\n        <span className=\"form__error\">{(props.errors ? props.errors.password2 : \"\")}</span>\r\n      </fieldset>\r\n      { props.loading ? <Loading/> : <button className=\"form__button form__button--submit\" type=\"submit\">Reset Password</button> }\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ResetPasswordForm;\r\n","/* client/components/api/ResetPasswordAPI.js */\r\n\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { PASSWORD_RESET } from \"../../messages/emails.js\";\r\nimport { ERROR_RESET_PASSWORD } from \"../../messages/errors.js\";\r\n\r\nimport ResetPasswordForm from \"../partials/ResetPasswordForm.js\";\r\n\r\n/*\r\n  @func: ResetPasswordAPI\r\n  @desc: manage state of ResetPassword form and ResetPassword requests to server\r\n  @state:\r\n    username: String\r\n    email: String\r\n    password1: String\r\n    password2: String\r\n    platform: String\r\n    errors: Object\r\n    loading: Boolean\r\n*/\r\nclass ResetPasswordAPI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      password1: \"\",\r\n      password2: \"\",\r\n      errors: {}\r\n    }\r\n  }\r\n  /*\r\n    @func: onChange\r\n    @desc: update state of login field\r\n    @param e: Object.Event\r\n  */\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    });\r\n  }\r\n  /*\r\n    @func: onSubmit\r\n    @desc: submit form data to server, rerender page depending on response\r\n    @param e: Object.Event\r\n  */\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const component = this;\r\n    this.setState({\r\n      errors: {},\r\n      loading: true\r\n    });\r\n    axios.patch(\"/api/users/reset-password\", {\r\n      password1: this.state.password1,\r\n      password2: this.state.password2,\r\n      token: this.props.token\r\n    }).then((response) => {\r\n      switch (response.data.status) {\r\n        case PASSWORD_RESET.status:\r\n          component.setState({\r\n            loading: false,\r\n            redirect: \"/login\"\r\n          });\r\n          break;\r\n        default:\r\n          component.setState({\r\n            loading: false,\r\n            errors: response.data.errors,\r\n          });\r\n          component.props.alert(response.data.message, response.data.status);\r\n          break;\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      component.props.alert(ERROR_RESET_PASSWORD.message, ERROR_RESET_PASSWORD.status);\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect}/>\r\n    } else {\r\n      return (\r\n        <div id=\"ResetPasswordAPI\">\r\n          <ResetPasswordForm onSubmit={this.onSubmit} onChange={this.onChange} password={this.state.password} errors={this.state.errors} loading={this.state.loading}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ResetPasswordAPI;\r\n","/* client/src/components/pages/ResetPassword.js */\r\n\r\nimport React from \"react\";\r\n\r\nimport ResetPasswordAPI from \"../api/ResetPasswordAPI.js\";\r\n\r\n/*\r\n  @func: Reset password\r\n  @desc: render Reset password\r\n  @prop alert: function\r\n*/\r\nconst ResetPassword = (props) => {\r\n  return (\r\n    <div className=\"page\" id=\"Reset-password\">\r\n      <ResetPasswordAPI alert={props.alert} token={props.match.params.token}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPassword;\r\n","/* client/components/partials/UserDropdown.js */\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/*\r\n  @func: UserDropdown\r\n  @desc: render user dropdown in navigation bar\r\n  @prop username: String\r\n*/\r\nclass UserDropdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleDropdown = this.toggleDropdown.bind(this);\r\n\r\n    this.state = {\r\n      active: false\r\n    }\r\n  }\r\n  toggleDropdown() {\r\n    this.setState({\r\n      active: !this.state.active\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={\"user-dropdown \" + (this.state.active ? \"user-dropdown--active\" : \"user-dropdown--inactive\")}>\r\n        <img className=\"user-dropdown__icon\" onClick={this.toggleDropdown} alt=\"User Icon\" src=\"../../media/min/User Icon.png\"/>\r\n        <div className=\"user-dropdown__body\">\r\n          <span id=\"user-dropdown-title\">{this.props.username}</span>\r\n          <Link onClick={() => { this.toggleDropdown(); this.props.toggleMenu(); }} className=\"user-dropdown__link\" to=\"/user\">Account</Link>\r\n          <Link onClick={() => { this.toggleDropdown(); this.props.toggleMenu(); }} className=\"user-dropdown__link\" to=\"/logout\" id=\"logout-link\">Logout</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserDropdown;\r\n","/* client/components/partials/Navigation.js */\r\n\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport UserDropdown from \"./UserDropdown.js\";\r\n\r\n/*\r\n  @func: Navigation\r\n  @desc: render dynamic navigation bar\r\n  @prop loggedIn: Boolean\r\n*/\r\nclass Navigation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n\r\n    this.state = {\r\n      first: true,\r\n      active: false,\r\n      loggedIn: this.props.loggedIn\r\n    };\r\n  }\r\n  /*\r\n    @func: toggleMenu\r\n    @desc: toggle state of menu\r\n  */\r\n  toggleMenu() {\r\n    this.setState({\r\n      first: false,\r\n      active: !this.state.active,\r\n      loggedIn: this.props.loggedIn\r\n    });\r\n    if (this.state.active) {\r\n      setTimeout(() => {\r\n        document.querySelector(\"nav.nav\").style.zIndex = 4;\r\n      }, 300);\r\n    } else {\r\n      document.querySelector(\"nav.nav\").style.zIndex = 5;\r\n    }\r\n  }\r\n  /*\r\n    @desc: update loggedIn state if App changes\r\n  */\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.loggedIn !== prevProps.loggedIn) {\r\n      this.setState({\r\n        loggedIn: this.props.loggedIn\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const inactiveClass = (this.state.first ? \"\" : \"nav--inactive\");\r\n    return (\r\n      <nav className={\"nav \" + (this.state.active ? \"nav--active\" : inactiveClass)}>\r\n        <ul className=\"nav__head\">\r\n          <img className=\"nav__image\" alt=\"Logo\" src=\"\"/>\r\n          <h3 className=\"nav__heading\">Stratbook</h3>\r\n          <span className=\"nav__subtitle\">[Beta]</span>\r\n        </ul>\r\n        <ul className=\"nav__body\">\r\n          <li className=\"nav__item\">\r\n            <NavLink exact activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/\">Home</NavLink>\r\n          </li>\r\n          { this.state.loggedIn ? (\r\n            <li className=\"nav__item\">\r\n              <NavLink exact activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/dashboard\">Dashboard</NavLink>\r\n            </li>\r\n          ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn ? \"\" : (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/login\">Login</NavLink>\r\n              </li>\r\n            )\r\n          }\r\n          {\r\n            this.state.loggedIn ? \"\" : (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/register\">Register</NavLink>\r\n              </li>\r\n            )\r\n          }\r\n          {\r\n            this.state.loggedIn ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/team\">Team</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn && this.props.team ? (\r\n              <li className=\"nav__item\">\r\n                <NavLink activeClassName=\"nav__link--active\" onClick={this.toggleMenu} className=\"nav__link\" to=\"/strategies\">Strategies</NavLink>\r\n              </li>\r\n            ) : ( \"\" )\r\n          }\r\n          {\r\n            this.state.loggedIn ? (\r\n              <UserDropdown username={this.props.username} toggleMenu={this.toggleMenu}/>\r\n            ) : ( \"\" )\r\n          }\r\n        </ul>\r\n        <button id=\"nav__button\" onClick={this.toggleMenu}>&#9776;</button>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","/* client/src/components/partials/Alert.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @prop index: Int\r\n  @prop message: String\r\n  @prop status: String\r\n  @prop clearAlert: function\r\n*/\r\n\r\nconst Alert = (props) => {\r\n  return (\r\n    <div className={\"alert\" + (props.status === \"ERROR\" ? \" alert--error\" : \"\") + (props.status === \"SUCCESS\" ? \" alert--success\" : \"\")}>\r\n      <h5 className=\"alert__type\">{props.status}</h5>\r\n      <p className=\"alert__message\">{props.message}</p>\r\n      <button onClick={() => { props.clearAlert(props.index) }} className=\"alert__button\">X</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Alert;\r\n","/* client/components/partials/Footer.js */\r\n\r\nimport React from \"react\";\r\n\r\n/*\r\n  @func: Footer\r\n  @desc: render footer\r\n*/\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      This is a footer.\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","/* client/src/App.js */\r\n\r\nimport React from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\n// import pages\r\nimport Home from \"./components/pages/Home.js\";\r\nimport Login from \"./components/pages/Login.js\";\r\nimport Logout from \"./components/pages/Logout.js\";\r\nimport Register from \"./components/pages/Register.js\";\r\nimport User from \"./components/pages/User.js\";\r\nimport Dashboard from \"./components/pages/Dashboard.js\";\r\nimport Team from \"./components/pages/Team.js\";\r\nimport ManageTeam from \"./components/pages/ManageTeam.js\";\r\nimport Strategies from \"./components/pages/Strategies.js\";\r\nimport EditStrategies from \"./components/pages/EditStrategies.js\";\r\nimport SharedStrategies from \"./components/pages/SharedStrategies.js\";\r\nimport NotFound from \"./components/pages/NotFound.js\";\r\nimport ForgotPassword from \"./components/pages/ForgotPassword.js\";\r\nimport ResetPassword from \"./components/pages/ResetPassword.js\";\r\n\r\n// import presentational components\r\nimport Navigation from \"./components/partials/Navigation.js\";\r\nimport Alert from \"./components/partials/Alert.js\";\r\nimport Header from \"./components/partials/Header.js\";\r\nimport Footer from \"./components/partials/Footer.js\";\r\n\r\nimport \"./css/style.css\";\r\n\r\nimport { TOKEN_ISSUED } from \"./messages/messages.js\";\r\n\r\n/*\r\n  App: root component, used to manage client-side auth and routing\r\n*/\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.login = this.login.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n    this.updateState = this.updateState.bind(this);\r\n    this.setLocalStorage = this.setLocalStorage.bind(this);\r\n    this.clearLocalStorage = this.clearLocalStorage.bind(this);\r\n    this.getAuthToken = this.getAuthToken.bind(this);\r\n    this.updateAuthToken = this.updateAuthToken.bind(this);\r\n    this.alert = this.alert.bind(this);\r\n    this.clearAlert = this.clearAlert.bind(this);\r\n\r\n    this.state = {\r\n      loggedIn: Date.now() < new Date(localStorage.getItem(\"expires\")) ? true : false,\r\n      user: JSON.parse(localStorage.getItem(\"user\")),\r\n      alerts: []\r\n    }\r\n  }\r\n  /*\r\n    login: login a user on the client side\r\n\r\n    token {String}: JWT\r\n    expiresIn {Int}: expiry time for JWT\r\n    user {Object}: user data object to store in localStorage\r\n  */\r\n  login(token, expiresIn, user) {\r\n    this.setLocalStorage(token, expiresIn, user, this.updateState);\r\n    axios.defaults.headers.common[\"Authorization\"] = this.state.token;\r\n  }\r\n  /*\r\n    logout: logout a user on the client side\r\n  */\r\n  logout() {\r\n    this.clearLocalStorage();\r\n    axios.defaults.headers.common[\"Authorization\"] = null;\r\n    this.updateState();\r\n  }\r\n  /*\r\n    updateState: refresh application state of client-side authentication\r\n  */\r\n  updateState() {\r\n    this.setState({\r\n      loggedIn: Date.now() < new Date(localStorage.getItem(\"expires\")) ? true : false,\r\n      user: JSON.parse(localStorage.getItem(\"user\"))\r\n    });\r\n  }\r\n  /*\r\n    setLocalStorage: store token and expiration date in local storage\r\n\r\n    token {String}: JWT\r\n    expiresIn {Int}: expiry time for JWT\r\n    user {Object}: user data object\r\n    callback {function}: function to call after local storage set\r\n  */\r\n  setLocalStorage(token, expiresIn, user, callback) {\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"expires\", new Date(Date.now() + expiresIn).toDateString());\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n    callback();\r\n  }\r\n  /*\r\n    clearLocalStorage: clear token and expiration date in local storage\r\n  */\r\n  clearLocalStorage() {\r\n    localStorage.clear();\r\n  }\r\n  /*\r\n    getAuthToken: get the auth token stored in localStorage\r\n  */\r\n  getAuthToken() {\r\n    return localStorage.getItem(\"token\");\r\n  }\r\n  /*\r\n    updateAuthToken: update the state of client-side auth and data\r\n  */\r\n  updateAuthToken() {\r\n    if (this.state.loggedIn) {\r\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.getItem(\"token\");\r\n      axios.get(\"/api/users/update-token\")\r\n        .then((response) => {\r\n        switch (response.data.status) {\r\n          case TOKEN_ISSUED.status:\r\n            const user = response.data.user;\r\n            this.login(response.data.token, response.data.expiresIn, user);\r\n            break;\r\n          default:\r\n            this.alert(\"An error has occurred whil attempting to authenticate your login.\");\r\n            break;\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        this.alert(\"Your login has expired or become invalid.\");\r\n        this.logout();\r\n      });\r\n    }\r\n  }\r\n  /*\r\n    alert: write a message to the screen\r\n\r\n    msg {String}: msg to display\r\n  */\r\n  alert(msg, status) {\r\n    let newAlerts = [...this.state.alerts];\r\n    newAlerts.push({ message: msg, status: status });\r\n    this.setState({\r\n      alerts: newAlerts\r\n    });\r\n  }\r\n  /*\r\n    clearAlert: clear an alert from the screen\r\n    index {Int}: index of alert to clear\r\n  */\r\n  clearAlert(index) {\r\n    let newAlerts = [...this.state.alerts];\r\n    newAlerts.splice(index, 1);\r\n    this.setState({\r\n      alerts: newAlerts\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.updateAuthToken();\r\n  }\r\n  render() {\r\n    const alerts = this.state.alerts.map((alert, index) => {\r\n      return <Alert clearAlert={this.clearAlert} index={index} message={alert.message} status={alert.status}/>\r\n    });\r\n    return (\r\n      <Router>\r\n        <div className=\"container\">\r\n          <Navigation loggedIn={this.state.loggedIn} username={(this.state.user ? this.state.user.username : \"\")} status={this.state.user ? this.state.user.status : \"\"} team={(this.state.user ? this.state.user.team_code : undefined)}/>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <div className=\"page-wrapper\">\r\n                <Home/>\r\n              </div>\r\n            </Route>\r\n            <Route exact path=\"/user\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <User getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken}\r\n                        logout={this.logout} username={this.state.user.username} email={this.state.user.email}\r\n                        platform={this.state.user.platform} attacker_role={this.state.user.attacker_role}\r\n                        attackers={this.state.user.attackers} defenders={this.state.user.defenders}\r\n                        defender_role={this.state.user.defender_role} alert={this.alert}\r\n                        subscription={this.state.user.subscription}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/dashboard\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Dashboard getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/team\">\r\n              { this.state.loggedIn ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Team getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken}\r\n                        team_code={this.state.user.team_code} alert={this.alert} status={this.state.user.status}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/team/manage\">\r\n              { this.state.loggedIn && this.state.user.status === \"ADMIN\" ? (\r\n                <div className=\"page-wrapper\">\r\n                  <ManageTeam getAuthToken={this.getAuthToken} updateAuthToken={this.updateAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/team\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies\">\r\n              { this.state.loggedIn && this.state.user.team_code ? (\r\n                <div className=\"page-wrapper\">\r\n                  <Strategies team_code={this.state.user.team_code} status={this.state.user.status} getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies/edit\">\r\n              { this.state.loggedIn && (this.state.user.status === \"ADMIN\" || this.state.user.status === \"EDITOR\") ? (\r\n                <div className=\"page-wrapper\">\r\n                  <EditStrategies getAuthToken={this.getAuthToken} alert={this.alert}/>\r\n                </div>\r\n              )\r\n              : ( <Redirect to=\"/strategies\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/strategies/edit/:map\"\r\n              render={(props) => {\r\n                if (this.state.loggedIn && (this.state.user.status === \"ADMIN\" || this.state.user.status === \"EDITOR\")) {\r\n                  const map_name = props.match.params.map.toUpperCase();\r\n                  console.log(props);\r\n                  return (\r\n                    <div className=\"page-wrapper\">\r\n                      <EditStrategies getAuthToken={this.getAuthToken} alert={this.alert} map={map_name} {...props}/>\r\n                    </div>\r\n                  )\r\n                } else {\r\n                  return <Redirect to=\"/strategies\"/>\r\n                }\r\n              }}/>\r\n            <Route exact path=\"/strategies/:map\"\r\n              render={(props) => {\r\n                if (this.state.loggedIn) {\r\n                  const map_name = props.match.params.map.toUpperCase();\r\n                  return (\r\n                    <div className=\"page-wrapper\">\r\n                      <Strategies team_code={this.state.user.team_code} status={this.state.user.status} getAuthToken={this.getAuthToken} alert={this.alert} map={map_name} {...props}/>\r\n                    </div>\r\n                  )\r\n                } else {\r\n                  return <Redirect to=\"/\"/>\r\n                }\r\n              }}/>\r\n            <Route exact path=\"/shared/:shared_key\"\r\n              render={(props) => {\r\n                const shared_key = props.match.params.shared_key;\r\n                return (\r\n                  <div className=\"page-wrapper\">\r\n                    <SharedStrategies shared_key={shared_key} {...props} alert={this.alert}/>\r\n                  </div>\r\n                )\r\n              }}\r\n            />\r\n            <Route exact path=\"/login\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Login login={this.login} alert={this.alert}/>\r\n                </div>\r\n                )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/logout\">\r\n              { this.state.loggedIn ? (\r\n                <Logout logout={this.logout}/>\r\n              )\r\n              : ( <Redirect to=\"/\"/> )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/register\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <Register alert={this.alert}/>\r\n                </div>\r\n                )\r\n              }\r\n            </Route>\r\n            <Route exact path=\"/forgot-password\">\r\n              { this.state.loggedIn ? ( <Redirect to=\"/\"/> )\r\n              : (\r\n                <div className=\"page-wrapper\">\r\n                  <ForgotPassword alert={this.alert}/>\r\n                </div>\r\n              )}\r\n            </Route>\r\n            <Route path=\"/reset-password/:token\"\r\n              render={(props) => (<ResetPassword {...props} alert={this.alert}/>)}/>\r\n            <Route>\r\n              <div className=\"page-wrapper\">\r\n                <Header title=\"Error: 404\"/>\r\n                <NotFound/>\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n          <Footer/>\r\n          <div className=\"alert-container\">\r\n            { alerts }\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if ('serviceWorker' in navigator) {\r\n    window.self.addEventListener(\"push\", event => {\r\n      const data = event.data.json();\r\n      const { title } = data;\r\n\r\n      const body = {\r\n        body: data.body\r\n      }\r\n\r\n      event.waitUntil(window.self.registration.showNotification(title, body));\r\n    });\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swFileName = process.env.NODE_ENV === \"production\" ? \"service-worker.js\" : \"custom-sw.js\";\r\n      const swUrl = `${process.env.PUBLIC_URL}/${swFileName}`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","/* client/index.js */\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App.js\";\r\nimport * as serviceWorker from \"./serviceWorker.js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","/* errors.js */\r\n\r\nmodule.exports = {\r\n  ERROR_ADD_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to add map.\"\r\n  },\r\n  ERROR_ANNOUNCE: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to make announcement.\"\r\n  },\r\n  ERROR_ATTACKERS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set attackers.\"\r\n  },\r\n  ERROR_ATTACKER_ROLE: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set attacker role.\"\r\n  },\r\n  ERROR_BLOCK_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to block user.\"\r\n  },\r\n  ERROR_CREATE_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to create a team.\"\r\n  },\r\n  ERROR_DEFENDERS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set defenders.\"\r\n  },\r\n  ERROR_DEFENDER_ROLE: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to set defender role.\"\r\n  },\r\n  ERROR_DELETE_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete map from Stratbook.\"\r\n  },\r\n  ERROR_DELETE_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete team.\"\r\n  },\r\n  ERROR_DELETE_TEAM_AND_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete user and associated team.\"\r\n  },\r\n  ERROR_DELETE_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to delete user.\"\r\n  },\r\n  ERROR_EMAIL: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update email.\"\r\n  },\r\n  ERROR_FORGOT_PASSWORD: {\r\n    status: \"Error\",\r\n    message: \"An error occured while attempting to send a reset password email.\"\r\n  },\r\n  ERROR_JOIN_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to join team.\"\r\n  },\r\n  ERROR_LEAVE_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to leave team.\"\r\n  },\r\n  ERROR_LOGIN: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to log in.\"\r\n  },\r\n  ERROR_PLATFORM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update platform.\"\r\n  },\r\n  ERROR_PUSH: {\r\n    status: \"ERROR\",\r\n    message: \"An error ocurred while attempting to subscribe to push notifications.\"\r\n  },\r\n  ERROR_REGISTER: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to register.\"\r\n  },\r\n  ERROR_RESET_PASSWORD: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to reset password.\"\r\n  },\r\n  ERROR_SHARED_STRATEGY: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to share strategy.\"\r\n  },\r\n  ERROR_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to find the requested team.\"\r\n  },\r\n  ERROR_TEAM_STATS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to get team statistics.\"\r\n  },\r\n  ERROR_UNBLOCK_USER: {\r\n    status: \"ERROR\",\r\n    message: \"An error has occurred while attempting to unblock a user.\"\r\n  },\r\n  ERROR_UNSHARE_STRATEGY: {\r\n    status: \"ERROR\",\r\n    message: \"An error has occurred while attempting to unshared a strategy.\"\r\n  },\r\n  ERROR_UPDATE_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error has occurred while attempting to update map.\"\r\n  },\r\n  ERROR_UPDATE_PASSWORD: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update password.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_MMR: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team mmr.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_NAME: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team name.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_PLATFORM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team platform.\"\r\n  },\r\n  ERROR_UPDATE_TEAM_STATUS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update team status.\"\r\n  },\r\n  ERROR_UPDATE_USER_STATUS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update the status of the provided user.\"\r\n  },\r\n  ERROR_USERNAME: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to update username.\"\r\n  },\r\n  ERROR_VIEW_BLOCKED_USERS: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view blocked users.\"\r\n  },\r\n  ERROR_VIEW_MAP: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view the requested map.\"\r\n  },\r\n  ERROR_VIEW_SHARED_STRATEGY: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view the requested shared strategy.\"\r\n  },\r\n  ERROR_VIEW_STRATEGIES: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view strategies.\"\r\n  },\r\n  ERROR_VIEW_TEAM: {\r\n    status: \"ERROR\",\r\n    message: \"An error occurred while attempting to view team.\"\r\n  }\r\n}\r\n"],"sourceRoot":""}